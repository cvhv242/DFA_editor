(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))y(A);new MutationObserver(A=>{for(const k of A)if(k.type==="childList")for(const L of k.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&y(L)}).observe(document,{childList:!0,subtree:!0});function p(A){const k={};return A.integrity&&(k.integrity=A.integrity),A.referrerPolicy&&(k.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?k.credentials="include":A.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function y(A){if(A.ep)return;A.ep=!0;const k=p(A);fetch(A.href,k)}})();function m_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dc={exports:{}},an={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd;function ag(){if(Hd)return an;Hd=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function p(y,A,k){var L=null;if(k!==void 0&&(L=""+k),A.key!==void 0&&(L=""+A.key),"key"in A){k={};for(var l in A)l!=="key"&&(k[l]=A[l])}else k=A;return A=k.ref,{$$typeof:r,type:y,key:L,ref:A!==void 0?A:null,props:k}}return an.Fragment=c,an.jsx=p,an.jsxs=p,an}var Nd;function lg(){return Nd||(Nd=1,dc.exports=ag()),dc.exports}var ee=lg(),_c={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function og(){if(zd)return Se;zd=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),L=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,C={};function a(E,T,F){this.props=E,this.context=T,this.refs=C,this.updater=F||x}a.prototype.isReactComponent={},a.prototype.setState=function(E,T){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,T,"setState")},a.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function o(){}o.prototype=a.prototype;function f(E,T,F){this.props=E,this.context=T,this.refs=C,this.updater=F||x}var d=f.prototype=new o;d.constructor=f,D(d,a.prototype),d.isPureReactComponent=!0;var g=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function H(E,T,F,W,Z,ae){return F=ae.ref,{$$typeof:r,type:E,key:T,ref:F!==void 0?F:null,props:ae}}function b(E,T){return H(E.type,T,void 0,void 0,void 0,E.props)}function B(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}function I(E){var T={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(F){return T[F]})}var Y=/\/+/g;function $(E,T){return typeof E=="object"&&E!==null&&E.key!=null?I(""+E.key):T.toString(36)}function X(){}function q(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(X,X):(E.status="pending",E.then(function(T){E.status==="pending"&&(E.status="fulfilled",E.value=T)},function(T){E.status==="pending"&&(E.status="rejected",E.reason=T)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function G(E,T,F,W,Z){var ae=typeof E;(ae==="undefined"||ae==="boolean")&&(E=null);var he=!1;if(E===null)he=!0;else switch(ae){case"bigint":case"string":case"number":he=!0;break;case"object":switch(E.$$typeof){case r:case c:he=!0;break;case m:return he=E._init,G(he(E._payload),T,F,W,Z)}}if(he)return Z=Z(E),he=W===""?"."+$(E,0):W,g(Z)?(F="",he!=null&&(F=he.replace(Y,"$&/")+"/"),G(Z,T,F,"",function(ne){return ne})):Z!=null&&(B(Z)&&(Z=b(Z,F+(Z.key==null||E&&E.key===Z.key?"":(""+Z.key).replace(Y,"$&/")+"/")+he)),T.push(Z)),1;he=0;var U=W===""?".":W+":";if(g(E))for(var V=0;V<E.length;V++)W=E[V],ae=U+$(W,V),he+=G(W,T,F,ae,Z);else if(V=S(E),typeof V=="function")for(E=V.call(E),V=0;!(W=E.next()).done;)W=W.value,ae=U+$(W,V++),he+=G(W,T,F,ae,Z);else if(ae==="object"){if(typeof E.then=="function")return G(q(E),T,F,W,Z);throw T=String(E),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return he}function z(E,T,F){if(E==null)return E;var W=[],Z=0;return G(E,W,"","",function(ae){return T.call(F,ae,Z++)}),W}function P(E){if(E._status===-1){var T=E._result;T=T(),T.then(function(F){(E._status===0||E._status===-1)&&(E._status=1,E._result=F)},function(F){(E._status===0||E._status===-1)&&(E._status=2,E._result=F)}),E._status===-1&&(E._status=0,E._result=T)}if(E._status===1)return E._result.default;throw E._result}var M=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function N(){}return Se.Children={map:z,forEach:function(E,T,F){z(E,function(){T.apply(this,arguments)},F)},count:function(E){var T=0;return z(E,function(){T++}),T},toArray:function(E){return z(E,function(T){return T})||[]},only:function(E){if(!B(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Se.Component=a,Se.Fragment=p,Se.Profiler=A,Se.PureComponent=f,Se.StrictMode=y,Se.Suspense=u,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Se.__COMPILER_RUNTIME={__proto__:null,c:function(E){return w.H.useMemoCache(E)}},Se.cache=function(E){return function(){return E.apply(null,arguments)}},Se.cloneElement=function(E,T,F){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var W=D({},E.props),Z=E.key,ae=void 0;if(T!=null)for(he in T.ref!==void 0&&(ae=void 0),T.key!==void 0&&(Z=""+T.key),T)!R.call(T,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&T.ref===void 0||(W[he]=T[he]);var he=arguments.length-2;if(he===1)W.children=F;else if(1<he){for(var U=Array(he),V=0;V<he;V++)U[V]=arguments[V+2];W.children=U}return H(E.type,Z,void 0,void 0,ae,W)},Se.createContext=function(E){return E={$$typeof:L,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:k,_context:E},E},Se.createElement=function(E,T,F){var W,Z={},ae=null;if(T!=null)for(W in T.key!==void 0&&(ae=""+T.key),T)R.call(T,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Z[W]=T[W]);var he=arguments.length-2;if(he===1)Z.children=F;else if(1<he){for(var U=Array(he),V=0;V<he;V++)U[V]=arguments[V+2];Z.children=U}if(E&&E.defaultProps)for(W in he=E.defaultProps,he)Z[W]===void 0&&(Z[W]=he[W]);return H(E,ae,void 0,void 0,null,Z)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(E){return{$$typeof:l,render:E}},Se.isValidElement=B,Se.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:P}},Se.memo=function(E,T){return{$$typeof:h,type:E,compare:T===void 0?null:T}},Se.startTransition=function(E){var T=w.T,F={};w.T=F;try{var W=E(),Z=w.S;Z!==null&&Z(F,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(N,M)}catch(ae){M(ae)}finally{w.T=T}},Se.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Se.use=function(E){return w.H.use(E)},Se.useActionState=function(E,T,F){return w.H.useActionState(E,T,F)},Se.useCallback=function(E,T){return w.H.useCallback(E,T)},Se.useContext=function(E){return w.H.useContext(E)},Se.useDebugValue=function(){},Se.useDeferredValue=function(E,T){return w.H.useDeferredValue(E,T)},Se.useEffect=function(E,T,F){var W=w.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(E,T)},Se.useId=function(){return w.H.useId()},Se.useImperativeHandle=function(E,T,F){return w.H.useImperativeHandle(E,T,F)},Se.useInsertionEffect=function(E,T){return w.H.useInsertionEffect(E,T)},Se.useLayoutEffect=function(E,T){return w.H.useLayoutEffect(E,T)},Se.useMemo=function(E,T){return w.H.useMemo(E,T)},Se.useOptimistic=function(E,T){return w.H.useOptimistic(E,T)},Se.useReducer=function(E,T,F){return w.H.useReducer(E,T,F)},Se.useRef=function(E){return w.H.useRef(E)},Se.useState=function(E){return w.H.useState(E)},Se.useSyncExternalStore=function(E,T,F){return w.H.useSyncExternalStore(E,T,F)},Se.useTransition=function(){return w.H.useTransition()},Se.version="19.1.0",Se}var Ud;function Hc(){return Ud||(Ud=1,_c.exports=og()),_c.exports}var Te=Hc();const cg=m_(Te);var vc={exports:{}},ln={},gc={exports:{}},pc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function ug(){return jd||(jd=1,function(r){function c(z,P){var M=z.length;z.push(P);e:for(;0<M;){var N=M-1>>>1,E=z[N];if(0<A(E,P))z[N]=P,z[M]=E,M=N;else break e}}function p(z){return z.length===0?null:z[0]}function y(z){if(z.length===0)return null;var P=z[0],M=z.pop();if(M!==P){z[0]=M;e:for(var N=0,E=z.length,T=E>>>1;N<T;){var F=2*(N+1)-1,W=z[F],Z=F+1,ae=z[Z];if(0>A(W,M))Z<E&&0>A(ae,W)?(z[N]=ae,z[Z]=M,N=Z):(z[N]=W,z[F]=M,N=F);else if(Z<E&&0>A(ae,M))z[N]=ae,z[Z]=M,N=Z;else break e}}return P}function A(z,P){var M=z.sortIndex-P.sortIndex;return M!==0?M:z.id-P.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var k=performance;r.unstable_now=function(){return k.now()}}else{var L=Date,l=L.now();r.unstable_now=function(){return L.now()-l}}var u=[],h=[],m=1,v=null,S=3,x=!1,D=!1,C=!1,a=!1,o=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;function g(z){for(var P=p(h);P!==null;){if(P.callback===null)y(h);else if(P.startTime<=z)y(h),P.sortIndex=P.expirationTime,c(u,P);else break;P=p(h)}}function w(z){if(C=!1,g(z),!D)if(p(u)!==null)D=!0,R||(R=!0,$());else{var P=p(h);P!==null&&G(w,P.startTime-z)}}var R=!1,H=-1,b=5,B=-1;function I(){return a?!0:!(r.unstable_now()-B<b)}function Y(){if(a=!1,R){var z=r.unstable_now();B=z;var P=!0;try{e:{D=!1,C&&(C=!1,f(H),H=-1),x=!0;var M=S;try{t:{for(g(z),v=p(u);v!==null&&!(v.expirationTime>z&&I());){var N=v.callback;if(typeof N=="function"){v.callback=null,S=v.priorityLevel;var E=N(v.expirationTime<=z);if(z=r.unstable_now(),typeof E=="function"){v.callback=E,g(z),P=!0;break t}v===p(u)&&y(u),g(z)}else y(u);v=p(u)}if(v!==null)P=!0;else{var T=p(h);T!==null&&G(w,T.startTime-z),P=!1}}break e}finally{v=null,S=M,x=!1}P=void 0}}finally{P?$():R=!1}}}var $;if(typeof d=="function")$=function(){d(Y)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,q=X.port2;X.port1.onmessage=Y,$=function(){q.postMessage(null)}}else $=function(){o(Y,0)};function G(z,P){H=o(function(){z(r.unstable_now())},P)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(z){switch(S){case 1:case 2:case 3:var P=3;break;default:P=S}var M=S;S=P;try{return z()}finally{S=M}},r.unstable_requestPaint=function(){a=!0},r.unstable_runWithPriority=function(z,P){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var M=S;S=z;try{return P()}finally{S=M}},r.unstable_scheduleCallback=function(z,P,M){var N=r.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?N+M:N):M=N,z){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=M+E,z={id:m++,callback:P,priorityLevel:z,startTime:M,expirationTime:E,sortIndex:-1},M>N?(z.sortIndex=M,c(h,z),p(u)===null&&z===p(h)&&(C?(f(H),H=-1):C=!0,G(w,M-N))):(z.sortIndex=E,c(u,z),D||x||(D=!0,R||(R=!0,$()))),z},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(z){var P=S;return function(){var M=S;S=P;try{return z.apply(this,arguments)}finally{S=M}}}}(pc)),pc}var qd;function hg(){return qd||(qd=1,gc.exports=ug()),gc.exports}var mc={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function fg(){if(Id)return ct;Id=1;var r=Hc();function c(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var y={d:{f:p,r:function(){throw Error(c(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},A=Symbol.for("react.portal");function k(u,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:v==null?null:""+v,children:u,containerInfo:h,implementation:m}}var L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,ct.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(c(299));return k(u,h,null,m)},ct.flushSync=function(u){var h=L.T,m=y.p;try{if(L.T=null,y.p=2,u)return u()}finally{L.T=h,y.p=m,y.d.f()}},ct.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,y.d.C(u,h))},ct.prefetchDNS=function(u){typeof u=="string"&&y.d.D(u)},ct.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,v=l(m,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?y.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:x}):m==="script"&&y.d.X(u,{crossOrigin:v,integrity:S,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ct.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=l(h.as,h.crossOrigin);y.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&y.d.M(u)},ct.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,v=l(m,h.crossOrigin);y.d.L(u,m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ct.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=l(h.as,h.crossOrigin);y.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else y.d.m(u)},ct.requestFormReset=function(u){y.d.r(u)},ct.unstable_batchedUpdates=function(u,h){return u(h)},ct.useFormState=function(u,h,m){return L.H.useFormState(u,h,m)},ct.useFormStatus=function(){return L.H.useHostTransitionStatus()},ct.version="19.1.0",ct}var Pd;function dg(){if(Pd)return mc.exports;Pd=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),mc.exports=fg(),mc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d;function _g(){if($d)return ln;$d=1;var r=hg(),c=Hc(),p=dg();function y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function k(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function L(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(k(e)!==e)throw Error(y(188))}function u(e){var t=e.alternate;if(!t){if(t=k(e),t===null)throw Error(y(188));return t!==e?null:e}for(var i=e,s=t;;){var n=i.return;if(n===null)break;var _=n.alternate;if(_===null){if(s=n.return,s!==null){i=s;continue}break}if(n.child===_.child){for(_=n.child;_;){if(_===i)return l(n),e;if(_===s)return l(n),t;_=_.sibling}throw Error(y(188))}if(i.return!==s.return)i=n,s=_;else{for(var O=!1,j=n.child;j;){if(j===i){O=!0,i=n,s=_;break}if(j===s){O=!0,s=n,i=_;break}j=j.sibling}if(!O){for(j=_.child;j;){if(j===i){O=!0,i=_,s=n;break}if(j===s){O=!0,s=_,i=n;break}j=j.sibling}if(!O)throw Error(y(189))}}if(i.alternate!==s)throw Error(y(190))}if(i.tag!==3)throw Error(y(188));return i.stateNode.current===i?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case a:return"Profiler";case C:return"StrictMode";case w:return"Suspense";case R:return"SuspenseList";case B:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case d:return(e.displayName||"Context")+".Provider";case f:return(e._context.displayName||"Context")+".Consumer";case g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}var G=Array.isArray,z=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},N=[],E=-1;function T(e){return{current:e}}function F(e){0>E||(e.current=N[E],N[E]=null,E--)}function W(e,t){E++,N[E]=e.current,e.current=t}var Z=T(null),ae=T(null),he=T(null),U=T(null);function V(e,t){switch(W(he,t),W(ae,e),W(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?cd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=cd(t),e=ud(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(Z),W(Z,e)}function ne(){F(Z),F(ae),F(he)}function oe(e){e.memoizedState!==null&&W(U,e);var t=Z.current,i=ud(t,e.type);t!==i&&(W(ae,e),W(Z,i))}function pe(e){ae.current===e&&(F(Z),F(ae)),U.current===e&&(F(U),en._currentValue=M)}var fe=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,at=r.unstable_shouldYield,yi=r.unstable_requestPaint,me=r.unstable_now,Xi=r.unstable_getCurrentPriorityLevel,gs=r.unstable_ImmediatePriority,ps=r.unstable_UserBlockingPriority,Si=r.unstable_NormalPriority,ms=r.unstable_LowPriority,ut=r.unstable_IdlePriority,Gi=r.log,Mt=r.unstable_setDisableYieldValue,qt=null,et=null;function tt(e){if(typeof Gi=="function"&&Mt(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(qt,e)}catch{}}var it=Math.clz32?Math.clz32:Ue,Xt=Math.log,Ki=Math.LN2;function Ue(e){return e>>>=0,e===0?32:31-(Xt(e)/Ki|0)|0}var ys=256,Cn=4194304;function Vi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var n=0,_=e.suspendedLanes,O=e.pingedLanes;e=e.warmLanes;var j=s&134217727;return j!==0?(s=j&~_,s!==0?n=Vi(s):(O&=j,O!==0?n=Vi(O):i||(i=j&~e,i!==0&&(n=Vi(i))))):(j=s&~_,j!==0?n=Vi(j):O!==0?n=Vi(O):i||(i=s&~e,i!==0&&(n=Vi(i)))),n===0?0:t!==0&&t!==n&&(t&_)===0&&(_=n&-n,i=t&-t,_>=i||_===32&&(i&4194048)!==0)?t:n}function cr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function G_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yc(){var e=ys;return ys<<=1,(ys&4194048)===0&&(ys=256),e}function Xc(){var e=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),e}function tl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ur(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function K_(e,t,i,s,n,_){var O=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var j=e.entanglements,K=e.expirationTimes,ie=e.hiddenUpdates;for(i=O&~i;0<i;){var le=31-it(i),ue=1<<le;j[le]=0,K[le]=-1;var se=ie[le];if(se!==null)for(ie[le]=null,le=0;le<se.length;le++){var re=se[le];re!==null&&(re.lane&=-536870913)}i&=~ue}s!==0&&Gc(e,s,0),_!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=_&~(O&~t))}function Gc(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-it(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&4194090}function Kc(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-it(i),n=1<<s;n&t|e[s]&t&&(e[s]|=t),i&=~n}}function il(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function sl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vc(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Rd(e.type))}function V_(e,t){var i=P.p;try{return P.p=e,t()}finally{P.p=i}}var bi=Math.random().toString(36).slice(2),lt="__reactFiber$"+bi,gt="__reactProps$"+bi,Ss="__reactContainer$"+bi,rl="__reactEvents$"+bi,W_="__reactListeners$"+bi,Q_="__reactHandles$"+bi,Wc="__reactResources$"+bi,hr="__reactMarker$"+bi;function nl(e){delete e[lt],delete e[gt],delete e[rl],delete e[W_],delete e[Q_]}function bs(e){var t=e[lt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ss]||i[lt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=_d(e);e!==null;){if(i=e[lt])return i;e=_d(e)}return t}e=i,i=e.parentNode}return null}function Cs(e){if(e=e[lt]||e[Ss]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function fr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(y(33))}function ws(e){var t=e[Wc];return t||(t=e[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[hr]=!0}var Qc=new Set,Zc={};function Wi(e,t){xs(e,t),xs(e+"Capture",t)}function xs(e,t){for(Zc[e]=t,e=0;e<t.length;e++)Qc.add(t[e])}var Z_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jc={},eu={};function J_(e){return fe.call(eu,e)?!0:fe.call(Jc,e)?!1:Z_.test(e)?eu[e]=!0:(Jc[e]=!0,!1)}function xn(e,t,i){if(J_(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function En(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ei(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}var al,tu;function Es(e){if(al===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);al=t&&t[1]||"",tu=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+al+e+tu}var ll=!1;function ol(e,t){if(!e||ll)return"";ll=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var se=re}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(re){se=re}e.call(ue.prototype)}}else{try{throw Error()}catch(re){se=re}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&se&&typeof re.stack=="string")return[re.stack,se.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=s.DetermineComponentFrameRoot(),O=_[0],j=_[1];if(O&&j){var K=O.split(`
`),ie=j.split(`
`);for(n=s=0;s<K.length&&!K[s].includes("DetermineComponentFrameRoot");)s++;for(;n<ie.length&&!ie[n].includes("DetermineComponentFrameRoot");)n++;if(s===K.length||n===ie.length)for(s=K.length-1,n=ie.length-1;1<=s&&0<=n&&K[s]!==ie[n];)n--;for(;1<=s&&0<=n;s--,n--)if(K[s]!==ie[n]){if(s!==1||n!==1)do if(s--,n--,0>n||K[s]!==ie[n]){var le=`
`+K[s].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=s&&0<=n);break}}}finally{ll=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Es(i):""}function ev(e){switch(e.tag){case 26:case 27:case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return ol(e.type,!1);case 11:return ol(e.type.render,!1);case 1:return ol(e.type,!0);case 31:return Es("Activity");default:return""}}function iu(e){try{var t="";do t+=ev(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function su(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tv(e){var t=su(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var n=i.get,_=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(O){s=""+O,_.call(this,O)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(O){s=""+O},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function An(e){e._valueTracker||(e._valueTracker=tv(e))}function ru(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=su(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Dn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iv=/[\n"\\]/g;function Lt(e){return e.replace(iv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function cl(e,t,i,s,n,_,O,j){e.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.type=O:e.removeAttribute("type"),t!=null?O==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):O!=="submit"&&O!=="reset"||e.removeAttribute("value"),t!=null?ul(e,O,Bt(t)):i!=null?ul(e,O,Bt(i)):s!=null&&e.removeAttribute("value"),n==null&&_!=null&&(e.defaultChecked=!!_),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+Bt(j):e.removeAttribute("name")}function nu(e,t,i,s,n,_,O,j){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),t!=null||i!=null){if(!(_!=="submit"&&_!=="reset"||t!=null))return;i=i!=null?""+Bt(i):"",t=t!=null?""+Bt(t):i,j||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=j?e.checked:!!s,e.defaultChecked=!!s,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(e.name=O)}function ul(e,t,i){t==="number"&&Dn(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function As(e,t,i,s){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Bt(i),t=null,n=0;n<e.length;n++){if(e[n].value===i){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function au(e,t,i){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Bt(i):""}function lu(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(y(92));if(G(s)){if(1<s.length)throw Error(y(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Bt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s)}function Ds(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var sv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ou(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||sv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function cu(e,t,i){if(t!=null&&typeof t!="object")throw Error(y(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&i[n]!==s&&ou(e,n,s)}else for(var _ in t)t.hasOwnProperty(_)&&ou(e,_,t[_])}function hl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tn(e){return nv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var fl=null;function dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,Rs=null;function uu(e){var t=Cs(e);if(t&&(e=t.stateNode)){var i=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(cl(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var n=s[gt]||null;if(!n)throw Error(y(90));cl(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&ru(s)}break e;case"textarea":au(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&As(e,!!i.multiple,t,!1)}}}var _l=!1;function hu(e,t,i){if(_l)return e(t,i);_l=!0;try{var s=e(t);return s}finally{if(_l=!1,(Ts!==null||Rs!==null)&&(da(),Ts&&(t=Ts,e=Rs,Rs=Ts=null,uu(t),e)))for(t=0;t<e.length;t++)uu(e[t])}}function dr(e,t){var i=e.stateNode;if(i===null)return null;var s=i[gt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(y(231,t,typeof i));return i}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=!1;if(ti)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){vl=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{vl=!1}var Ci=null,gl=null,Rn=null;function fu(){if(Rn)return Rn;var e,t=gl,i=t.length,s,n="value"in Ci?Ci.value:Ci.textContent,_=n.length;for(e=0;e<i&&t[e]===n[e];e++);var O=i-e;for(s=1;s<=O&&t[i-s]===n[_-s];s++);return Rn=n.slice(e,1<s?1-s:void 0)}function Mn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bn(){return!0}function du(){return!1}function pt(e){function t(i,s,n,_,O){this._reactName=i,this._targetInst=n,this.type=s,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(i=e[j],this[j]=i?i(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Bn:du,this.isPropagationStopped=du,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),t}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ln=pt(Qi),vr=m({},Qi,{view:0,detail:0}),av=pt(vr),pl,ml,gr,On=m({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(pl=e.screenX-gr.screenX,ml=e.screenY-gr.screenY):ml=pl=0,gr=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),_u=pt(On),lv=m({},On,{dataTransfer:0}),ov=pt(lv),cv=m({},vr,{relatedTarget:0}),yl=pt(cv),uv=m({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),hv=pt(uv),fv=m({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dv=pt(fv),_v=m({},Qi,{data:0}),vu=pt(_v),vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pv[e])?!!t[e]:!1}function Sl(){return mv}var yv=m({},vr,{key:function(e){if(e.key){var t=vv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sl,charCode:function(e){return e.type==="keypress"?Mn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sv=pt(yv),bv=m({},On,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=pt(bv),Cv=m({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sl}),wv=pt(Cv),xv=m({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ev=pt(xv),Av=m({},On,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=pt(Av),Tv=m({},Qi,{newState:0,oldState:0}),Rv=pt(Tv),Mv=[9,13,27,32],bl=ti&&"CompositionEvent"in window,pr=null;ti&&"documentMode"in document&&(pr=document.documentMode);var Bv=ti&&"TextEvent"in window&&!pr,pu=ti&&(!bl||pr&&8<pr&&11>=pr),mu=" ",yu=!1;function Su(e,t){switch(e){case"keyup":return Mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function Lv(e,t){switch(e){case"compositionend":return bu(t);case"keypress":return t.which!==32?null:(yu=!0,mu);case"textInput":return e=t.data,e===mu&&yu?null:e;default:return null}}function Ov(e,t){if(Ms)return e==="compositionend"||!bl&&Su(e,t)?(e=fu(),Rn=gl=Ci=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pu&&t.locale!=="ko"?null:t.data;default:return null}}var kv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kv[e.type]:t==="textarea"}function wu(e,t,i,s){Ts?Rs?Rs.push(s):Rs=[s]:Ts=s,t=ya(t,"onChange"),0<t.length&&(i=new Ln("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var mr=null,yr=null;function Hv(e){rd(e,0)}function kn(e){var t=fr(e);if(ru(t))return e}function xu(e,t){if(e==="change")return t}var Eu=!1;if(ti){var Cl;if(ti){var wl="oninput"in document;if(!wl){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),wl=typeof Au.oninput=="function"}Cl=wl}else Cl=!1;Eu=Cl&&(!document.documentMode||9<document.documentMode)}function Du(){mr&&(mr.detachEvent("onpropertychange",Tu),yr=mr=null)}function Tu(e){if(e.propertyName==="value"&&kn(yr)){var t=[];wu(t,yr,e,dl(e)),hu(Hv,t)}}function Nv(e,t,i){e==="focusin"?(Du(),mr=t,yr=i,mr.attachEvent("onpropertychange",Tu)):e==="focusout"&&Du()}function zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kn(yr)}function Uv(e,t){if(e==="click")return kn(t)}function jv(e,t){if(e==="input"||e==="change")return kn(t)}function qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:qv;function Sr(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var n=i[s];if(!fe.call(t,n)||!Ct(e[n],t[n]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mu(e,t){var i=Ru(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ru(i)}}function Bu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Dn(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Dn(e.document)}return t}function xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Iv=ti&&"documentMode"in document&&11>=document.documentMode,Bs=null,El=null,br=null,Al=!1;function Ou(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Al||Bs==null||Bs!==Dn(s)||(s=Bs,"selectionStart"in s&&xl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),br&&Sr(br,s)||(br=s,s=ya(El,"onSelect"),0<s.length&&(t=new Ln("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Bs)))}function Zi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ls={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},Dl={},ku={};ti&&(ku=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Ji(e){if(Dl[e])return Dl[e];if(!Ls[e])return e;var t=Ls[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ku)return Dl[e]=t[i];return e}var Hu=Ji("animationend"),Nu=Ji("animationiteration"),zu=Ji("animationstart"),Pv=Ji("transitionrun"),$v=Ji("transitionstart"),Fv=Ji("transitioncancel"),Uu=Ji("transitionend"),ju=new Map,Tl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tl.push("scrollEnd");function It(e,t){ju.set(e,t),Wi(t,[e])}var qu=new WeakMap;function Ot(e,t){if(typeof e=="object"&&e!==null){var i=qu.get(e);return i!==void 0?i:(t={value:e,source:t,stack:iu(t)},qu.set(e,t),t)}return{value:e,source:t,stack:iu(t)}}var kt=[],Os=0,Rl=0;function Hn(){for(var e=Os,t=Rl=Os=0;t<e;){var i=kt[t];kt[t++]=null;var s=kt[t];kt[t++]=null;var n=kt[t];kt[t++]=null;var _=kt[t];if(kt[t++]=null,s!==null&&n!==null){var O=s.pending;O===null?n.next=n:(n.next=O.next,O.next=n),s.pending=n}_!==0&&Iu(i,n,_)}}function Nn(e,t,i,s){kt[Os++]=e,kt[Os++]=t,kt[Os++]=i,kt[Os++]=s,Rl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ml(e,t,i,s){return Nn(e,t,i,s),zn(e)}function ks(e,t){return Nn(e,null,null,t),zn(e)}function Iu(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var n=!1,_=e.return;_!==null;)_.childLanes|=i,s=_.alternate,s!==null&&(s.childLanes|=i),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(n=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,n&&t!==null&&(n=31-it(i),e=_.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=i|536870912),_):null}function zn(e){if(50<Xr)throw Xr=0,zo=null,Error(y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Hs={};function Yv(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,i,s){return new Yv(e,t,i,s)}function Bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ii(e,t){var i=e.alternate;return i===null?(i=wt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Pu(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Un(e,t,i,s,n,_){var O=0;if(s=e,typeof e=="function")Bl(e)&&(O=1);else if(typeof e=="string")O=G0(e,i,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case B:return e=wt(31,i,t,n),e.elementType=B,e.lanes=_,e;case D:return es(i.children,n,_,t);case C:O=8,n|=24;break;case a:return e=wt(12,i,t,n|2),e.elementType=a,e.lanes=_,e;case w:return e=wt(13,i,t,n),e.elementType=w,e.lanes=_,e;case R:return e=wt(19,i,t,n),e.elementType=R,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case o:case d:O=10;break e;case f:O=9;break e;case g:O=11;break e;case H:O=14;break e;case b:O=16,s=null;break e}O=29,i=Error(y(130,e===null?"null":typeof e,"")),s=null}return t=wt(O,i,t,n),t.elementType=e,t.type=s,t.lanes=_,t}function es(e,t,i,s){return e=wt(7,e,s,t),e.lanes=i,e}function Ll(e,t,i){return e=wt(6,e,null,t),e.lanes=i,e}function Ol(e,t,i){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ns=[],zs=0,jn=null,qn=0,Ht=[],Nt=0,ts=null,si=1,ri="";function is(e,t){Ns[zs++]=qn,Ns[zs++]=jn,jn=e,qn=t}function $u(e,t,i){Ht[Nt++]=si,Ht[Nt++]=ri,Ht[Nt++]=ts,ts=e;var s=si;e=ri;var n=32-it(s)-1;s&=~(1<<n),i+=1;var _=32-it(t)+n;if(30<_){var O=n-n%5;_=(s&(1<<O)-1).toString(32),s>>=O,n-=O,si=1<<32-it(t)+n|i<<n|s,ri=_+e}else si=1<<_|i<<n|s,ri=e}function kl(e){e.return!==null&&(is(e,1),$u(e,1,0))}function Hl(e){for(;e===jn;)jn=Ns[--zs],Ns[zs]=null,qn=Ns[--zs],Ns[zs]=null;for(;e===ts;)ts=Ht[--Nt],Ht[Nt]=null,ri=Ht[--Nt],Ht[Nt]=null,si=Ht[--Nt],Ht[Nt]=null}var ht=null,Ie=null,Me=!1,ss=null,Gt=!1,Nl=Error(y(519));function rs(e){var t=Error(y(418,""));throw xr(Ot(t,e)),Nl}function Fu(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[lt]=e,t[gt]=s,i){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(i=0;i<Kr.length;i++)Ee(Kr[i],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),nu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),An(t);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),lu(t,s.value,s.defaultValue,s.children),An(t)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||od(t.textContent,i)?(s.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),s.onScroll!=null&&Ee("scroll",t),s.onScrollEnd!=null&&Ee("scrollend",t),s.onClick!=null&&(t.onclick=Sa),t=!0):t=!1,t||rs(e)}function Yu(e){for(ht=e.return;ht;)switch(ht.tag){case 5:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:ht=ht.return}}function Cr(e){if(e!==ht)return!1;if(!Me)return Yu(e),Me=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Jo(e.type,e.memoizedProps)),i=!i),i&&Ie&&rs(e),Yu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Ie=$t(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Ie=null}}else t===27?(t=Ie,Ui(e.type)?(e=sc,sc=null,Ie=e):Ie=t):Ie=ht?$t(e.stateNode.nextSibling):null;return!0}function wr(){Ie=ht=null,Me=!1}function Xu(){var e=ss;return e!==null&&(St===null?St=e:St.push.apply(St,e),ss=null),e}function xr(e){ss===null?ss=[e]:ss.push(e)}var zl=T(null),ns=null,ni=null;function wi(e,t,i){W(zl,t._currentValue),t._currentValue=i}function ai(e){e._currentValue=zl.current,F(zl)}function Ul(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function jl(e,t,i,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var _=n.dependencies;if(_!==null){var O=n.child;_=_.firstContext;e:for(;_!==null;){var j=_;_=n;for(var K=0;K<t.length;K++)if(j.context===t[K]){_.lanes|=i,j=_.alternate,j!==null&&(j.lanes|=i),Ul(_.return,i,e),s||(O=null);break e}_=j.next}}else if(n.tag===18){if(O=n.return,O===null)throw Error(y(341));O.lanes|=i,_=O.alternate,_!==null&&(_.lanes|=i),Ul(O,i,e),O=null}else O=n.child;if(O!==null)O.return=n;else for(O=n;O!==null;){if(O===e){O=null;break}if(n=O.sibling,n!==null){n.return=O.return,O=n;break}O=O.return}n=O}}function Er(e,t,i,s){e=null;for(var n=t,_=!1;n!==null;){if(!_){if((n.flags&524288)!==0)_=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var O=n.alternate;if(O===null)throw Error(y(387));if(O=O.memoizedProps,O!==null){var j=n.type;Ct(n.pendingProps.value,O.value)||(e!==null?e.push(j):e=[j])}}else if(n===U.current){if(O=n.alternate,O===null)throw Error(y(387));O.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(en):e=[en])}n=n.return}e!==null&&jl(t,e,i,s),t.flags|=262144}function In(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function as(e){ns=e,ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Gu(ns,e)}function Pn(e,t){return ns===null&&as(e),Gu(e,t)}function Gu(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},ni===null){if(e===null)throw Error(y(308));ni=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ni=ni.next=t;return i}var Xv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Gv=r.unstable_scheduleCallback,Kv=r.unstable_NormalPriority,Ke={$$typeof:d,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ql(){return{controller:new Xv,data:new Map,refCount:0}}function Ar(e){e.refCount--,e.refCount===0&&Gv(Kv,function(){e.controller.abort()})}var Dr=null,Il=0,Us=0,js=null;function Vv(e,t){if(Dr===null){var i=Dr=[];Il=0,Us=Fo(),js={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Il++,t.then(Ku,Ku),t}function Ku(){if(--Il===0&&Dr!==null){js!==null&&(js.status="fulfilled");var e=Dr;Dr=null,Us=0,js=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wv(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(n){i.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<i.length;n++)(0,i[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<i.length;n++)(0,i[n])(void 0)}),s}var Vu=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Vv(e,t),Vu!==null&&Vu(e,t)};var ls=T(null);function Pl(){var e=ls.current;return e!==null?e:ze.pooledCache}function $n(e,t){t===null?W(ls,ls.current):W(ls,t.pool)}function Wu(){var e=Pl();return e===null?null:{parent:Ke._currentValue,pool:e}}var Tr=Error(y(460)),Qu=Error(y(474)),Fn=Error(y(542)),$l={then:function(){}};function Zu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yn(){}function Ju(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Yn,Yn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,th(e),e;default:if(typeof t.status=="string")t.then(Yn,Yn);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(y(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,th(e),e}throw Rr=t,Tr}}var Rr=null;function eh(){if(Rr===null)throw Error(y(459));var e=Rr;return Rr=null,e}function th(e){if(e===Tr||e===Fn)throw Error(y(483))}var xi=!1;function Fl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Be&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=zn(e),Iu(e,null,i),t}return Nn(e,s,t,i),zn(e)}function Mr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Kc(e,i)}}function Xl(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var n=null,_=null;if(i=i.firstBaseUpdate,i!==null){do{var O={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};_===null?n=_=O:_=_.next=O,i=i.next}while(i!==null);_===null?n=_=t:_=_.next=t}else n=_=t;i={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:_,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Gl=!1;function Br(){if(Gl){var e=js;if(e!==null)throw e}}function Lr(e,t,i,s){Gl=!1;var n=e.updateQueue;xi=!1;var _=n.firstBaseUpdate,O=n.lastBaseUpdate,j=n.shared.pending;if(j!==null){n.shared.pending=null;var K=j,ie=K.next;K.next=null,O===null?_=ie:O.next=ie,O=K;var le=e.alternate;le!==null&&(le=le.updateQueue,j=le.lastBaseUpdate,j!==O&&(j===null?le.firstBaseUpdate=ie:j.next=ie,le.lastBaseUpdate=K))}if(_!==null){var ue=n.baseState;O=0,le=ie=K=null,j=_;do{var se=j.lane&-536870913,re=se!==j.lane;if(re?(Ae&se)===se:(s&se)===se){se!==0&&se===Us&&(Gl=!0),le!==null&&(le=le.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ye=e,ve=j;se=t;var He=i;switch(ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){ue=ye.call(He,ue,se);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,se=typeof ye=="function"?ye.call(He,ue,se):ye,se==null)break e;ue=m({},ue,se);break e;case 2:xi=!0}}se=j.callback,se!==null&&(e.flags|=64,re&&(e.flags|=8192),re=n.callbacks,re===null?n.callbacks=[se]:re.push(se))}else re={lane:se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},le===null?(ie=le=re,K=ue):le=le.next=re,O|=se;if(j=j.next,j===null){if(j=n.shared.pending,j===null)break;re=j,j=re.next,re.next=null,n.lastBaseUpdate=re,n.shared.pending=null}}while(!0);le===null&&(K=ue),n.baseState=K,n.firstBaseUpdate=ie,n.lastBaseUpdate=le,_===null&&(n.shared.lanes=0),ki|=O,e.lanes=O,e.memoizedState=ue}}function ih(e,t){if(typeof e!="function")throw Error(y(191,e));e.call(t)}function sh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ih(i[e],t)}var qs=T(null),Xn=T(0);function rh(e,t){e=di,W(Xn,e),W(qs,t),di=e|t.baseLanes}function Kl(){W(Xn,di),W(qs,qs.current)}function Vl(){di=Xn.current,F(qs),F(Xn)}var Di=0,be=null,Oe=null,Xe=null,Gn=!1,Is=!1,os=!1,Kn=0,Or=0,Ps=null,Qv=0;function Fe(){throw Error(y(321))}function Wl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ct(e[i],t[i]))return!1;return!0}function Ql(e,t,i,s,n,_){return Di=_,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Ih:Ph,os=!1,_=i(s,n),os=!1,Is&&(_=ah(t,i,s,n)),nh(e),_}function nh(e){z.H=ea;var t=Oe!==null&&Oe.next!==null;if(Di=0,Xe=Oe=be=null,Gn=!1,Or=0,Ps=null,t)throw Error(y(300));e===null||Qe||(e=e.dependencies,e!==null&&In(e)&&(Qe=!0))}function ah(e,t,i,s){be=e;var n=0;do{if(Is&&(Ps=null),Or=0,Is=!1,25<=n)throw Error(y(301));if(n+=1,Xe=Oe=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}z.H=r0,_=t(i,s)}while(Is);return _}function Zv(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?kr(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(be.flags|=1024),t}function Zl(){var e=Kn!==0;return Kn=0,e}function Jl(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function eo(e){if(Gn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gn=!1}Di=0,Xe=Oe=be=null,Is=!1,Or=Kn=0,Ps=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?be.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ge(){if(Oe===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Xe===null?be.memoizedState:Xe.next;if(t!==null)Xe=t,Oe=e;else{if(e===null)throw be.alternate===null?Error(y(467)):Error(y(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Xe===null?be.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function to(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kr(e){var t=Or;return Or+=1,Ps===null&&(Ps=[]),e=Ju(Ps,e,t),t=be,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Ih:Ph),e}function Vn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kr(e);if(e.$$typeof===d)return ot(e)}throw Error(y(438,String(e)))}function io(e){var t=null,i=be.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=to(),be.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=I;return t.index++,i}function li(e,t){return typeof t=="function"?t(e):t}function Wn(e){var t=Ge();return so(t,Oe,e)}function so(e,t,i){var s=e.queue;if(s===null)throw Error(y(311));s.lastRenderedReducer=i;var n=e.baseQueue,_=s.pending;if(_!==null){if(n!==null){var O=n.next;n.next=_.next,_.next=O}t.baseQueue=n=_,s.pending=null}if(_=e.baseState,n===null)e.memoizedState=_;else{t=n.next;var j=O=null,K=null,ie=t,le=!1;do{var ue=ie.lane&-536870913;if(ue!==ie.lane?(Ae&ue)===ue:(Di&ue)===ue){var se=ie.revertLane;if(se===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ue===Us&&(le=!0);else if((Di&se)===se){ie=ie.next,se===Us&&(le=!0);continue}else ue={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},K===null?(j=K=ue,O=_):K=K.next=ue,be.lanes|=se,ki|=se;ue=ie.action,os&&i(_,ue),_=ie.hasEagerState?ie.eagerState:i(_,ue)}else se={lane:ue,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},K===null?(j=K=se,O=_):K=K.next=se,be.lanes|=ue,ki|=ue;ie=ie.next}while(ie!==null&&ie!==t);if(K===null?O=_:K.next=j,!Ct(_,e.memoizedState)&&(Qe=!0,le&&(i=js,i!==null)))throw i;e.memoizedState=_,e.baseState=O,e.baseQueue=K,s.lastRenderedState=_}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ro(e){var t=Ge(),i=t.queue;if(i===null)throw Error(y(311));i.lastRenderedReducer=e;var s=i.dispatch,n=i.pending,_=t.memoizedState;if(n!==null){i.pending=null;var O=n=n.next;do _=e(_,O.action),O=O.next;while(O!==n);Ct(_,t.memoizedState)||(Qe=!0),t.memoizedState=_,t.baseQueue===null&&(t.baseState=_),i.lastRenderedState=_}return[_,s]}function lh(e,t,i){var s=be,n=Ge(),_=Me;if(_){if(i===void 0)throw Error(y(407));i=i()}else i=t();var O=!Ct((Oe||n).memoizedState,i);O&&(n.memoizedState=i,Qe=!0),n=n.queue;var j=uh.bind(null,s,n,e);if(Hr(2048,8,j,[e]),n.getSnapshot!==t||O||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,$s(9,Qn(),ch.bind(null,s,n,i,t),null),ze===null)throw Error(y(349));_||(Di&124)!==0||oh(s,t,i)}return i}function oh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=be.updateQueue,t===null?(t=to(),be.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function ch(e,t,i,s){t.value=i,t.getSnapshot=s,hh(t)&&fh(e)}function uh(e,t,i){return i(function(){hh(t)&&fh(e)})}function hh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ct(e,i)}catch{return!0}}function fh(e){var t=ks(e,2);t!==null&&Tt(t,e,2)}function no(e){var t=mt();if(typeof e=="function"){var i=e;if(e=i(),os){tt(!0);try{i()}finally{tt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:e},t}function dh(e,t,i,s){return e.baseState=i,so(e,Oe,typeof s=="function"?s:li)}function Jv(e,t,i,s,n){if(Jn(e))throw Error(y(485));if(e=t.action,e!==null){var _={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};z.T!==null?i(!0):_.isTransition=!1,s(_),i=t.pending,i===null?(_.next=t.pending=_,_h(t,_)):(_.next=i.next,t.pending=i.next=_)}}function _h(e,t){var i=t.action,s=t.payload,n=e.state;if(t.isTransition){var _=z.T,O={};z.T=O;try{var j=i(n,s),K=z.S;K!==null&&K(O,j),vh(e,t,j)}catch(ie){ao(e,t,ie)}finally{z.T=_}}else try{_=i(n,s),vh(e,t,_)}catch(ie){ao(e,t,ie)}}function vh(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){gh(e,t,s)},function(s){return ao(e,t,s)}):gh(e,t,i)}function gh(e,t,i){t.status="fulfilled",t.value=i,ph(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,_h(e,i)))}function ao(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,ph(t),t=t.next;while(t!==s)}e.action=null}function ph(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mh(e,t){return t}function yh(e,t){if(Me){var i=ze.formState;if(i!==null){e:{var s=be;if(Me){if(Ie){t:{for(var n=Ie,_=Gt;n.nodeType!==8;){if(!_){n=null;break t}if(n=$t(n.nextSibling),n===null){n=null;break t}}_=n.data,n=_==="F!"||_==="F"?n:null}if(n){Ie=$t(n.nextSibling),s=n.data==="F!";break e}}rs(s)}s=!1}s&&(t=i[0])}}return i=mt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:t},i.queue=s,i=Uh.bind(null,be,s),s.dispatch=i,s=no(!1),_=ho.bind(null,be,!1,s.queue),s=mt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,i=Jv.bind(null,be,n,_,i),n.dispatch=i,s.memoizedState=e,[t,i,!1]}function Sh(e){var t=Ge();return bh(t,Oe,e)}function bh(e,t,i){if(t=so(e,t,mh)[0],e=Wn(li)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=kr(t)}catch(O){throw O===Tr?Fn:O}else s=t;t=Ge();var n=t.queue,_=n.dispatch;return i!==t.memoizedState&&(be.flags|=2048,$s(9,Qn(),e0.bind(null,n,i),null)),[s,_,e]}function e0(e,t){e.action=t}function Ch(e){var t=Ge(),i=Oe;if(i!==null)return bh(t,i,e);Ge(),t=t.memoizedState,i=Ge();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function $s(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=be.updateQueue,t===null&&(t=to(),be.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Qn(){return{destroy:void 0,resource:void 0}}function wh(){return Ge().memoizedState}function Zn(e,t,i,s){var n=mt();s=s===void 0?null:s,be.flags|=e,n.memoizedState=$s(1|t,Qn(),i,s)}function Hr(e,t,i,s){var n=Ge();s=s===void 0?null:s;var _=n.memoizedState.inst;Oe!==null&&s!==null&&Wl(s,Oe.memoizedState.deps)?n.memoizedState=$s(t,_,i,s):(be.flags|=e,n.memoizedState=$s(1|t,_,i,s))}function xh(e,t){Zn(8390656,8,e,t)}function Eh(e,t){Hr(2048,8,e,t)}function Ah(e,t){return Hr(4,2,e,t)}function Dh(e,t){return Hr(4,4,e,t)}function Th(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rh(e,t,i){i=i!=null?i.concat([e]):null,Hr(4,4,Th.bind(null,t,e),i)}function lo(){}function Mh(e,t){var i=Ge();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Wl(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Bh(e,t){var i=Ge();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Wl(t,s[1]))return s[0];if(s=e(),os){tt(!0);try{e()}finally{tt(!1)}}return i.memoizedState=[s,t],s}function oo(e,t,i){return i===void 0||(Di&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Hf(),be.lanes|=e,ki|=e,i)}function Lh(e,t,i,s){return Ct(i,t)?i:qs.current!==null?(e=oo(e,i,s),Ct(e,t)||(Qe=!0),e):(Di&42)===0?(Qe=!0,e.memoizedState=i):(e=Hf(),be.lanes|=e,ki|=e,t)}function Oh(e,t,i,s,n){var _=P.p;P.p=_!==0&&8>_?_:8;var O=z.T,j={};z.T=j,ho(e,!1,t,i);try{var K=n(),ie=z.S;if(ie!==null&&ie(j,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var le=Wv(K,s);Nr(e,t,le,Dt(e))}else Nr(e,t,s,Dt(e))}catch(ue){Nr(e,t,{then:function(){},status:"rejected",reason:ue},Dt())}finally{P.p=_,z.T=O}}function t0(){}function co(e,t,i,s){if(e.tag!==5)throw Error(y(476));var n=kh(e).queue;Oh(e,n,t,M,i===null?t0:function(){return Hh(e),i(s)})}function kh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:M},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hh(e){var t=kh(e).next.queue;Nr(e,t,{},Dt())}function uo(){return ot(en)}function Nh(){return Ge().memoizedState}function zh(){return Ge().memoizedState}function i0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Dt();e=Ei(i);var s=Ai(t,e,i);s!==null&&(Tt(s,t,i),Mr(s,t,i)),t={cache:ql()},e.payload=t;return}t=t.return}}function s0(e,t,i){var s=Dt();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Jn(e)?jh(t,i):(i=Ml(e,t,i,s),i!==null&&(Tt(i,e,s),qh(i,t,s)))}function Uh(e,t,i){var s=Dt();Nr(e,t,i,s)}function Nr(e,t,i,s){var n={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Jn(e))jh(t,n);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=t.lastRenderedReducer,_!==null))try{var O=t.lastRenderedState,j=_(O,i);if(n.hasEagerState=!0,n.eagerState=j,Ct(j,O))return Nn(e,t,n,0),ze===null&&Hn(),!1}catch{}finally{}if(i=Ml(e,t,n,s),i!==null)return Tt(i,e,s),qh(i,t,s),!0}return!1}function ho(e,t,i,s){if(s={lane:2,revertLane:Fo(),action:s,hasEagerState:!1,eagerState:null,next:null},Jn(e)){if(t)throw Error(y(479))}else t=Ml(e,i,s,2),t!==null&&Tt(t,e,2)}function Jn(e){var t=e.alternate;return e===be||t!==null&&t===be}function jh(e,t){Is=Gn=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function qh(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Kc(e,i)}}var ea={readContext:ot,use:Vn,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},Ih={readContext:ot,use:Vn,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:xh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Zn(4194308,4,Th.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Zn(4194308,4,e,t)},useInsertionEffect:function(e,t){Zn(4,2,e,t)},useMemo:function(e,t){var i=mt();t=t===void 0?null:t;var s=e();if(os){tt(!0);try{e()}finally{tt(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=mt();if(i!==void 0){var n=i(t);if(os){tt(!0);try{i(t)}finally{tt(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=s0.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=no(e);var t=e.queue,i=Uh.bind(null,be,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:lo,useDeferredValue:function(e,t){var i=mt();return oo(i,e,t)},useTransition:function(){var e=no(!1);return e=Oh.bind(null,be,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=be,n=mt();if(Me){if(i===void 0)throw Error(y(407));i=i()}else{if(i=t(),ze===null)throw Error(y(349));(Ae&124)!==0||oh(s,t,i)}n.memoizedState=i;var _={value:i,getSnapshot:t};return n.queue=_,xh(uh.bind(null,s,_,e),[e]),s.flags|=2048,$s(9,Qn(),ch.bind(null,s,_,i,t),null),i},useId:function(){var e=mt(),t=ze.identifierPrefix;if(Me){var i=ri,s=si;i=(s&~(1<<32-it(s)-1)).toString(32)+i,t=""+t+"R"+i,i=Kn++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=Qv++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:uo,useFormState:yh,useActionState:yh,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=ho.bind(null,be,!0,i),i.dispatch=t,[e,t]},useMemoCache:io,useCacheRefresh:function(){return mt().memoizedState=i0.bind(null,be)}},Ph={readContext:ot,use:Vn,useCallback:Mh,useContext:ot,useEffect:Eh,useImperativeHandle:Rh,useInsertionEffect:Ah,useLayoutEffect:Dh,useMemo:Bh,useReducer:Wn,useRef:wh,useState:function(){return Wn(li)},useDebugValue:lo,useDeferredValue:function(e,t){var i=Ge();return Lh(i,Oe.memoizedState,e,t)},useTransition:function(){var e=Wn(li)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:kr(e),t]},useSyncExternalStore:lh,useId:Nh,useHostTransitionStatus:uo,useFormState:Sh,useActionState:Sh,useOptimistic:function(e,t){var i=Ge();return dh(i,Oe,e,t)},useMemoCache:io,useCacheRefresh:zh},r0={readContext:ot,use:Vn,useCallback:Mh,useContext:ot,useEffect:Eh,useImperativeHandle:Rh,useInsertionEffect:Ah,useLayoutEffect:Dh,useMemo:Bh,useReducer:ro,useRef:wh,useState:function(){return ro(li)},useDebugValue:lo,useDeferredValue:function(e,t){var i=Ge();return Oe===null?oo(i,e,t):Lh(i,Oe.memoizedState,e,t)},useTransition:function(){var e=ro(li)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:kr(e),t]},useSyncExternalStore:lh,useId:Nh,useHostTransitionStatus:uo,useFormState:Ch,useActionState:Ch,useOptimistic:function(e,t){var i=Ge();return Oe!==null?dh(i,Oe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:io,useCacheRefresh:zh},Fs=null,zr=0;function ta(e){var t=zr;return zr+=1,Fs===null&&(Fs=[]),Ju(Fs,e,t)}function Ur(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ia(e,t){throw t.$$typeof===v?Error(y(525)):(e=Object.prototype.toString.call(t),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $h(e){var t=e._init;return t(e._payload)}function Fh(e){function t(J,Q){if(e){var te=J.deletions;te===null?(J.deletions=[Q],J.flags|=16):te.push(Q)}}function i(J,Q){if(!e)return null;for(;Q!==null;)t(J,Q),Q=Q.sibling;return null}function s(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function n(J,Q){return J=ii(J,Q),J.index=0,J.sibling=null,J}function _(J,Q,te){return J.index=te,e?(te=J.alternate,te!==null?(te=te.index,te<Q?(J.flags|=67108866,Q):te):(J.flags|=67108866,Q)):(J.flags|=1048576,Q)}function O(J){return e&&J.alternate===null&&(J.flags|=67108866),J}function j(J,Q,te,ce){return Q===null||Q.tag!==6?(Q=Ll(te,J.mode,ce),Q.return=J,Q):(Q=n(Q,te),Q.return=J,Q)}function K(J,Q,te,ce){var de=te.type;return de===D?le(J,Q,te.props.children,ce,te.key):Q!==null&&(Q.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&$h(de)===Q.type)?(Q=n(Q,te.props),Ur(Q,te),Q.return=J,Q):(Q=Un(te.type,te.key,te.props,null,J.mode,ce),Ur(Q,te),Q.return=J,Q)}function ie(J,Q,te,ce){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==te.containerInfo||Q.stateNode.implementation!==te.implementation?(Q=Ol(te,J.mode,ce),Q.return=J,Q):(Q=n(Q,te.children||[]),Q.return=J,Q)}function le(J,Q,te,ce,de){return Q===null||Q.tag!==7?(Q=es(te,J.mode,ce,de),Q.return=J,Q):(Q=n(Q,te),Q.return=J,Q)}function ue(J,Q,te){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Ll(""+Q,J.mode,te),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return te=Un(Q.type,Q.key,Q.props,null,J.mode,te),Ur(te,Q),te.return=J,te;case x:return Q=Ol(Q,J.mode,te),Q.return=J,Q;case b:var ce=Q._init;return Q=ce(Q._payload),ue(J,Q,te)}if(G(Q)||$(Q))return Q=es(Q,J.mode,te,null),Q.return=J,Q;if(typeof Q.then=="function")return ue(J,ta(Q),te);if(Q.$$typeof===d)return ue(J,Pn(J,Q),te);ia(J,Q)}return null}function se(J,Q,te,ce){var de=Q!==null?Q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return de!==null?null:j(J,Q,""+te,ce);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return te.key===de?K(J,Q,te,ce):null;case x:return te.key===de?ie(J,Q,te,ce):null;case b:return de=te._init,te=de(te._payload),se(J,Q,te,ce)}if(G(te)||$(te))return de!==null?null:le(J,Q,te,ce,null);if(typeof te.then=="function")return se(J,Q,ta(te),ce);if(te.$$typeof===d)return se(J,Q,Pn(J,te),ce);ia(J,te)}return null}function re(J,Q,te,ce,de){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return J=J.get(te)||null,j(Q,J,""+ce,de);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case S:return J=J.get(ce.key===null?te:ce.key)||null,K(Q,J,ce,de);case x:return J=J.get(ce.key===null?te:ce.key)||null,ie(Q,J,ce,de);case b:var Ce=ce._init;return ce=Ce(ce._payload),re(J,Q,te,ce,de)}if(G(ce)||$(ce))return J=J.get(te)||null,le(Q,J,ce,de,null);if(typeof ce.then=="function")return re(J,Q,te,ta(ce),de);if(ce.$$typeof===d)return re(J,Q,te,Pn(Q,ce),de);ia(Q,ce)}return null}function ye(J,Q,te,ce){for(var de=null,Ce=null,_e=Q,ge=Q=0,Je=null;_e!==null&&ge<te.length;ge++){_e.index>ge?(Je=_e,_e=null):Je=_e.sibling;var Re=se(J,_e,te[ge],ce);if(Re===null){_e===null&&(_e=Je);break}e&&_e&&Re.alternate===null&&t(J,_e),Q=_(Re,Q,ge),Ce===null?de=Re:Ce.sibling=Re,Ce=Re,_e=Je}if(ge===te.length)return i(J,_e),Me&&is(J,ge),de;if(_e===null){for(;ge<te.length;ge++)_e=ue(J,te[ge],ce),_e!==null&&(Q=_(_e,Q,ge),Ce===null?de=_e:Ce.sibling=_e,Ce=_e);return Me&&is(J,ge),de}for(_e=s(_e);ge<te.length;ge++)Je=re(_e,J,ge,te[ge],ce),Je!==null&&(e&&Je.alternate!==null&&_e.delete(Je.key===null?ge:Je.key),Q=_(Je,Q,ge),Ce===null?de=Je:Ce.sibling=Je,Ce=Je);return e&&_e.forEach(function($i){return t(J,$i)}),Me&&is(J,ge),de}function ve(J,Q,te,ce){if(te==null)throw Error(y(151));for(var de=null,Ce=null,_e=Q,ge=Q=0,Je=null,Re=te.next();_e!==null&&!Re.done;ge++,Re=te.next()){_e.index>ge?(Je=_e,_e=null):Je=_e.sibling;var $i=se(J,_e,Re.value,ce);if($i===null){_e===null&&(_e=Je);break}e&&_e&&$i.alternate===null&&t(J,_e),Q=_($i,Q,ge),Ce===null?de=$i:Ce.sibling=$i,Ce=$i,_e=Je}if(Re.done)return i(J,_e),Me&&is(J,ge),de;if(_e===null){for(;!Re.done;ge++,Re=te.next())Re=ue(J,Re.value,ce),Re!==null&&(Q=_(Re,Q,ge),Ce===null?de=Re:Ce.sibling=Re,Ce=Re);return Me&&is(J,ge),de}for(_e=s(_e);!Re.done;ge++,Re=te.next())Re=re(_e,J,ge,Re.value,ce),Re!==null&&(e&&Re.alternate!==null&&_e.delete(Re.key===null?ge:Re.key),Q=_(Re,Q,ge),Ce===null?de=Re:Ce.sibling=Re,Ce=Re);return e&&_e.forEach(function(ng){return t(J,ng)}),Me&&is(J,ge),de}function He(J,Q,te,ce){if(typeof te=="object"&&te!==null&&te.type===D&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case S:e:{for(var de=te.key;Q!==null;){if(Q.key===de){if(de=te.type,de===D){if(Q.tag===7){i(J,Q.sibling),ce=n(Q,te.props.children),ce.return=J,J=ce;break e}}else if(Q.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&$h(de)===Q.type){i(J,Q.sibling),ce=n(Q,te.props),Ur(ce,te),ce.return=J,J=ce;break e}i(J,Q);break}else t(J,Q);Q=Q.sibling}te.type===D?(ce=es(te.props.children,J.mode,ce,te.key),ce.return=J,J=ce):(ce=Un(te.type,te.key,te.props,null,J.mode,ce),Ur(ce,te),ce.return=J,J=ce)}return O(J);case x:e:{for(de=te.key;Q!==null;){if(Q.key===de)if(Q.tag===4&&Q.stateNode.containerInfo===te.containerInfo&&Q.stateNode.implementation===te.implementation){i(J,Q.sibling),ce=n(Q,te.children||[]),ce.return=J,J=ce;break e}else{i(J,Q);break}else t(J,Q);Q=Q.sibling}ce=Ol(te,J.mode,ce),ce.return=J,J=ce}return O(J);case b:return de=te._init,te=de(te._payload),He(J,Q,te,ce)}if(G(te))return ye(J,Q,te,ce);if($(te)){if(de=$(te),typeof de!="function")throw Error(y(150));return te=de.call(te),ve(J,Q,te,ce)}if(typeof te.then=="function")return He(J,Q,ta(te),ce);if(te.$$typeof===d)return He(J,Q,Pn(J,te),ce);ia(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Q!==null&&Q.tag===6?(i(J,Q.sibling),ce=n(Q,te),ce.return=J,J=ce):(i(J,Q),ce=Ll(te,J.mode,ce),ce.return=J,J=ce),O(J)):i(J,Q)}return function(J,Q,te,ce){try{zr=0;var de=He(J,Q,te,ce);return Fs=null,de}catch(_e){if(_e===Tr||_e===Fn)throw _e;var Ce=wt(29,_e,null,J.mode);return Ce.lanes=ce,Ce.return=J,Ce}finally{}}}var Ys=Fh(!0),Yh=Fh(!1),zt=T(null),Kt=null;function Ti(e){var t=e.alternate;W(Ve,Ve.current&1),W(zt,e),Kt===null&&(t===null||qs.current!==null||t.memoizedState!==null)&&(Kt=e)}function Xh(e){if(e.tag===22){if(W(Ve,Ve.current),W(zt,e),Kt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Kt=e)}}else Ri()}function Ri(){W(Ve,Ve.current),W(zt,zt.current)}function oi(e){F(zt),Kt===e&&(Kt=null),F(Ve)}var Ve=T(0);function sa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||ic(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fo(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:m({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var _o={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Dt(),n=Ei(s);n.payload=t,i!=null&&(n.callback=i),t=Ai(e,n,s),t!==null&&(Tt(t,e,s),Mr(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Dt(),n=Ei(s);n.tag=1,n.payload=t,i!=null&&(n.callback=i),t=Ai(e,n,s),t!==null&&(Tt(t,e,s),Mr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Dt(),s=Ei(i);s.tag=2,t!=null&&(s.callback=t),t=Ai(e,s,i),t!==null&&(Tt(t,e,i),Mr(t,e,i))}};function Gh(e,t,i,s,n,_,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,_,O):t.prototype&&t.prototype.isPureReactComponent?!Sr(i,s)||!Sr(n,_):!0}function Kh(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&_o.enqueueReplaceState(t,t.state,null)}function cs(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=m({},i));for(var n in e)i[n]===void 0&&(i[n]=e[n])}return i}var ra=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Vh(e){ra(e)}function Wh(e){console.error(e)}function Qh(e){ra(e)}function na(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Zh(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function vo(e,t,i){return i=Ei(i),i.tag=3,i.payload={element:null},i.callback=function(){na(e,t)},i}function Jh(e){return e=Ei(e),e.tag=3,e}function ef(e,t,i,s){var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var _=s.value;e.payload=function(){return n(_)},e.callback=function(){Zh(t,i,s)}}var O=i.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(e.callback=function(){Zh(t,i,s),typeof n!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})})}function n0(e,t,i,s,n){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Er(t,i,n,!0),i=zt.current,i!==null){switch(i.tag){case 13:return Kt===null?jo():i.alternate===null&&Pe===0&&(Pe=3),i.flags&=-257,i.flags|=65536,i.lanes=n,s===$l?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),Io(e,s,n)),!1;case 22:return i.flags|=65536,s===$l?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),Io(e,s,n)),!1}throw Error(y(435,i.tag))}return Io(e,s,n),jo(),!1}if(Me)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Nl&&(e=Error(y(422),{cause:s}),xr(Ot(e,i)))):(s!==Nl&&(t=Error(y(423),{cause:s}),xr(Ot(t,i))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=Ot(s,i),n=vo(e.stateNode,s,n),Xl(e,n),Pe!==4&&(Pe=2)),!1;var _=Error(y(520),{cause:s});if(_=Ot(_,i),Yr===null?Yr=[_]:Yr.push(_),Pe!==4&&(Pe=2),t===null)return!0;s=Ot(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=n&-n,i.lanes|=e,e=vo(i.stateNode,s,e),Xl(i,e),!1;case 1:if(t=i.type,_=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hi===null||!Hi.has(_))))return i.flags|=65536,n&=-n,i.lanes|=n,n=Jh(n),ef(n,e,i,s),Xl(i,n),!1}i=i.return}while(i!==null);return!1}var tf=Error(y(461)),Qe=!1;function st(e,t,i,s){t.child=e===null?Yh(t,null,i,s):Ys(t,e.child,i,s)}function sf(e,t,i,s,n){i=i.render;var _=t.ref;if("ref"in s){var O={};for(var j in s)j!=="ref"&&(O[j]=s[j])}else O=s;return as(t),s=Ql(e,t,i,O,_,n),j=Zl(),e!==null&&!Qe?(Jl(e,t,n),ci(e,t,n)):(Me&&j&&kl(t),t.flags|=1,st(e,t,s,n),t.child)}function rf(e,t,i,s,n){if(e===null){var _=i.type;return typeof _=="function"&&!Bl(_)&&_.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=_,nf(e,t,_,s,n)):(e=Un(i.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(_=e.child,!wo(e,n)){var O=_.memoizedProps;if(i=i.compare,i=i!==null?i:Sr,i(O,s)&&e.ref===t.ref)return ci(e,t,n)}return t.flags|=1,e=ii(_,s),e.ref=t.ref,e.return=t,t.child=e}function nf(e,t,i,s,n){if(e!==null){var _=e.memoizedProps;if(Sr(_,s)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=s=_,wo(e,n))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,ci(e,t,n)}return go(e,t,i,s,n)}function af(e,t,i){var s=t.pendingProps,n=s.children,_=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=_!==null?_.baseLanes|i:i,e!==null){for(n=t.child=e.child,_=0;n!==null;)_=_|n.lanes|n.childLanes,n=n.sibling;t.childLanes=_&~s}else t.childLanes=0,t.child=null;return lf(e,t,s,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&$n(t,_!==null?_.cachePool:null),_!==null?rh(t,_):Kl(),Xh(t);else return t.lanes=t.childLanes=536870912,lf(e,t,_!==null?_.baseLanes|i:i,i)}else _!==null?($n(t,_.cachePool),rh(t,_),Ri(),t.memoizedState=null):(e!==null&&$n(t,null),Kl(),Ri());return st(e,t,n,i),t.child}function lf(e,t,i,s){var n=Pl();return n=n===null?null:{parent:Ke._currentValue,pool:n},t.memoizedState={baseLanes:i,cachePool:n},e!==null&&$n(t,null),Kl(),Xh(t),e!==null&&Er(e,t,s,!0),null}function aa(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(y(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function go(e,t,i,s,n){return as(t),i=Ql(e,t,i,s,void 0,n),s=Zl(),e!==null&&!Qe?(Jl(e,t,n),ci(e,t,n)):(Me&&s&&kl(t),t.flags|=1,st(e,t,i,n),t.child)}function of(e,t,i,s,n,_){return as(t),t.updateQueue=null,i=ah(t,s,i,n),nh(e),s=Zl(),e!==null&&!Qe?(Jl(e,t,_),ci(e,t,_)):(Me&&s&&kl(t),t.flags|=1,st(e,t,i,_),t.child)}function cf(e,t,i,s,n){if(as(t),t.stateNode===null){var _=Hs,O=i.contextType;typeof O=="object"&&O!==null&&(_=ot(O)),_=new i(s,_),t.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=_o,t.stateNode=_,_._reactInternals=t,_=t.stateNode,_.props=s,_.state=t.memoizedState,_.refs={},Fl(t),O=i.contextType,_.context=typeof O=="object"&&O!==null?ot(O):Hs,_.state=t.memoizedState,O=i.getDerivedStateFromProps,typeof O=="function"&&(fo(t,i,O,s),_.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&_o.enqueueReplaceState(_,_.state,null),Lr(t,s,_,n),Br(),_.state=t.memoizedState),typeof _.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){_=t.stateNode;var j=t.memoizedProps,K=cs(i,j);_.props=K;var ie=_.context,le=i.contextType;O=Hs,typeof le=="object"&&le!==null&&(O=ot(le));var ue=i.getDerivedStateFromProps;le=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",j=t.pendingProps!==j,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j||ie!==O)&&Kh(t,_,s,O),xi=!1;var se=t.memoizedState;_.state=se,Lr(t,s,_,n),Br(),ie=t.memoizedState,j||se!==ie||xi?(typeof ue=="function"&&(fo(t,i,ue,s),ie=t.memoizedState),(K=xi||Gh(t,i,K,s,se,ie,O))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(t.flags|=4194308)):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=ie),_.props=s,_.state=ie,_.context=O,s=K):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{_=t.stateNode,Yl(e,t),O=t.memoizedProps,le=cs(i,O),_.props=le,ue=t.pendingProps,se=_.context,ie=i.contextType,K=Hs,typeof ie=="object"&&ie!==null&&(K=ot(ie)),j=i.getDerivedStateFromProps,(ie=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==ue||se!==K)&&Kh(t,_,s,K),xi=!1,se=t.memoizedState,_.state=se,Lr(t,s,_,n),Br();var re=t.memoizedState;O!==ue||se!==re||xi||e!==null&&e.dependencies!==null&&In(e.dependencies)?(typeof j=="function"&&(fo(t,i,j,s),re=t.memoizedState),(le=xi||Gh(t,i,le,s,se,re,K)||e!==null&&e.dependencies!==null&&In(e.dependencies))?(ie||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(s,re,K),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(s,re,K)),typeof _.componentDidUpdate=="function"&&(t.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=re),_.props=s,_.state=re,_.context=K,s=le):(typeof _.componentDidUpdate!="function"||O===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),s=!1)}return _=s,aa(e,t),s=(t.flags&128)!==0,_||s?(_=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:_.render(),t.flags|=1,e!==null&&s?(t.child=Ys(t,e.child,null,n),t.child=Ys(t,null,i,n)):st(e,t,i,n),t.memoizedState=_.state,e=t.child):e=ci(e,t,n),e}function uf(e,t,i,s){return wr(),t.flags|=256,st(e,t,i,s),t.child}var po={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mo(e){return{baseLanes:e,cachePool:Wu()}}function yo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ut),e}function hf(e,t,i){var s=t.pendingProps,n=!1,_=(t.flags&128)!==0,O;if((O=_)||(O=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),O&&(n=!0,t.flags&=-129),O=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(n?Ti(t):Ri(),Me){var j=Ie,K;if(K=j){e:{for(K=j,j=Gt;K.nodeType!==8;){if(!j){j=null;break e}if(K=$t(K.nextSibling),K===null){j=null;break e}}j=K}j!==null?(t.memoizedState={dehydrated:j,treeContext:ts!==null?{id:si,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},K=wt(18,null,null,0),K.stateNode=j,K.return=t,t.child=K,ht=t,Ie=null,K=!0):K=!1}K||rs(t)}if(j=t.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return ic(j)?t.lanes=32:t.lanes=536870912,null;oi(t)}return j=s.children,s=s.fallback,n?(Ri(),n=t.mode,j=la({mode:"hidden",children:j},n),s=es(s,n,i,null),j.return=t,s.return=t,j.sibling=s,t.child=j,n=t.child,n.memoizedState=mo(i),n.childLanes=yo(e,O,i),t.memoizedState=po,s):(Ti(t),So(t,j))}if(K=e.memoizedState,K!==null&&(j=K.dehydrated,j!==null)){if(_)t.flags&256?(Ti(t),t.flags&=-257,t=bo(e,t,i)):t.memoizedState!==null?(Ri(),t.child=e.child,t.flags|=128,t=null):(Ri(),n=s.fallback,j=t.mode,s=la({mode:"visible",children:s.children},j),n=es(n,j,i,null),n.flags|=2,s.return=t,n.return=t,s.sibling=n,t.child=s,Ys(t,e.child,null,i),s=t.child,s.memoizedState=mo(i),s.childLanes=yo(e,O,i),t.memoizedState=po,t=n);else if(Ti(t),ic(j)){if(O=j.nextSibling&&j.nextSibling.dataset,O)var ie=O.dgst;O=ie,s=Error(y(419)),s.stack="",s.digest=O,xr({value:s,source:null,stack:null}),t=bo(e,t,i)}else if(Qe||Er(e,t,i,!1),O=(i&e.childLanes)!==0,Qe||O){if(O=ze,O!==null&&(s=i&-i,s=(s&42)!==0?1:il(s),s=(s&(O.suspendedLanes|i))!==0?0:s,s!==0&&s!==K.retryLane))throw K.retryLane=s,ks(e,s),Tt(O,e,s),tf;j.data==="$?"||jo(),t=bo(e,t,i)}else j.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=K.treeContext,Ie=$t(j.nextSibling),ht=t,Me=!0,ss=null,Gt=!1,e!==null&&(Ht[Nt++]=si,Ht[Nt++]=ri,Ht[Nt++]=ts,si=e.id,ri=e.overflow,ts=t),t=So(t,s.children),t.flags|=4096);return t}return n?(Ri(),n=s.fallback,j=t.mode,K=e.child,ie=K.sibling,s=ii(K,{mode:"hidden",children:s.children}),s.subtreeFlags=K.subtreeFlags&65011712,ie!==null?n=ii(ie,n):(n=es(n,j,i,null),n.flags|=2),n.return=t,s.return=t,s.sibling=n,t.child=s,s=n,n=t.child,j=e.child.memoizedState,j===null?j=mo(i):(K=j.cachePool,K!==null?(ie=Ke._currentValue,K=K.parent!==ie?{parent:ie,pool:ie}:K):K=Wu(),j={baseLanes:j.baseLanes|i,cachePool:K}),n.memoizedState=j,n.childLanes=yo(e,O,i),t.memoizedState=po,s):(Ti(t),i=e.child,e=i.sibling,i=ii(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(O=t.deletions,O===null?(t.deletions=[e],t.flags|=16):O.push(e)),t.child=i,t.memoizedState=null,i)}function So(e,t){return t=la({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function la(e,t){return e=wt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function bo(e,t,i){return Ys(t,e.child,null,i),e=So(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ff(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ul(e.return,t,i)}function Co(e,t,i,s,n){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:n}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=s,_.tail=i,_.tailMode=n)}function df(e,t,i){var s=t.pendingProps,n=s.revealOrder,_=s.tail;if(st(e,t,s.children,i),s=Ve.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,i,t);else if(e.tag===19)ff(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(W(Ve,s),n){case"forwards":for(i=t.child,n=null;i!==null;)e=i.alternate,e!==null&&sa(e)===null&&(n=i),i=i.sibling;i=n,i===null?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),Co(t,!1,n,i,_);break;case"backwards":for(i=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&sa(e)===null){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}Co(t,!0,i,null,_);break;case"together":Co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Er(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(y(153));if(t.child!==null){for(e=t.child,i=ii(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ii(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function wo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&In(e)))}function a0(e,t,i){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),wi(t,Ke,e.memoizedState.cache),wr();break;case 27:case 5:oe(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:wi(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ti(t),t.flags|=128,null):(i&t.child.childLanes)!==0?hf(e,t,i):(Ti(t),e=ci(e,t,i),e!==null?e.sibling:null);Ti(t);break;case 19:var n=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Er(e,t,i,!1),s=(i&t.childLanes)!==0),n){if(s)return df(e,t,i);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),W(Ve,Ve.current),s)break;return null;case 22:case 23:return t.lanes=0,af(e,t,i);case 24:wi(t,Ke,e.memoizedState.cache)}return ci(e,t,i)}function _f(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!wo(e,i)&&(t.flags&128)===0)return Qe=!1,a0(e,t,i);Qe=(e.flags&131072)!==0}else Qe=!1,Me&&(t.flags&1048576)!==0&&$u(t,qn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,n=s._init;if(s=n(s._payload),t.type=s,typeof s=="function")Bl(s)?(e=cs(s,e),t.tag=1,t=cf(null,t,s,e,i)):(t.tag=0,t=go(null,t,s,e,i));else{if(s!=null){if(n=s.$$typeof,n===g){t.tag=11,t=sf(null,t,s,e,i);break e}else if(n===H){t.tag=14,t=rf(null,t,s,e,i);break e}}throw t=q(s)||s,Error(y(306,t,""))}}return t;case 0:return go(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,n=cs(s,t.pendingProps),cf(e,t,s,n,i);case 3:e:{if(V(t,t.stateNode.containerInfo),e===null)throw Error(y(387));s=t.pendingProps;var _=t.memoizedState;n=_.element,Yl(e,t),Lr(t,s,null,i);var O=t.memoizedState;if(s=O.cache,wi(t,Ke,s),s!==_.cache&&jl(t,[Ke],i,!0),Br(),s=O.element,_.isDehydrated)if(_={element:s,isDehydrated:!1,cache:O.cache},t.updateQueue.baseState=_,t.memoizedState=_,t.flags&256){t=uf(e,t,s,i);break e}else if(s!==n){n=Ot(Error(y(424)),t),xr(n),t=uf(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=$t(e.firstChild),ht=t,Me=!0,ss=null,Gt=!0,i=Yh(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(wr(),s===n){t=ci(e,t,i);break e}st(e,t,s,i)}t=t.child}return t;case 26:return aa(e,t),e===null?(i=md(t.type,null,t.pendingProps,null))?t.memoizedState=i:Me||(i=t.type,e=t.pendingProps,s=ba(he.current).createElement(i),s[lt]=t,s[gt]=e,nt(s,i,e),We(s),t.stateNode=s):t.memoizedState=md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return oe(t),e===null&&Me&&(s=t.stateNode=vd(t.type,t.pendingProps,he.current),ht=t,Gt=!0,n=Ie,Ui(t.type)?(sc=n,Ie=$t(s.firstChild)):Ie=n),st(e,t,t.pendingProps.children,i),aa(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((n=s=Ie)&&(s=k0(s,t.type,t.pendingProps,Gt),s!==null?(t.stateNode=s,ht=t,Ie=$t(s.firstChild),Gt=!1,n=!0):n=!1),n||rs(t)),oe(t),n=t.type,_=t.pendingProps,O=e!==null?e.memoizedProps:null,s=_.children,Jo(n,_)?s=null:O!==null&&Jo(n,O)&&(t.flags|=32),t.memoizedState!==null&&(n=Ql(e,t,Zv,null,null,i),en._currentValue=n),aa(e,t),st(e,t,s,i),t.child;case 6:return e===null&&Me&&((e=i=Ie)&&(i=H0(i,t.pendingProps,Gt),i!==null?(t.stateNode=i,ht=t,Ie=null,e=!0):e=!1),e||rs(t)),null;case 13:return hf(e,t,i);case 4:return V(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ys(t,null,s,i):st(e,t,s,i),t.child;case 11:return sf(e,t,t.type,t.pendingProps,i);case 7:return st(e,t,t.pendingProps,i),t.child;case 8:return st(e,t,t.pendingProps.children,i),t.child;case 12:return st(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,wi(t,t.type,s.value),st(e,t,s.children,i),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,as(t),n=ot(n),s=s(n),t.flags|=1,st(e,t,s,i),t.child;case 14:return rf(e,t,t.type,t.pendingProps,i);case 15:return nf(e,t,t.type,t.pendingProps,i);case 19:return df(e,t,i);case 31:return s=t.pendingProps,i=t.mode,s={mode:s.mode,children:s.children},e===null?(i=la(s,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=ii(e.child,s),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return af(e,t,i);case 24:return as(t),s=ot(Ke),e===null?(n=Pl(),n===null&&(n=ze,_=ql(),n.pooledCache=_,_.refCount++,_!==null&&(n.pooledCacheLanes|=i),n=_),t.memoizedState={parent:s,cache:n},Fl(t),wi(t,Ke,n)):((e.lanes&i)!==0&&(Yl(e,t),Lr(t,null,null,i),Br()),n=e.memoizedState,_=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),wi(t,Ke,s)):(s=_.cache,wi(t,Ke,s),s!==n.cache&&jl(t,[Ke],i,!0))),st(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(y(156,t.tag))}function ui(e){e.flags|=4}function vf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wd(t)){if(t=zt.current,t!==null&&((Ae&4194048)===Ae?Kt!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||t!==Kt))throw Rr=$l,Qu;e.flags|=8192}}function oa(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xc():536870912,e.lanes|=t,Vs|=t)}function jr(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var n=e.child;n!==null;)i|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)i|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function l0(e,t,i){var s=t.pendingProps;switch(Hl(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ai(Ke),ne(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Cr(t)?ui(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xu())),qe(t),null;case 26:return i=t.memoizedState,e===null?(ui(t),i!==null?(qe(t),vf(t,i)):(qe(t),t.flags&=-16777217)):i?i!==e.memoizedState?(ui(t),qe(t),vf(t,i)):(qe(t),t.flags&=-16777217):(e.memoizedProps!==s&&ui(t),qe(t),t.flags&=-16777217),null;case 27:pe(t),i=he.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ui(t);else{if(!s){if(t.stateNode===null)throw Error(y(166));return qe(t),null}e=Z.current,Cr(t)?Fu(t):(e=vd(n,s,i),t.stateNode=e,ui(t))}return qe(t),null;case 5:if(pe(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ui(t);else{if(!s){if(t.stateNode===null)throw Error(y(166));return qe(t),null}if(e=Z.current,Cr(t))Fu(t);else{switch(n=ba(he.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?n.createElement("select",{is:s.is}):n.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?n.createElement(i,{is:s.is}):n.createElement(i)}}e[lt]=t,e[gt]=s;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(nt(e,i,s),i){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ui(t)}}return qe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ui(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(y(166));if(e=he.current,Cr(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,n=ht,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[lt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||od(e.nodeValue,i)),e||rs(t)}else e=ba(e).createTextNode(s),e[lt]=t,t.stateNode=e}return qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Cr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(y(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(y(317));n[lt]=t}else wr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),n=!1}else n=Xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(oi(t),t):(oi(t),null)}if(oi(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=s!==null,e=e!==null&&e.memoizedState!==null,i){s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool);var _=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(_=s.memoizedState.cachePool.pool),_!==n&&(s.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),oa(t,t.updateQueue),qe(t),null;case 4:return ne(),e===null&&Ko(t.stateNode.containerInfo),qe(t),null;case 10:return ai(t.type),qe(t),null;case 19:if(F(Ve),n=t.memoizedState,n===null)return qe(t),null;if(s=(t.flags&128)!==0,_=n.rendering,_===null)if(s)jr(n,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(_=sa(e),_!==null){for(t.flags|=128,jr(n,!1),e=_.updateQueue,t.updateQueue=e,oa(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Pu(i,e),i=i.sibling;return W(Ve,Ve.current&1|2),t.child}e=e.sibling}n.tail!==null&&me()>ha&&(t.flags|=128,s=!0,jr(n,!1),t.lanes=4194304)}else{if(!s)if(e=sa(_),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,oa(t,e),jr(n,!0),n.tail===null&&n.tailMode==="hidden"&&!_.alternate&&!Me)return qe(t),null}else 2*me()-n.renderingStartTime>ha&&i!==536870912&&(t.flags|=128,s=!0,jr(n,!1),t.lanes=4194304);n.isBackwards?(_.sibling=t.child,t.child=_):(e=n.last,e!==null?e.sibling=_:t.child=_,n.last=_)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=me(),t.sibling=null,e=Ve.current,W(Ve,s?e&1|2:e&1),t):(qe(t),null);case 22:case 23:return oi(t),Vl(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),i=t.updateQueue,i!==null&&oa(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&F(ls),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ai(Ke),qe(t),null;case 25:return null;case 30:return null}throw Error(y(156,t.tag))}function o0(e,t){switch(Hl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(Ke),ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pe(t),null;case 13:if(oi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(y(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(Ve),null;case 4:return ne(),null;case 10:return ai(t.type),null;case 22:case 23:return oi(t),Vl(),e!==null&&F(ls),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ai(Ke),null;case 25:return null;default:return null}}function gf(e,t){switch(Hl(t),t.tag){case 3:ai(Ke),ne();break;case 26:case 27:case 5:pe(t);break;case 4:ne();break;case 13:oi(t);break;case 19:F(Ve);break;case 10:ai(t.type);break;case 22:case 23:oi(t),Vl(),e!==null&&F(ls);break;case 24:ai(Ke)}}function qr(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var n=s.next;i=n;do{if((i.tag&e)===e){s=void 0;var _=i.create,O=i.inst;s=_(),O.destroy=s}i=i.next}while(i!==n)}}catch(j){Ne(t,t.return,j)}}function Mi(e,t,i){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var _=n.next;s=_;do{if((s.tag&e)===e){var O=s.inst,j=O.destroy;if(j!==void 0){O.destroy=void 0,n=t;var K=i,ie=j;try{ie()}catch(le){Ne(n,K,le)}}}s=s.next}while(s!==_)}}catch(le){Ne(t,t.return,le)}}function pf(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{sh(t,i)}catch(s){Ne(e,e.return,s)}}}function mf(e,t,i){i.props=cs(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ne(e,t,s)}}function Ir(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(n){Ne(e,t,n)}}function Vt(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(n){Ne(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(n){Ne(e,t,n)}else i.current=null}function yf(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(n){Ne(e,e.return,n)}}function xo(e,t,i){try{var s=e.stateNode;R0(s,e.type,i,t),s[gt]=t}catch(n){Ne(e,e.return,n)}}function Sf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ui(e.type)||e.tag===4}function Eo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ao(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Sa));else if(s!==4&&(s===27&&Ui(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Ao(e,t,i),e=e.sibling;e!==null;)Ao(e,t,i),e=e.sibling}function ca(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Ui(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ca(e,t,i),e=e.sibling;e!==null;)ca(e,t,i),e=e.sibling}function bf(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);nt(t,s,i),t[lt]=e,t[gt]=i}catch(_){Ne(e,e.return,_)}}var hi=!1,Ye=!1,Do=!1,Cf=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function c0(e,t){if(e=e.containerInfo,Qo=Da,e=Lu(e),xl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var n=s.anchorOffset,_=s.focusNode;s=s.focusOffset;try{i.nodeType,_.nodeType}catch{i=null;break e}var O=0,j=-1,K=-1,ie=0,le=0,ue=e,se=null;t:for(;;){for(var re;ue!==i||n!==0&&ue.nodeType!==3||(j=O+n),ue!==_||s!==0&&ue.nodeType!==3||(K=O+s),ue.nodeType===3&&(O+=ue.nodeValue.length),(re=ue.firstChild)!==null;)se=ue,ue=re;for(;;){if(ue===e)break t;if(se===i&&++ie===n&&(j=O),se===_&&++le===s&&(K=O),(re=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=re}i=j===-1||K===-1?null:{start:j,end:K}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zo={focusedElem:e,selectionRange:i},Da=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,_=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,i=t,n=_.memoizedProps,_=_.memoizedState,s=i.stateNode;try{var ye=cs(i.type,n,i.elementType===i.type);e=s.getSnapshotBeforeUpdate(ye,_),s.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Ne(i,i.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)tc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(y(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function wf(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Bi(e,i),s&4&&qr(5,i);break;case 1:if(Bi(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(O){Ne(i,i.return,O)}else{var n=cs(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(O){Ne(i,i.return,O)}}s&64&&pf(i),s&512&&Ir(i,i.return);break;case 3:if(Bi(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{sh(e,t)}catch(O){Ne(i,i.return,O)}}break;case 27:t===null&&s&4&&bf(i);case 26:case 5:Bi(e,i),t===null&&s&4&&yf(i),s&512&&Ir(i,i.return);break;case 12:Bi(e,i);break;case 13:Bi(e,i),s&4&&Af(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=m0.bind(null,i),N0(e,i))));break;case 22:if(s=i.memoizedState!==null||hi,!s){t=t!==null&&t.memoizedState!==null||Ye,n=hi;var _=Ye;hi=s,(Ye=t)&&!_?Li(e,i,(i.subtreeFlags&8772)!==0):Bi(e,i),hi=n,Ye=_}break;case 30:break;default:Bi(e,i)}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&nl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,yt=!1;function fi(e,t,i){for(i=i.child;i!==null;)Ef(e,t,i),i=i.sibling}function Ef(e,t,i){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(qt,i)}catch{}switch(i.tag){case 26:Ye||Vt(i,t),fi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ye||Vt(i,t);var s=je,n=yt;Ui(i.type)&&(je=i.stateNode,yt=!1),fi(e,t,i),Wr(i.stateNode),je=s,yt=n;break;case 5:Ye||Vt(i,t);case 6:if(s=je,n=yt,je=null,fi(e,t,i),je=s,yt=n,je!==null)if(yt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(i.stateNode)}catch(_){Ne(i,t,_)}else try{je.removeChild(i.stateNode)}catch(_){Ne(i,t,_)}break;case 18:je!==null&&(yt?(e=je,dd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),nn(e)):dd(je,i.stateNode));break;case 4:s=je,n=yt,je=i.stateNode.containerInfo,yt=!0,fi(e,t,i),je=s,yt=n;break;case 0:case 11:case 14:case 15:Ye||Mi(2,i,t),Ye||Mi(4,i,t),fi(e,t,i);break;case 1:Ye||(Vt(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&mf(i,t,s)),fi(e,t,i);break;case 21:fi(e,t,i);break;case 22:Ye=(s=Ye)||i.memoizedState!==null,fi(e,t,i),Ye=s;break;default:fi(e,t,i)}}function Af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nn(e)}catch(i){Ne(t,t.return,i)}}function u0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cf),t;default:throw Error(y(435,e.tag))}}function To(e,t){var i=u0(e);t.forEach(function(s){var n=y0.bind(null,e,s);i.has(s)||(i.add(s),s.then(n,n))})}function xt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var n=i[s],_=e,O=t,j=O;e:for(;j!==null;){switch(j.tag){case 27:if(Ui(j.type)){je=j.stateNode,yt=!1;break e}break;case 5:je=j.stateNode,yt=!1;break e;case 3:case 4:je=j.stateNode.containerInfo,yt=!0;break e}j=j.return}if(je===null)throw Error(y(160));Ef(_,O,n),je=null,yt=!1,_=n.alternate,_!==null&&(_.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Df(t,e),t=t.sibling}var Pt=null;function Df(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),Et(e),s&4&&(Mi(3,e,e.return),qr(3,e),Mi(5,e,e.return));break;case 1:xt(t,e),Et(e),s&512&&(Ye||i===null||Vt(i,i.return)),s&64&&hi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var n=Pt;if(xt(t,e),Et(e),s&512&&(Ye||i===null||Vt(i,i.return)),s&4){var _=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":_=n.getElementsByTagName("title")[0],(!_||_[hr]||_[lt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=n.createElement(s),n.head.insertBefore(_,n.querySelector("head > title"))),nt(_,s,i),_[lt]=e,We(_),s=_;break e;case"link":var O=bd("link","href",n).get(s+(i.href||""));if(O){for(var j=0;j<O.length;j++)if(_=O[j],_.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&_.getAttribute("rel")===(i.rel==null?null:i.rel)&&_.getAttribute("title")===(i.title==null?null:i.title)&&_.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){O.splice(j,1);break t}}_=n.createElement(s),nt(_,s,i),n.head.appendChild(_);break;case"meta":if(O=bd("meta","content",n).get(s+(i.content||""))){for(j=0;j<O.length;j++)if(_=O[j],_.getAttribute("content")===(i.content==null?null:""+i.content)&&_.getAttribute("name")===(i.name==null?null:i.name)&&_.getAttribute("property")===(i.property==null?null:i.property)&&_.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&_.getAttribute("charset")===(i.charSet==null?null:i.charSet)){O.splice(j,1);break t}}_=n.createElement(s),nt(_,s,i),n.head.appendChild(_);break;default:throw Error(y(468,s))}_[lt]=e,We(_),s=_}e.stateNode=s}else Cd(n,e.type,e.stateNode);else e.stateNode=Sd(n,s,e.memoizedProps);else _!==s?(_===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):_.count--,s===null?Cd(n,e.type,e.stateNode):Sd(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&xo(e,e.memoizedProps,i.memoizedProps)}break;case 27:xt(t,e),Et(e),s&512&&(Ye||i===null||Vt(i,i.return)),i!==null&&s&4&&xo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(xt(t,e),Et(e),s&512&&(Ye||i===null||Vt(i,i.return)),e.flags&32){n=e.stateNode;try{Ds(n,"")}catch(re){Ne(e,e.return,re)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,xo(e,n,i!==null?i.memoizedProps:n)),s&1024&&(Do=!0);break;case 6:if(xt(t,e),Et(e),s&4){if(e.stateNode===null)throw Error(y(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(re){Ne(e,e.return,re)}}break;case 3:if(xa=null,n=Pt,Pt=Ca(t.containerInfo),xt(t,e),Pt=n,Et(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{nn(t.containerInfo)}catch(re){Ne(e,e.return,re)}Do&&(Do=!1,Tf(e));break;case 4:s=Pt,Pt=Ca(e.stateNode.containerInfo),xt(t,e),Et(e),Pt=s;break;case 12:xt(t,e),Et(e);break;case 13:xt(t,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ko=me()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,To(e,s)));break;case 22:n=e.memoizedState!==null;var K=i!==null&&i.memoizedState!==null,ie=hi,le=Ye;if(hi=ie||n,Ye=le||K,xt(t,e),Ye=le,hi=ie,Et(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(i===null||K||hi||Ye||us(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){K=i=t;try{if(_=K.stateNode,n)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{j=K.stateNode;var ue=K.memoizedProps.style,se=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;j.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(re){Ne(K,K.return,re)}}}else if(t.tag===6){if(i===null){K=t;try{K.stateNode.nodeValue=n?"":K.memoizedProps}catch(re){Ne(K,K.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,To(e,i))));break;case 19:xt(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,To(e,s)));break;case 30:break;case 21:break;default:xt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Sf(s)){i=s;break}s=s.return}if(i==null)throw Error(y(160));switch(i.tag){case 27:var n=i.stateNode,_=Eo(e);ca(e,_,n);break;case 5:var O=i.stateNode;i.flags&32&&(Ds(O,""),i.flags&=-33);var j=Eo(e);ca(e,j,O);break;case 3:case 4:var K=i.stateNode.containerInfo,ie=Eo(e);Ao(e,ie,K);break;default:throw Error(y(161))}}catch(le){Ne(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Bi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wf(e,t.alternate,t),t=t.sibling}function us(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Mi(4,t,t.return),us(t);break;case 1:Vt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&mf(t,t.return,i),us(t);break;case 27:Wr(t.stateNode);case 26:case 5:Vt(t,t.return),us(t);break;case 22:t.memoizedState===null&&us(t);break;case 30:us(t);break;default:us(t)}e=e.sibling}}function Li(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,_=t,O=_.flags;switch(_.tag){case 0:case 11:case 15:Li(n,_,i),qr(4,_);break;case 1:if(Li(n,_,i),s=_,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(ie){Ne(s,s.return,ie)}if(s=_,n=s.updateQueue,n!==null){var j=s.stateNode;try{var K=n.shared.hiddenCallbacks;if(K!==null)for(n.shared.hiddenCallbacks=null,n=0;n<K.length;n++)ih(K[n],j)}catch(ie){Ne(s,s.return,ie)}}i&&O&64&&pf(_),Ir(_,_.return);break;case 27:bf(_);case 26:case 5:Li(n,_,i),i&&s===null&&O&4&&yf(_),Ir(_,_.return);break;case 12:Li(n,_,i);break;case 13:Li(n,_,i),i&&O&4&&Af(n,_);break;case 22:_.memoizedState===null&&Li(n,_,i),Ir(_,_.return);break;case 30:break;default:Li(n,_,i)}t=t.sibling}}function Ro(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ar(i))}function Mo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ar(e))}function Wt(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rf(e,t,i,s),t=t.sibling}function Rf(e,t,i,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,i,s),n&2048&&qr(9,t);break;case 1:Wt(e,t,i,s);break;case 3:Wt(e,t,i,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ar(e)));break;case 12:if(n&2048){Wt(e,t,i,s),e=t.stateNode;try{var _=t.memoizedProps,O=_.id,j=_.onPostCommit;typeof j=="function"&&j(O,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(K){Ne(t,t.return,K)}}else Wt(e,t,i,s);break;case 13:Wt(e,t,i,s);break;case 23:break;case 22:_=t.stateNode,O=t.alternate,t.memoizedState!==null?_._visibility&2?Wt(e,t,i,s):Pr(e,t):_._visibility&2?Wt(e,t,i,s):(_._visibility|=2,Xs(e,t,i,s,(t.subtreeFlags&10256)!==0)),n&2048&&Ro(O,t);break;case 24:Wt(e,t,i,s),n&2048&&Mo(t.alternate,t);break;default:Wt(e,t,i,s)}}function Xs(e,t,i,s,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var _=e,O=t,j=i,K=s,ie=O.flags;switch(O.tag){case 0:case 11:case 15:Xs(_,O,j,K,n),qr(8,O);break;case 23:break;case 22:var le=O.stateNode;O.memoizedState!==null?le._visibility&2?Xs(_,O,j,K,n):Pr(_,O):(le._visibility|=2,Xs(_,O,j,K,n)),n&&ie&2048&&Ro(O.alternate,O);break;case 24:Xs(_,O,j,K,n),n&&ie&2048&&Mo(O.alternate,O);break;default:Xs(_,O,j,K,n)}t=t.sibling}}function Pr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,n=s.flags;switch(s.tag){case 22:Pr(i,s),n&2048&&Ro(s.alternate,s);break;case 24:Pr(i,s),n&2048&&Mo(s.alternate,s);break;default:Pr(i,s)}t=t.sibling}}var $r=8192;function Gs(e){if(e.subtreeFlags&$r)for(e=e.child;e!==null;)Mf(e),e=e.sibling}function Mf(e){switch(e.tag){case 26:Gs(e),e.flags&$r&&e.memoizedState!==null&&V0(Pt,e.memoizedState,e.memoizedProps);break;case 5:Gs(e);break;case 3:case 4:var t=Pt;Pt=Ca(e.stateNode.containerInfo),Gs(e),Pt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=$r,$r=16777216,Gs(e),$r=t):Gs(e));break;default:Gs(e)}}function Bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Ze=s,Of(s,e)}Bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lf(e),e=e.sibling}function Lf(e){switch(e.tag){case 0:case 11:case 15:Fr(e),e.flags&2048&&Mi(9,e,e.return);break;case 3:Fr(e);break;case 12:Fr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ua(e)):Fr(e);break;default:Fr(e)}}function ua(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Ze=s,Of(s,e)}Bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Mi(8,t,t.return),ua(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,ua(t));break;default:ua(t)}e=e.sibling}}function Of(e,t){for(;Ze!==null;){var i=Ze;switch(i.tag){case 0:case 11:case 15:Mi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ar(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Ze=s;else e:for(i=e;Ze!==null;){s=Ze;var n=s.sibling,_=s.return;if(xf(s),s===i){Ze=null;break e}if(n!==null){n.return=_,Ze=n;break e}Ze=_}}}var h0={getCacheForType:function(e){var t=ot(Ke),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},f0=typeof WeakMap=="function"?WeakMap:Map,Be=0,ze=null,xe=null,Ae=0,Le=0,At=null,Oi=!1,Ks=!1,Bo=!1,di=0,Pe=0,ki=0,hs=0,Lo=0,Ut=0,Vs=0,Yr=null,St=null,Oo=!1,ko=0,ha=1/0,fa=null,Hi=null,rt=0,Ni=null,Ws=null,Qs=0,Ho=0,No=null,kf=null,Xr=0,zo=null;function Dt(){if((Be&2)!==0&&Ae!==0)return Ae&-Ae;if(z.T!==null){var e=Us;return e!==0?e:Fo()}return Vc()}function Hf(){Ut===0&&(Ut=(Ae&536870912)===0||Me?Yc():536870912);var e=zt.current;return e!==null&&(e.flags|=32),Ut}function Tt(e,t,i){(e===ze&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(Zs(e,0),zi(e,Ae,Ut,!1)),ur(e,i),((Be&2)===0||e!==ze)&&(e===ze&&((Be&2)===0&&(hs|=i),Pe===4&&zi(e,Ae,Ut,!1)),Qt(e))}function Nf(e,t,i){if((Be&6)!==0)throw Error(y(327));var s=!i&&(t&124)===0&&(t&e.expiredLanes)===0||cr(e,t),n=s?v0(e,t):qo(e,t,!0),_=s;do{if(n===0){Ks&&!s&&zi(e,t,0,!1);break}else{if(i=e.current.alternate,_&&!d0(i)){n=qo(e,t,!1),_=!1;continue}if(n===2){if(_=t,e.errorRecoveryDisabledLanes&_)var O=0;else O=e.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){t=O;e:{var j=e;n=Yr;var K=j.current.memoizedState.isDehydrated;if(K&&(Zs(j,O).flags|=256),O=qo(j,O,!1),O!==2){if(Bo&&!K){j.errorRecoveryDisabledLanes|=_,hs|=_,n=4;break e}_=St,St=n,_!==null&&(St===null?St=_:St.push.apply(St,_))}n=O}if(_=!1,n!==2)continue}}if(n===1){Zs(e,0),zi(e,t,0,!0);break}e:{switch(s=e,_=n,_){case 0:case 1:throw Error(y(345));case 4:if((t&4194048)!==t)break;case 6:zi(s,t,Ut,!Oi);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(y(329))}if((t&62914560)===t&&(n=ko+300-me(),10<n)){if(zi(s,t,Ut,!Oi),wn(s,0,!0)!==0)break e;s.timeoutHandle=hd(zf.bind(null,s,i,St,fa,Oo,t,Ut,hs,Vs,Oi,_,2,-0,0),n);break e}zf(s,i,St,fa,Oo,t,Ut,hs,Vs,Oi,_,0,-0,0)}}break}while(!0);Qt(e)}function zf(e,t,i,s,n,_,O,j,K,ie,le,ue,se,re){if(e.timeoutHandle=-1,ue=t.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Jr={stylesheets:null,count:0,unsuspend:K0},Mf(t),ue=W0(),ue!==null)){e.cancelPendingCommit=ue(Ff.bind(null,e,t,_,i,s,n,O,j,K,le,1,se,re)),zi(e,_,O,!ie);return}Ff(e,t,_,i,s,n,O,j,K)}function d0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var n=i[s],_=n.getSnapshot;n=n.value;try{if(!Ct(_(),n))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zi(e,t,i,s){t&=~Lo,t&=~hs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var _=31-it(n),O=1<<_;s[_]=-1,n&=~O}i!==0&&Gc(e,i,t)}function da(){return(Be&6)===0?(Gr(0),!1):!0}function Uo(){if(xe!==null){if(Le===0)var e=xe.return;else e=xe,ni=ns=null,eo(e),Fs=null,zr=0,e=xe;for(;e!==null;)gf(e.alternate,e),e=e.return;xe=null}}function Zs(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,B0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Uo(),ze=e,xe=i=ii(e.current,null),Ae=t,Le=0,At=null,Oi=!1,Ks=cr(e,t),Bo=!1,Vs=Ut=Lo=hs=ki=Pe=0,St=Yr=null,Oo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-it(s),_=1<<n;t|=e[n],s&=~_}return di=t,Hn(),i}function Uf(e,t){be=null,z.H=ea,t===Tr||t===Fn?(t=eh(),Le=3):t===Qu?(t=eh(),Le=4):Le=t===tf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,xe===null&&(Pe=1,na(e,Ot(t,e.current)))}function jf(){var e=z.H;return z.H=ea,e===null?ea:e}function qf(){var e=z.A;return z.A=h0,e}function jo(){Pe=4,Oi||(Ae&4194048)!==Ae&&zt.current!==null||(Ks=!0),(ki&134217727)===0&&(hs&134217727)===0||ze===null||zi(ze,Ae,Ut,!1)}function qo(e,t,i){var s=Be;Be|=2;var n=jf(),_=qf();(ze!==e||Ae!==t)&&(fa=null,Zs(e,t)),t=!1;var O=Pe;e:do try{if(Le!==0&&xe!==null){var j=xe,K=At;switch(Le){case 8:Uo(),O=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var ie=Le;if(Le=0,At=null,Js(e,j,K,ie),i&&Ks){O=0;break e}break;default:ie=Le,Le=0,At=null,Js(e,j,K,ie)}}_0(),O=Pe;break}catch(le){Uf(e,le)}while(!0);return t&&e.shellSuspendCounter++,ni=ns=null,Be=s,z.H=n,z.A=_,xe===null&&(ze=null,Ae=0,Hn()),O}function _0(){for(;xe!==null;)If(xe)}function v0(e,t){var i=Be;Be|=2;var s=jf(),n=qf();ze!==e||Ae!==t?(fa=null,ha=me()+500,Zs(e,t)):Ks=cr(e,t);e:do try{if(Le!==0&&xe!==null){t=xe;var _=At;t:switch(Le){case 1:Le=0,At=null,Js(e,t,_,1);break;case 2:case 9:if(Zu(_)){Le=0,At=null,Pf(t);break}t=function(){Le!==2&&Le!==9||ze!==e||(Le=7),Qt(e)},_.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Zu(_)?(Le=0,At=null,Pf(t)):(Le=0,At=null,Js(e,t,_,7));break;case 5:var O=null;switch(xe.tag){case 26:O=xe.memoizedState;case 5:case 27:var j=xe;if(!O||wd(O)){Le=0,At=null;var K=j.sibling;if(K!==null)xe=K;else{var ie=j.return;ie!==null?(xe=ie,_a(ie)):xe=null}break t}}Le=0,At=null,Js(e,t,_,5);break;case 6:Le=0,At=null,Js(e,t,_,6);break;case 8:Uo(),Pe=6;break e;default:throw Error(y(462))}}g0();break}catch(le){Uf(e,le)}while(!0);return ni=ns=null,z.H=s,z.A=n,Be=i,xe!==null?0:(ze=null,Ae=0,Hn(),Pe)}function g0(){for(;xe!==null&&!at();)If(xe)}function If(e){var t=_f(e.alternate,e,di);e.memoizedProps=e.pendingProps,t===null?_a(e):xe=t}function Pf(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=of(i,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=of(i,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:eo(t);default:gf(i,t),t=xe=Pu(t,di),t=_f(i,t,di)}e.memoizedProps=e.pendingProps,t===null?_a(e):xe=t}function Js(e,t,i,s){ni=ns=null,eo(t),Fs=null,zr=0;var n=t.return;try{if(n0(e,n,t,i,Ae)){Pe=1,na(e,Ot(i,e.current)),xe=null;return}}catch(_){if(n!==null)throw xe=n,_;Pe=1,na(e,Ot(i,e.current)),xe=null;return}t.flags&32768?(Me||s===1?e=!0:Ks||(Ae&536870912)!==0?e=!1:(Oi=e=!0,(s===2||s===9||s===3||s===6)&&(s=zt.current,s!==null&&s.tag===13&&(s.flags|=16384))),$f(t,e)):_a(t)}function _a(e){var t=e;do{if((t.flags&32768)!==0){$f(t,Oi);return}e=t.return;var i=l0(t.alternate,t,di);if(i!==null){xe=i;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Pe===0&&(Pe=5)}function $f(e,t){do{var i=o0(e.alternate,e);if(i!==null){i.flags&=32767,xe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=i}while(e!==null);Pe=6,xe=null}function Ff(e,t,i,s,n,_,O,j,K){e.cancelPendingCommit=null;do va();while(rt!==0);if((Be&6)!==0)throw Error(y(327));if(t!==null){if(t===e.current)throw Error(y(177));if(_=t.lanes|t.childLanes,_|=Rl,K_(e,i,_,O,j,K),e===ze&&(xe=ze=null,Ae=0),Ws=t,Ni=e,Qs=i,Ho=_,No=n,kf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S0(Si,function(){return Vf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,n=P.p,P.p=2,O=Be,Be|=4;try{c0(e,t,i)}finally{Be=O,P.p=n,z.T=s}}rt=1,Yf(),Xf(),Gf()}}function Yf(){if(rt===1){rt=0;var e=Ni,t=Ws,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var s=P.p;P.p=2;var n=Be;Be|=4;try{Df(t,e);var _=Zo,O=Lu(e.containerInfo),j=_.focusedElem,K=_.selectionRange;if(O!==j&&j&&j.ownerDocument&&Bu(j.ownerDocument.documentElement,j)){if(K!==null&&xl(j)){var ie=K.start,le=K.end;if(le===void 0&&(le=ie),"selectionStart"in j)j.selectionStart=ie,j.selectionEnd=Math.min(le,j.value.length);else{var ue=j.ownerDocument||document,se=ue&&ue.defaultView||window;if(se.getSelection){var re=se.getSelection(),ye=j.textContent.length,ve=Math.min(K.start,ye),He=K.end===void 0?ve:Math.min(K.end,ye);!re.extend&&ve>He&&(O=He,He=ve,ve=O);var J=Mu(j,ve),Q=Mu(j,He);if(J&&Q&&(re.rangeCount!==1||re.anchorNode!==J.node||re.anchorOffset!==J.offset||re.focusNode!==Q.node||re.focusOffset!==Q.offset)){var te=ue.createRange();te.setStart(J.node,J.offset),re.removeAllRanges(),ve>He?(re.addRange(te),re.extend(Q.node,Q.offset)):(te.setEnd(Q.node,Q.offset),re.addRange(te))}}}}for(ue=[],re=j;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ue.length;j++){var ce=ue[j];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Da=!!Qo,Zo=Qo=null}finally{Be=n,P.p=s,z.T=i}}e.current=t,rt=2}}function Xf(){if(rt===2){rt=0;var e=Ni,t=Ws,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var s=P.p;P.p=2;var n=Be;Be|=4;try{wf(e,t.alternate,t)}finally{Be=n,P.p=s,z.T=i}}rt=3}}function Gf(){if(rt===4||rt===3){rt=0,yi();var e=Ni,t=Ws,i=Qs,s=kf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,Ws=Ni=null,Kf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Hi=null),sl(i),t=t.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(qt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,n=P.p,P.p=2,z.T=null;try{for(var _=e.onRecoverableError,O=0;O<s.length;O++){var j=s[O];_(j.value,{componentStack:j.stack})}}finally{z.T=t,P.p=n}}(Qs&3)!==0&&va(),Qt(e),n=e.pendingLanes,(i&4194090)!==0&&(n&42)!==0?e===zo?Xr++:(Xr=0,zo=e):Xr=0,Gr(0)}}function Kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ar(t)))}function va(e){return Yf(),Xf(),Gf(),Vf()}function Vf(){if(rt!==5)return!1;var e=Ni,t=Ho;Ho=0;var i=sl(Qs),s=z.T,n=P.p;try{P.p=32>i?32:i,z.T=null,i=No,No=null;var _=Ni,O=Qs;if(rt=0,Ws=Ni=null,Qs=0,(Be&6)!==0)throw Error(y(331));var j=Be;if(Be|=4,Lf(_.current),Rf(_,_.current,O,i),Be=j,Gr(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(qt,_)}catch{}return!0}finally{P.p=n,z.T=s,Kf(e,t)}}function Wf(e,t,i){t=Ot(i,t),t=vo(e.stateNode,t,2),e=Ai(e,t,2),e!==null&&(ur(e,2),Qt(e))}function Ne(e,t,i){if(e.tag===3)Wf(e,e,i);else for(;t!==null;){if(t.tag===3){Wf(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Hi===null||!Hi.has(s))){e=Ot(i,e),i=Jh(2),s=Ai(t,i,2),s!==null&&(ef(i,s,t,e),ur(s,2),Qt(s));break}}t=t.return}}function Io(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new f0;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(i)||(Bo=!0,n.add(i),e=p0.bind(null,e,t,i),t.then(e,e))}function p0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ze===e&&(Ae&i)===i&&(Pe===4||Pe===3&&(Ae&62914560)===Ae&&300>me()-ko?(Be&2)===0&&Zs(e,0):Lo|=i,Vs===Ae&&(Vs=0)),Qt(e)}function Qf(e,t){t===0&&(t=Xc()),e=ks(e,t),e!==null&&(ur(e,t),Qt(e))}function m0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Qf(e,i)}function y0(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(i=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(y(314))}s!==null&&s.delete(t),Qf(e,i)}function S0(e,t){return De(e,t)}var ga=null,er=null,Po=!1,pa=!1,$o=!1,fs=0;function Qt(e){e!==er&&e.next===null&&(er===null?ga=er=e:er=er.next=e),pa=!0,Po||(Po=!0,C0())}function Gr(e,t){if(!$o&&pa){$o=!0;do for(var i=!1,s=ga;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var _=0;else{var O=s.suspendedLanes,j=s.pingedLanes;_=(1<<31-it(42|e)+1)-1,_&=n&~(O&~j),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(i=!0,td(s,_))}else _=Ae,_=wn(s,s===ze?_:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(_&3)===0||cr(s,_)||(i=!0,td(s,_));s=s.next}while(i);$o=!1}}function b0(){Zf()}function Zf(){pa=Po=!1;var e=0;fs!==0&&(M0()&&(e=fs),fs=0);for(var t=me(),i=null,s=ga;s!==null;){var n=s.next,_=Jf(s,t);_===0?(s.next=null,i===null?ga=n:i.next=n,n===null&&(er=i)):(i=s,(e!==0||(_&3)!==0)&&(pa=!0)),s=n}Gr(e)}function Jf(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var O=31-it(_),j=1<<O,K=n[O];K===-1?((j&i)===0||(j&s)!==0)&&(n[O]=G_(j,t)):K<=t&&(e.expiredLanes|=j),_&=~j}if(t=ze,i=Ae,i=wn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&$e(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||cr(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&$e(s),sl(i)){case 2:case 8:i=ps;break;case 32:i=Si;break;case 268435456:i=ut;break;default:i=Si}return s=ed.bind(null,e),i=De(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&$e(s),e.callbackPriority=2,e.callbackNode=null,2}function ed(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(va()&&e.callbackNode!==i)return null;var s=Ae;return s=wn(e,e===ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Nf(e,s,t),Jf(e,me()),e.callbackNode!=null&&e.callbackNode===i?ed.bind(null,e):null)}function td(e,t){if(va())return null;Nf(e,t,!0)}function C0(){L0(function(){(Be&6)!==0?De(gs,b0):Zf()})}function Fo(){return fs===0&&(fs=Yc()),fs}function id(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Tn(""+e)}function sd(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function w0(e,t,i,s,n){if(t==="submit"&&i&&i.stateNode===n){var _=id((n[gt]||null).action),O=s.submitter;O&&(t=(t=O[gt]||null)?id(t.formAction):O.getAttribute("formAction"),t!==null&&(_=t,O=null));var j=new Ln("action","action",null,s,n);e.push({event:j,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(fs!==0){var K=O?sd(n,O):new FormData(n);co(i,{pending:!0,data:K,method:n.method,action:_},null,K)}}else typeof _=="function"&&(j.preventDefault(),K=O?sd(n,O):new FormData(n),co(i,{pending:!0,data:K,method:n.method,action:_},_,K))},currentTarget:n}]})}}for(var Yo=0;Yo<Tl.length;Yo++){var Xo=Tl[Yo],x0=Xo.toLowerCase(),E0=Xo[0].toUpperCase()+Xo.slice(1);It(x0,"on"+E0)}It(Hu,"onAnimationEnd"),It(Nu,"onAnimationIteration"),It(zu,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(Pv,"onTransitionRun"),It($v,"onTransitionStart"),It(Fv,"onTransitionCancel"),It(Uu,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kr));function rd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],n=s.event;s=s.listeners;e:{var _=void 0;if(t)for(var O=s.length-1;0<=O;O--){var j=s[O],K=j.instance,ie=j.currentTarget;if(j=j.listener,K!==_&&n.isPropagationStopped())break e;_=j,n.currentTarget=ie;try{_(n)}catch(le){ra(le)}n.currentTarget=null,_=K}else for(O=0;O<s.length;O++){if(j=s[O],K=j.instance,ie=j.currentTarget,j=j.listener,K!==_&&n.isPropagationStopped())break e;_=j,n.currentTarget=ie;try{_(n)}catch(le){ra(le)}n.currentTarget=null,_=K}}}}function Ee(e,t){var i=t[rl];i===void 0&&(i=t[rl]=new Set);var s=e+"__bubble";i.has(s)||(nd(t,e,2,!1),i.add(s))}function Go(e,t,i){var s=0;t&&(s|=4),nd(i,e,s,t)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Ko(e){if(!e[ma]){e[ma]=!0,Qc.forEach(function(i){i!=="selectionchange"&&(A0.has(i)||Go(i,!1,e),Go(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ma]||(t[ma]=!0,Go("selectionchange",!1,t))}}function nd(e,t,i,s){switch(Rd(t)){case 2:var n=J0;break;case 8:n=eg;break;default:n=oc}i=n.bind(null,t,i,e),n=void 0,!vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):n!==void 0?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function Vo(e,t,i,s,n){var _=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var O=s.tag;if(O===3||O===4){var j=s.stateNode.containerInfo;if(j===n)break;if(O===4)for(O=s.return;O!==null;){var K=O.tag;if((K===3||K===4)&&O.stateNode.containerInfo===n)return;O=O.return}for(;j!==null;){if(O=bs(j),O===null)return;if(K=O.tag,K===5||K===6||K===26||K===27){s=_=O;continue e}j=j.parentNode}}s=s.return}hu(function(){var ie=_,le=dl(i),ue=[];e:{var se=ju.get(e);if(se!==void 0){var re=Ln,ye=e;switch(e){case"keypress":if(Mn(i)===0)break e;case"keydown":case"keyup":re=Sv;break;case"focusin":ye="focus",re=yl;break;case"focusout":ye="blur",re=yl;break;case"beforeblur":case"afterblur":re=yl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=ov;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=wv;break;case Hu:case Nu:case zu:re=hv;break;case Uu:re=Ev;break;case"scroll":case"scrollend":re=av;break;case"wheel":re=Dv;break;case"copy":case"cut":case"paste":re=dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=gu;break;case"toggle":case"beforetoggle":re=Rv}var ve=(t&4)!==0,He=!ve&&(e==="scroll"||e==="scrollend"),J=ve?se!==null?se+"Capture":null:se;ve=[];for(var Q=ie,te;Q!==null;){var ce=Q;if(te=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||te===null||J===null||(ce=dr(Q,J),ce!=null&&ve.push(Vr(Q,ce,te))),He)break;Q=Q.return}0<ve.length&&(se=new re(se,ye,null,i,le),ue.push({event:se,listeners:ve}))}}if((t&7)===0){e:{if(se=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",se&&i!==fl&&(ye=i.relatedTarget||i.fromElement)&&(bs(ye)||ye[Ss]))break e;if((re||se)&&(se=le.window===le?le:(se=le.ownerDocument)?se.defaultView||se.parentWindow:window,re?(ye=i.relatedTarget||i.toElement,re=ie,ye=ye?bs(ye):null,ye!==null&&(He=k(ye),ve=ye.tag,ye!==He||ve!==5&&ve!==27&&ve!==6)&&(ye=null)):(re=null,ye=ie),re!==ye)){if(ve=_u,ce="onMouseLeave",J="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(ve=gu,ce="onPointerLeave",J="onPointerEnter",Q="pointer"),He=re==null?se:fr(re),te=ye==null?se:fr(ye),se=new ve(ce,Q+"leave",re,i,le),se.target=He,se.relatedTarget=te,ce=null,bs(le)===ie&&(ve=new ve(J,Q+"enter",ye,i,le),ve.target=te,ve.relatedTarget=He,ce=ve),He=ce,re&&ye)t:{for(ve=re,J=ye,Q=0,te=ve;te;te=tr(te))Q++;for(te=0,ce=J;ce;ce=tr(ce))te++;for(;0<Q-te;)ve=tr(ve),Q--;for(;0<te-Q;)J=tr(J),te--;for(;Q--;){if(ve===J||J!==null&&ve===J.alternate)break t;ve=tr(ve),J=tr(J)}ve=null}else ve=null;re!==null&&ad(ue,se,re,ve,!1),ye!==null&&He!==null&&ad(ue,He,ye,ve,!0)}}e:{if(se=ie?fr(ie):window,re=se.nodeName&&se.nodeName.toLowerCase(),re==="select"||re==="input"&&se.type==="file")var de=xu;else if(Cu(se))if(Eu)de=jv;else{de=zv;var Ce=Nv}else re=se.nodeName,!re||re.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&hl(ie.elementType)&&(de=xu):de=Uv;if(de&&(de=de(e,ie))){wu(ue,de,i,le);break e}Ce&&Ce(e,se,ie),e==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&ul(se,"number",se.value)}switch(Ce=ie?fr(ie):window,e){case"focusin":(Cu(Ce)||Ce.contentEditable==="true")&&(Bs=Ce,El=ie,br=null);break;case"focusout":br=El=Bs=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,Ou(ue,i,le);break;case"selectionchange":if(Iv)break;case"keydown":case"keyup":Ou(ue,i,le)}var _e;if(bl)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ms?Su(e,i)&&(ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ge="onCompositionStart");ge&&(pu&&i.locale!=="ko"&&(Ms||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ms&&(_e=fu()):(Ci=le,gl="value"in Ci?Ci.value:Ci.textContent,Ms=!0)),Ce=ya(ie,ge),0<Ce.length&&(ge=new vu(ge,e,null,i,le),ue.push({event:ge,listeners:Ce}),_e?ge.data=_e:(_e=bu(i),_e!==null&&(ge.data=_e)))),(_e=Bv?Lv(e,i):Ov(e,i))&&(ge=ya(ie,"onBeforeInput"),0<ge.length&&(Ce=new vu("onBeforeInput","beforeinput",null,i,le),ue.push({event:Ce,listeners:ge}),Ce.data=_e)),w0(ue,e,ie,i,le)}rd(ue,t)})}function Vr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ya(e,t){for(var i=t+"Capture",s=[];e!==null;){var n=e,_=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||_===null||(n=dr(e,i),n!=null&&s.unshift(Vr(e,n,_)),n=dr(e,t),n!=null&&s.push(Vr(e,n,_))),e.tag===3)return s;e=e.return}return[]}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ad(e,t,i,s,n){for(var _=t._reactName,O=[];i!==null&&i!==s;){var j=i,K=j.alternate,ie=j.stateNode;if(j=j.tag,K!==null&&K===s)break;j!==5&&j!==26&&j!==27||ie===null||(K=ie,n?(ie=dr(i,_),ie!=null&&O.unshift(Vr(i,ie,K))):n||(ie=dr(i,_),ie!=null&&O.push(Vr(i,ie,K)))),i=i.return}O.length!==0&&e.push({event:t,listeners:O})}var D0=/\r\n?/g,T0=/\u0000|\uFFFD/g;function ld(e){return(typeof e=="string"?e:""+e).replace(D0,`
`).replace(T0,"")}function od(e,t){return t=ld(t),ld(e)===t}function Sa(){}function ke(e,t,i,s,n,_){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ds(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ds(e,""+s);break;case"className":En(e,"class",s);break;case"tabIndex":En(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,i,s);break;case"style":cu(e,s,_);break;case"data":if(t!=="object"){En(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Tn(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(i==="formAction"?(t!=="input"&&ke(e,t,"name",n.name,n,null),ke(e,t,"formEncType",n.formEncType,n,null),ke(e,t,"formMethod",n.formMethod,n,null),ke(e,t,"formTarget",n.formTarget,n,null)):(ke(e,t,"encType",n.encType,n,null),ke(e,t,"method",n.method,n,null),ke(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Tn(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Sa);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(y(61));if(i=s.__html,i!=null){if(n.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Tn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),xn(e,"popover",s);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":xn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=rv.get(i)||i,xn(e,i,s))}}function Wo(e,t,i,s,n,_){switch(i){case"style":cu(e,s,_);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(y(61));if(i=s.__html,i!=null){if(n.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Ds(e,s):(typeof s=="number"||typeof s=="bigint")&&Ds(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(n=i.endsWith("Capture"),t=i.slice(2,n?i.length-7:void 0),_=e[gt]||null,_=_!=null?_[i]:null,typeof _=="function"&&e.removeEventListener(t,_,n),typeof s=="function")){typeof _!="function"&&_!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,n);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):xn(e,i,s)}}}function nt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,n=!1,_;for(_ in i)if(i.hasOwnProperty(_)){var O=i[_];if(O!=null)switch(_){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,t));default:ke(e,t,_,O,i,null)}}n&&ke(e,t,"srcSet",i.srcSet,i,null),s&&ke(e,t,"src",i.src,i,null);return;case"input":Ee("invalid",e);var j=_=O=n=null,K=null,ie=null;for(s in i)if(i.hasOwnProperty(s)){var le=i[s];if(le!=null)switch(s){case"name":n=le;break;case"type":O=le;break;case"checked":K=le;break;case"defaultChecked":ie=le;break;case"value":_=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(y(137,t));break;default:ke(e,t,s,le,i,null)}}nu(e,_,j,K,ie,O,n,!1),An(e);return;case"select":Ee("invalid",e),s=O=_=null;for(n in i)if(i.hasOwnProperty(n)&&(j=i[n],j!=null))switch(n){case"value":_=j;break;case"defaultValue":O=j;break;case"multiple":s=j;default:ke(e,t,n,j,i,null)}t=_,i=O,e.multiple=!!s,t!=null?As(e,!!s,t,!1):i!=null&&As(e,!!s,i,!0);return;case"textarea":Ee("invalid",e),_=n=s=null;for(O in i)if(i.hasOwnProperty(O)&&(j=i[O],j!=null))switch(O){case"value":s=j;break;case"defaultValue":n=j;break;case"children":_=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(y(91));break;default:ke(e,t,O,j,i,null)}lu(e,s,n,_),An(e);return;case"option":for(K in i)if(i.hasOwnProperty(K)&&(s=i[K],s!=null))switch(K){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ke(e,t,K,s,i,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<Kr.length;s++)Ee(Kr[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in i)if(i.hasOwnProperty(ie)&&(s=i[ie],s!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,t));default:ke(e,t,ie,s,i,null)}return;default:if(hl(t)){for(le in i)i.hasOwnProperty(le)&&(s=i[le],s!==void 0&&Wo(e,t,le,s,i,void 0));return}}for(j in i)i.hasOwnProperty(j)&&(s=i[j],s!=null&&ke(e,t,j,s,i,null))}function R0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,_=null,O=null,j=null,K=null,ie=null,le=null;for(re in i){var ue=i[re];if(i.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":K=ue;default:s.hasOwnProperty(re)||ke(e,t,re,null,s,ue)}}for(var se in s){var re=s[se];if(ue=i[se],s.hasOwnProperty(se)&&(re!=null||ue!=null))switch(se){case"type":_=re;break;case"name":n=re;break;case"checked":ie=re;break;case"defaultChecked":le=re;break;case"value":O=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(y(137,t));break;default:re!==ue&&ke(e,t,se,re,s,ue)}}cl(e,O,j,K,ie,le,_,n);return;case"select":re=O=j=se=null;for(_ in i)if(K=i[_],i.hasOwnProperty(_)&&K!=null)switch(_){case"value":break;case"multiple":re=K;default:s.hasOwnProperty(_)||ke(e,t,_,null,s,K)}for(n in s)if(_=s[n],K=i[n],s.hasOwnProperty(n)&&(_!=null||K!=null))switch(n){case"value":se=_;break;case"defaultValue":j=_;break;case"multiple":O=_;default:_!==K&&ke(e,t,n,_,s,K)}t=j,i=O,s=re,se!=null?As(e,!!i,se,!1):!!s!=!!i&&(t!=null?As(e,!!i,t,!0):As(e,!!i,i?[]:"",!1));return;case"textarea":re=se=null;for(j in i)if(n=i[j],i.hasOwnProperty(j)&&n!=null&&!s.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:ke(e,t,j,null,s,n)}for(O in s)if(n=s[O],_=i[O],s.hasOwnProperty(O)&&(n!=null||_!=null))switch(O){case"value":se=n;break;case"defaultValue":re=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(y(91));break;default:n!==_&&ke(e,t,O,n,s,_)}au(e,se,re);return;case"option":for(var ye in i)if(se=i[ye],i.hasOwnProperty(ye)&&se!=null&&!s.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:ke(e,t,ye,null,s,se)}for(K in s)if(se=s[K],re=i[K],s.hasOwnProperty(K)&&se!==re&&(se!=null||re!=null))switch(K){case"selected":e.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:ke(e,t,K,se,s,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in i)se=i[ve],i.hasOwnProperty(ve)&&se!=null&&!s.hasOwnProperty(ve)&&ke(e,t,ve,null,s,se);for(ie in s)if(se=s[ie],re=i[ie],s.hasOwnProperty(ie)&&se!==re&&(se!=null||re!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(y(137,t));break;default:ke(e,t,ie,se,s,re)}return;default:if(hl(t)){for(var He in i)se=i[He],i.hasOwnProperty(He)&&se!==void 0&&!s.hasOwnProperty(He)&&Wo(e,t,He,void 0,s,se);for(le in s)se=s[le],re=i[le],!s.hasOwnProperty(le)||se===re||se===void 0&&re===void 0||Wo(e,t,le,se,s,re);return}}for(var J in i)se=i[J],i.hasOwnProperty(J)&&se!=null&&!s.hasOwnProperty(J)&&ke(e,t,J,null,s,se);for(ue in s)se=s[ue],re=i[ue],!s.hasOwnProperty(ue)||se===re||se==null&&re==null||ke(e,t,ue,se,s,re)}var Qo=null,Zo=null;function ba(e){return e.nodeType===9?e:e.ownerDocument}function cd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ud(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ec=null;function M0(){var e=window.event;return e&&e.type==="popstate"?e===ec?!1:(ec=e,!0):(ec=null,!1)}var hd=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(e){return fd.resolve(null).then(e).catch(O0)}:hd;function O0(e){setTimeout(function(){throw e})}function Ui(e){return e==="head"}function dd(e,t){var i=t,s=0,n=0;do{var _=i.nextSibling;if(e.removeChild(i),_&&_.nodeType===8)if(i=_.data,i==="/$"){if(0<s&&8>s){i=s;var O=e.ownerDocument;if(i&1&&Wr(O.documentElement),i&2&&Wr(O.body),i&4)for(i=O.head,Wr(i),O=i.firstChild;O;){var j=O.nextSibling,K=O.nodeName;O[hr]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&O.rel.toLowerCase()==="stylesheet"||i.removeChild(O),O=j}}if(n===0){e.removeChild(_),nn(t);return}n--}else i==="$"||i==="$?"||i==="$!"?n++:s=i.charCodeAt(0)-48;else s=0;i=_}while(i);nn(t)}function tc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":tc(i),nl(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function k0(e,t,i,s){for(;e.nodeType===1;){var n=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[hr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var _=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function H0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=$t(e.nextSibling),e===null))return null;return e}function ic(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function N0(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var sc=null;function _d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function vd(e,t,i){switch(t=ba(i),e){case"html":if(e=t.documentElement,!e)throw Error(y(452));return e;case"head":if(e=t.head,!e)throw Error(y(453));return e;case"body":if(e=t.body,!e)throw Error(y(454));return e;default:throw Error(y(451))}}function Wr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);nl(e)}var jt=new Map,gd=new Set;function Ca(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _i=P.d;P.d={f:z0,r:U0,D:j0,C:q0,L:I0,m:P0,X:F0,S:$0,M:Y0};function z0(){var e=_i.f(),t=da();return e||t}function U0(e){var t=Cs(e);t!==null&&t.tag===5&&t.type==="form"?Hh(t):_i.r(e)}var ir=typeof document>"u"?null:document;function pd(e,t,i){var s=ir;if(s&&typeof t=="string"&&t){var n=Lt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof i=="string"&&(n+='[crossorigin="'+i+'"]'),gd.has(n)||(gd.add(n),e={rel:e,crossOrigin:i,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),nt(t,"link",e),We(t),s.head.appendChild(t)))}}function j0(e){_i.D(e),pd("dns-prefetch",e,null)}function q0(e,t){_i.C(e,t),pd("preconnect",e,t)}function I0(e,t,i){_i.L(e,t,i);var s=ir;if(s&&e&&t){var n='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(n+='[imagesrcset="'+Lt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(n+='[imagesizes="'+Lt(i.imageSizes)+'"]')):n+='[href="'+Lt(e)+'"]';var _=n;switch(t){case"style":_=sr(e);break;case"script":_=rr(e)}jt.has(_)||(e=m({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),jt.set(_,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(Qr(_))||t==="script"&&s.querySelector(Zr(_))||(t=s.createElement("link"),nt(t,"link",e),We(t),s.head.appendChild(t)))}}function P0(e,t){_i.m(e,t);var i=ir;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Lt(s)+'"][href="'+Lt(e)+'"]',_=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=rr(e)}if(!jt.has(_)&&(e=m({rel:"modulepreload",href:e},t),jt.set(_,e),i.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Zr(_)))return}s=i.createElement("link"),nt(s,"link",e),We(s),i.head.appendChild(s)}}}function $0(e,t,i){_i.S(e,t,i);var s=ir;if(s&&e){var n=ws(s).hoistableStyles,_=sr(e);t=t||"default";var O=n.get(_);if(!O){var j={loading:0,preload:null};if(O=s.querySelector(Qr(_)))j.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},i),(i=jt.get(_))&&rc(e,i);var K=O=s.createElement("link");We(K),nt(K,"link",e),K._p=new Promise(function(ie,le){K.onload=ie,K.onerror=le}),K.addEventListener("load",function(){j.loading|=1}),K.addEventListener("error",function(){j.loading|=2}),j.loading|=4,wa(O,t,s)}O={type:"stylesheet",instance:O,count:1,state:j},n.set(_,O)}}}function F0(e,t){_i.X(e,t);var i=ir;if(i&&e){var s=ws(i).hoistableScripts,n=rr(e),_=s.get(n);_||(_=i.querySelector(Zr(n)),_||(e=m({src:e,async:!0},t),(t=jt.get(n))&&nc(e,t),_=i.createElement("script"),We(_),nt(_,"link",e),i.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},s.set(n,_))}}function Y0(e,t){_i.M(e,t);var i=ir;if(i&&e){var s=ws(i).hoistableScripts,n=rr(e),_=s.get(n);_||(_=i.querySelector(Zr(n)),_||(e=m({src:e,async:!0,type:"module"},t),(t=jt.get(n))&&nc(e,t),_=i.createElement("script"),We(_),nt(_,"link",e),i.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},s.set(n,_))}}function md(e,t,i,s){var n=(n=he.current)?Ca(n):null;if(!n)throw Error(y(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=sr(i.href),i=ws(n).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=sr(i.href);var _=ws(n).hoistableStyles,O=_.get(e);if(O||(n=n.ownerDocument||n,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,O),(_=n.querySelector(Qr(e)))&&!_._p&&(O.instance=_,O.state.loading=5),jt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},jt.set(e,i),_||X0(n,e,i,O.state))),t&&s===null)throw Error(y(528,""));return O}if(t&&s!==null)throw Error(y(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=rr(i),i=ws(n).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,e))}}function sr(e){return'href="'+Lt(e)+'"'}function Qr(e){return'link[rel="stylesheet"]['+e+"]"}function yd(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function X0(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),nt(t,"link",i),We(t),e.head.appendChild(t))}function rr(e){return'[src="'+Lt(e)+'"]'}function Zr(e){return"script[async]"+e}function Sd(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Lt(i.href)+'"]');if(s)return t.instance=s,We(s),s;var n=m({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),nt(s,"style",n),wa(s,i.precedence,e),t.instance=s;case"stylesheet":n=sr(i.href);var _=e.querySelector(Qr(n));if(_)return t.state.loading|=4,t.instance=_,We(_),_;s=yd(i),(n=jt.get(n))&&rc(s,n),_=(e.ownerDocument||e).createElement("link"),We(_);var O=_;return O._p=new Promise(function(j,K){O.onload=j,O.onerror=K}),nt(_,"link",s),t.state.loading|=4,wa(_,i.precedence,e),t.instance=_;case"script":return _=rr(i.src),(n=e.querySelector(Zr(_)))?(t.instance=n,We(n),n):(s=i,(n=jt.get(_))&&(s=m({},i),nc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),We(n),nt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(y(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,wa(s,i.precedence,e));return t.instance}function wa(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,_=n,O=0;O<s.length;O++){var j=s[O];if(j.dataset.precedence===t)_=j;else if(_!==n)break}_?_.parentNode.insertBefore(e,_.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xa=null;function bd(e,t,i){if(xa===null){var s=new Map,n=xa=new Map;n.set(i,s)}else n=xa,s=n.get(i),s||(s=new Map,n.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),n=0;n<i.length;n++){var _=i[n];if(!(_[hr]||_[lt]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(t)||"";O=e+O;var j=s.get(O);j?j.push(_):s.set(O,[_])}}return s}function Cd(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function G0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Jr=null;function K0(){}function V0(e,t,i){if(Jr===null)throw Error(y(475));var s=Jr;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=sr(i.href),_=e.querySelector(Qr(n));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Ea.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=_,We(_);return}_=e.ownerDocument||e,i=yd(i),(n=jt.get(n))&&rc(i,n),_=_.createElement("link"),We(_);var O=_;O._p=new Promise(function(j,K){O.onload=j,O.onerror=K}),nt(_,"link",i),t.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=Ea.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function W0(){if(Jr===null)throw Error(y(475));var e=Jr;return e.stylesheets&&e.count===0&&ac(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Ea(){if(this.count--,this.count===0){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Aa=null;function ac(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Aa=new Map,t.forEach(Q0,e),Aa=null,Ea.call(e))}function Q0(e,t){if(!(t.state.loading&4)){var i=Aa.get(e);if(i)var s=i.get(null);else{i=new Map,Aa.set(e,i);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<n.length;_++){var O=n[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(i.set(O.dataset.precedence,O),s=O)}s&&i.set(null,s)}n=t.instance,O=n.getAttribute("data-precedence"),_=i.get(O)||s,_===s&&i.set(null,n),i.set(O,n),this.count++,s=Ea.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),_?_.parentNode.insertBefore(n,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var en={$$typeof:d,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Z0(e,t,i,s,n,_,O,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.hiddenUpdates=tl(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function xd(e,t,i,s,n,_,O,j,K,ie,le,ue){return e=new Z0(e,t,i,O,j,K,ie,ue),t=1,_===!0&&(t|=24),_=wt(3,null,null,t),e.current=_,_.stateNode=e,t=ql(),t.refCount++,e.pooledCache=t,t.refCount++,_.memoizedState={element:s,isDehydrated:i,cache:t},Fl(_),e}function Ed(e){return e?(e=Hs,e):Hs}function Ad(e,t,i,s,n,_){n=Ed(n),s.context===null?s.context=n:s.pendingContext=n,s=Ei(t),s.payload={element:i},_=_===void 0?null:_,_!==null&&(s.callback=_),i=Ai(e,s,t),i!==null&&(Tt(i,e,t),Mr(i,e,t))}function Dd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function lc(e,t){Dd(e,t),(e=e.alternate)&&Dd(e,t)}function Td(e){if(e.tag===13){var t=ks(e,67108864);t!==null&&Tt(t,e,67108864),lc(e,67108864)}}var Da=!0;function J0(e,t,i,s){var n=z.T;z.T=null;var _=P.p;try{P.p=2,oc(e,t,i,s)}finally{P.p=_,z.T=n}}function eg(e,t,i,s){var n=z.T;z.T=null;var _=P.p;try{P.p=8,oc(e,t,i,s)}finally{P.p=_,z.T=n}}function oc(e,t,i,s){if(Da){var n=cc(s);if(n===null)Vo(e,t,s,Ta,i),Md(e,s);else if(ig(n,e,t,i,s))s.stopPropagation();else if(Md(e,s),t&4&&-1<tg.indexOf(e)){for(;n!==null;){var _=Cs(n);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=Vi(_.pendingLanes);if(O!==0){var j=_;for(j.pendingLanes|=2,j.entangledLanes|=2;O;){var K=1<<31-it(O);j.entanglements[1]|=K,O&=~K}Qt(_),(Be&6)===0&&(ha=me()+500,Gr(0))}}break;case 13:j=ks(_,2),j!==null&&Tt(j,_,2),da(),lc(_,2)}if(_=cc(s),_===null&&Vo(e,t,s,Ta,i),_===n)break;n=_}n!==null&&s.stopPropagation()}else Vo(e,t,s,null,i)}}function cc(e){return e=dl(e),uc(e)}var Ta=null;function uc(e){if(Ta=null,e=bs(e),e!==null){var t=k(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=L(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ta=e,null}function Rd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xi()){case gs:return 2;case ps:return 8;case Si:case ms:return 32;case ut:return 268435456;default:return 32}default:return 32}}var hc=!1,ji=null,qi=null,Ii=null,tn=new Map,sn=new Map,Pi=[],tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Md(e,t){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":tn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sn.delete(t.pointerId)}}function rn(e,t,i,s,n,_){return e===null||e.nativeEvent!==_?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:_,targetContainers:[n]},t!==null&&(t=Cs(t),t!==null&&Td(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function ig(e,t,i,s,n){switch(t){case"focusin":return ji=rn(ji,e,t,i,s,n),!0;case"dragenter":return qi=rn(qi,e,t,i,s,n),!0;case"mouseover":return Ii=rn(Ii,e,t,i,s,n),!0;case"pointerover":var _=n.pointerId;return tn.set(_,rn(tn.get(_)||null,e,t,i,s,n)),!0;case"gotpointercapture":return _=n.pointerId,sn.set(_,rn(sn.get(_)||null,e,t,i,s,n)),!0}return!1}function Bd(e){var t=bs(e.target);if(t!==null){var i=k(t);if(i!==null){if(t=i.tag,t===13){if(t=L(i),t!==null){e.blockedOn=t,V_(e.priority,function(){if(i.tag===13){var s=Dt();s=il(s);var n=ks(i,s);n!==null&&Tt(n,i,s),lc(i,s)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=cc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);fl=s,i.target.dispatchEvent(s),fl=null}else return t=Cs(i),t!==null&&Td(t),e.blockedOn=i,!1;t.shift()}return!0}function Ld(e,t,i){Ra(e)&&i.delete(t)}function sg(){hc=!1,ji!==null&&Ra(ji)&&(ji=null),qi!==null&&Ra(qi)&&(qi=null),Ii!==null&&Ra(Ii)&&(Ii=null),tn.forEach(Ld),sn.forEach(Ld)}function Ma(e,t){e.blockedOn===t&&(e.blockedOn=null,hc||(hc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sg)))}var Ba=null;function Od(e){Ba!==e&&(Ba=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ba===e&&(Ba=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(uc(s||i)===null)continue;break}var _=Cs(i);_!==null&&(e.splice(t,3),t-=3,co(_,{pending:!0,data:n,method:i.method,action:s},s,n))}}))}function nn(e){function t(K){return Ma(K,e)}ji!==null&&Ma(ji,e),qi!==null&&Ma(qi,e),Ii!==null&&Ma(Ii,e),tn.forEach(t),sn.forEach(t);for(var i=0;i<Pi.length;i++){var s=Pi[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Pi.length&&(i=Pi[0],i.blockedOn===null);)Bd(i),i.blockedOn===null&&Pi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var n=i[s],_=i[s+1],O=n[gt]||null;if(typeof _=="function")O||Od(i);else if(O){var j=null;if(_&&_.hasAttribute("formAction")){if(n=_,O=_[gt]||null)j=O.formAction;else if(uc(n)!==null)continue}else j=O.action;typeof j=="function"?i[s+1]=j:(i.splice(s,3),s-=3),Od(i)}}}function fc(e){this._internalRoot=e}La.prototype.render=fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(y(409));var i=t.current,s=Dt();Ad(i,s,e,t,null,null)},La.prototype.unmount=fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ad(e.current,2,null,e,null,null),da(),t[Ss]=null}};function La(e){this._internalRoot=e}La.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Pi.length&&t!==0&&t<Pi[i].priority;i++);Pi.splice(i,0,e),i===0&&Bd(e)}};var kd=c.version;if(kd!=="19.1.0")throw Error(y(527,kd,"19.1.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=u(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var rg={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oa.isDisabled&&Oa.supportsFiber)try{qt=Oa.inject(rg),et=Oa}catch{}}return ln.createRoot=function(e,t){if(!A(e))throw Error(y(299));var i=!1,s="",n=Vh,_=Wh,O=Qh,j=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(_=t.onCaughtError),t.onRecoverableError!==void 0&&(O=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(j=t.unstable_transitionCallbacks)),t=xd(e,1,!1,null,null,i,s,n,_,O,j,null),e[Ss]=t.current,Ko(e),new fc(t)},ln.hydrateRoot=function(e,t,i){if(!A(e))throw Error(y(299));var s=!1,n="",_=Vh,O=Wh,j=Qh,K=null,ie=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(n=i.identifierPrefix),i.onUncaughtError!==void 0&&(_=i.onUncaughtError),i.onCaughtError!==void 0&&(O=i.onCaughtError),i.onRecoverableError!==void 0&&(j=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(K=i.unstable_transitionCallbacks),i.formState!==void 0&&(ie=i.formState)),t=xd(e,1,!0,t,i??null,s,n,_,O,j,K,ie),t.context=Ed(null),i=t.current,s=Dt(),s=il(s),n=Ei(s),n.callback=null,Ai(i,n,s),i=s,t.current.lanes=i,ur(t,i),Qt(t),e[Ss]=t.current,Ko(e),new La(t)},ln.version="19.1.0",ln}var Fd;function vg(){if(Fd)return vc.exports;Fd=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),vc.exports=_g(),vc.exports}var gg=vg();const pg=m_(gg);var mg={value:()=>{}};function yn(){for(var r=0,c=arguments.length,p={},y;r<c;++r){if(!(y=arguments[r]+"")||y in p||/[\s.]/.test(y))throw new Error("illegal type: "+y);p[y]=[]}return new qa(p)}function qa(r){this._=r}function yg(r,c){return r.trim().split(/^|\s+/).map(function(p){var y="",A=p.indexOf(".");if(A>=0&&(y=p.slice(A+1),p=p.slice(0,A)),p&&!c.hasOwnProperty(p))throw new Error("unknown type: "+p);return{type:p,name:y}})}qa.prototype=yn.prototype={constructor:qa,on:function(r,c){var p=this._,y=yg(r+"",p),A,k=-1,L=y.length;if(arguments.length<2){for(;++k<L;)if((A=(r=y[k]).type)&&(A=Sg(p[A],r.name)))return A;return}if(c!=null&&typeof c!="function")throw new Error("invalid callback: "+c);for(;++k<L;)if(A=(r=y[k]).type)p[A]=Yd(p[A],r.name,c);else if(c==null)for(A in p)p[A]=Yd(p[A],r.name,null);return this},copy:function(){var r={},c=this._;for(var p in c)r[p]=c[p].slice();return new qa(r)},call:function(r,c){if((A=arguments.length-2)>0)for(var p=new Array(A),y=0,A,k;y<A;++y)p[y]=arguments[y+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(k=this._[r],y=0,A=k.length;y<A;++y)k[y].value.apply(c,p)},apply:function(r,c,p){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var y=this._[r],A=0,k=y.length;A<k;++A)y[A].value.apply(c,p)}};function Sg(r,c){for(var p=0,y=r.length,A;p<y;++p)if((A=r[p]).name===c)return A.value}function Yd(r,c,p){for(var y=0,A=r.length;y<A;++y)if(r[y].name===c){r[y]=mg,r=r.slice(0,y).concat(r.slice(y+1));break}return p!=null&&r.push({name:c,value:p}),r}var Ac="http://www.w3.org/1999/xhtml";const Xd={svg:"http://www.w3.org/2000/svg",xhtml:Ac,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Za(r){var c=r+="",p=c.indexOf(":");return p>=0&&(c=r.slice(0,p))!=="xmlns"&&(r=r.slice(p+1)),Xd.hasOwnProperty(c)?{space:Xd[c],local:r}:r}function bg(r){return function(){var c=this.ownerDocument,p=this.namespaceURI;return p===Ac&&c.documentElement.namespaceURI===Ac?c.createElement(r):c.createElementNS(p,r)}}function Cg(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function y_(r){var c=Za(r);return(c.local?Cg:bg)(c)}function wg(){}function Nc(r){return r==null?wg:function(){return this.querySelector(r)}}function xg(r){typeof r!="function"&&(r=Nc(r));for(var c=this._groups,p=c.length,y=new Array(p),A=0;A<p;++A)for(var k=c[A],L=k.length,l=y[A]=new Array(L),u,h,m=0;m<L;++m)(u=k[m])&&(h=r.call(u,u.__data__,m,k))&&("__data__"in u&&(h.__data__=u.__data__),l[m]=h);return new Rt(y,this._parents)}function Eg(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function Ag(){return[]}function S_(r){return r==null?Ag:function(){return this.querySelectorAll(r)}}function Dg(r){return function(){return Eg(r.apply(this,arguments))}}function Tg(r){typeof r=="function"?r=Dg(r):r=S_(r);for(var c=this._groups,p=c.length,y=[],A=[],k=0;k<p;++k)for(var L=c[k],l=L.length,u,h=0;h<l;++h)(u=L[h])&&(y.push(r.call(u,u.__data__,h,L)),A.push(u));return new Rt(y,A)}function b_(r){return function(){return this.matches(r)}}function C_(r){return function(c){return c.matches(r)}}var Rg=Array.prototype.find;function Mg(r){return function(){return Rg.call(this.children,r)}}function Bg(){return this.firstElementChild}function Lg(r){return this.select(r==null?Bg:Mg(typeof r=="function"?r:C_(r)))}var Og=Array.prototype.filter;function kg(){return Array.from(this.children)}function Hg(r){return function(){return Og.call(this.children,r)}}function Ng(r){return this.selectAll(r==null?kg:Hg(typeof r=="function"?r:C_(r)))}function zg(r){typeof r!="function"&&(r=b_(r));for(var c=this._groups,p=c.length,y=new Array(p),A=0;A<p;++A)for(var k=c[A],L=k.length,l=y[A]=[],u,h=0;h<L;++h)(u=k[h])&&r.call(u,u.__data__,h,k)&&l.push(u);return new Rt(y,this._parents)}function w_(r){return new Array(r.length)}function Ug(){return new Rt(this._enter||this._groups.map(w_),this._parents)}function Fa(r,c){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=c}Fa.prototype={constructor:Fa,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,c){return this._parent.insertBefore(r,c)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function jg(r){return function(){return r}}function qg(r,c,p,y,A,k){for(var L=0,l,u=c.length,h=k.length;L<h;++L)(l=c[L])?(l.__data__=k[L],y[L]=l):p[L]=new Fa(r,k[L]);for(;L<u;++L)(l=c[L])&&(A[L]=l)}function Ig(r,c,p,y,A,k,L){var l,u,h=new Map,m=c.length,v=k.length,S=new Array(m),x;for(l=0;l<m;++l)(u=c[l])&&(S[l]=x=L.call(u,u.__data__,l,c)+"",h.has(x)?A[l]=u:h.set(x,u));for(l=0;l<v;++l)x=L.call(r,k[l],l,k)+"",(u=h.get(x))?(y[l]=u,u.__data__=k[l],h.delete(x)):p[l]=new Fa(r,k[l]);for(l=0;l<m;++l)(u=c[l])&&h.get(S[l])===u&&(A[l]=u)}function Pg(r){return r.__data__}function $g(r,c){if(!arguments.length)return Array.from(this,Pg);var p=c?Ig:qg,y=this._parents,A=this._groups;typeof r!="function"&&(r=jg(r));for(var k=A.length,L=new Array(k),l=new Array(k),u=new Array(k),h=0;h<k;++h){var m=y[h],v=A[h],S=v.length,x=Fg(r.call(m,m&&m.__data__,h,y)),D=x.length,C=l[h]=new Array(D),a=L[h]=new Array(D),o=u[h]=new Array(S);p(m,v,C,a,o,x,c);for(var f=0,d=0,g,w;f<D;++f)if(g=C[f]){for(f>=d&&(d=f+1);!(w=a[d])&&++d<D;);g._next=w||null}}return L=new Rt(L,y),L._enter=l,L._exit=u,L}function Fg(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function Yg(){return new Rt(this._exit||this._groups.map(w_),this._parents)}function Xg(r,c,p){var y=this.enter(),A=this,k=this.exit();return typeof r=="function"?(y=r(y),y&&(y=y.selection())):y=y.append(r+""),c!=null&&(A=c(A),A&&(A=A.selection())),p==null?k.remove():p(k),y&&A?y.merge(A).order():A}function Gg(r){for(var c=r.selection?r.selection():r,p=this._groups,y=c._groups,A=p.length,k=y.length,L=Math.min(A,k),l=new Array(A),u=0;u<L;++u)for(var h=p[u],m=y[u],v=h.length,S=l[u]=new Array(v),x,D=0;D<v;++D)(x=h[D]||m[D])&&(S[D]=x);for(;u<A;++u)l[u]=p[u];return new Rt(l,this._parents)}function Kg(){for(var r=this._groups,c=-1,p=r.length;++c<p;)for(var y=r[c],A=y.length-1,k=y[A],L;--A>=0;)(L=y[A])&&(k&&L.compareDocumentPosition(k)^4&&k.parentNode.insertBefore(L,k),k=L);return this}function Vg(r){r||(r=Wg);function c(v,S){return v&&S?r(v.__data__,S.__data__):!v-!S}for(var p=this._groups,y=p.length,A=new Array(y),k=0;k<y;++k){for(var L=p[k],l=L.length,u=A[k]=new Array(l),h,m=0;m<l;++m)(h=L[m])&&(u[m]=h);u.sort(c)}return new Rt(A,this._parents).order()}function Wg(r,c){return r<c?-1:r>c?1:r>=c?0:NaN}function Qg(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function Zg(){return Array.from(this)}function Jg(){for(var r=this._groups,c=0,p=r.length;c<p;++c)for(var y=r[c],A=0,k=y.length;A<k;++A){var L=y[A];if(L)return L}return null}function ep(){let r=0;for(const c of this)++r;return r}function tp(){return!this.node()}function ip(r){for(var c=this._groups,p=0,y=c.length;p<y;++p)for(var A=c[p],k=0,L=A.length,l;k<L;++k)(l=A[k])&&r.call(l,l.__data__,k,A);return this}function sp(r){return function(){this.removeAttribute(r)}}function rp(r){return function(){this.removeAttributeNS(r.space,r.local)}}function np(r,c){return function(){this.setAttribute(r,c)}}function ap(r,c){return function(){this.setAttributeNS(r.space,r.local,c)}}function lp(r,c){return function(){var p=c.apply(this,arguments);p==null?this.removeAttribute(r):this.setAttribute(r,p)}}function op(r,c){return function(){var p=c.apply(this,arguments);p==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,p)}}function cp(r,c){var p=Za(r);if(arguments.length<2){var y=this.node();return p.local?y.getAttributeNS(p.space,p.local):y.getAttribute(p)}return this.each((c==null?p.local?rp:sp:typeof c=="function"?p.local?op:lp:p.local?ap:np)(p,c))}function x_(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function up(r){return function(){this.style.removeProperty(r)}}function hp(r,c,p){return function(){this.style.setProperty(r,c,p)}}function fp(r,c,p){return function(){var y=c.apply(this,arguments);y==null?this.style.removeProperty(r):this.style.setProperty(r,y,p)}}function dp(r,c,p){return arguments.length>1?this.each((c==null?up:typeof c=="function"?fp:hp)(r,c,p??"")):lr(this.node(),r)}function lr(r,c){return r.style.getPropertyValue(c)||x_(r).getComputedStyle(r,null).getPropertyValue(c)}function _p(r){return function(){delete this[r]}}function vp(r,c){return function(){this[r]=c}}function gp(r,c){return function(){var p=c.apply(this,arguments);p==null?delete this[r]:this[r]=p}}function pp(r,c){return arguments.length>1?this.each((c==null?_p:typeof c=="function"?gp:vp)(r,c)):this.node()[r]}function E_(r){return r.trim().split(/^|\s+/)}function zc(r){return r.classList||new A_(r)}function A_(r){this._node=r,this._names=E_(r.getAttribute("class")||"")}A_.prototype={add:function(r){var c=this._names.indexOf(r);c<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var c=this._names.indexOf(r);c>=0&&(this._names.splice(c,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};function D_(r,c){for(var p=zc(r),y=-1,A=c.length;++y<A;)p.add(c[y])}function T_(r,c){for(var p=zc(r),y=-1,A=c.length;++y<A;)p.remove(c[y])}function mp(r){return function(){D_(this,r)}}function yp(r){return function(){T_(this,r)}}function Sp(r,c){return function(){(c.apply(this,arguments)?D_:T_)(this,r)}}function bp(r,c){var p=E_(r+"");if(arguments.length<2){for(var y=zc(this.node()),A=-1,k=p.length;++A<k;)if(!y.contains(p[A]))return!1;return!0}return this.each((typeof c=="function"?Sp:c?mp:yp)(p,c))}function Cp(){this.textContent=""}function wp(r){return function(){this.textContent=r}}function xp(r){return function(){var c=r.apply(this,arguments);this.textContent=c??""}}function Ep(r){return arguments.length?this.each(r==null?Cp:(typeof r=="function"?xp:wp)(r)):this.node().textContent}function Ap(){this.innerHTML=""}function Dp(r){return function(){this.innerHTML=r}}function Tp(r){return function(){var c=r.apply(this,arguments);this.innerHTML=c??""}}function Rp(r){return arguments.length?this.each(r==null?Ap:(typeof r=="function"?Tp:Dp)(r)):this.node().innerHTML}function Mp(){this.nextSibling&&this.parentNode.appendChild(this)}function Bp(){return this.each(Mp)}function Lp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Op(){return this.each(Lp)}function kp(r){var c=typeof r=="function"?r:y_(r);return this.select(function(){return this.appendChild(c.apply(this,arguments))})}function Hp(){return null}function Np(r,c){var p=typeof r=="function"?r:y_(r),y=c==null?Hp:typeof c=="function"?c:Nc(c);return this.select(function(){return this.insertBefore(p.apply(this,arguments),y.apply(this,arguments)||null)})}function zp(){var r=this.parentNode;r&&r.removeChild(this)}function Up(){return this.each(zp)}function jp(){var r=this.cloneNode(!1),c=this.parentNode;return c?c.insertBefore(r,this.nextSibling):r}function qp(){var r=this.cloneNode(!0),c=this.parentNode;return c?c.insertBefore(r,this.nextSibling):r}function Ip(r){return this.select(r?qp:jp)}function Pp(r){return arguments.length?this.property("__data__",r):this.node().__data__}function $p(r){return function(c){r.call(this,c,this.__data__)}}function Fp(r){return r.trim().split(/^|\s+/).map(function(c){var p="",y=c.indexOf(".");return y>=0&&(p=c.slice(y+1),c=c.slice(0,y)),{type:c,name:p}})}function Yp(r){return function(){var c=this.__on;if(c){for(var p=0,y=-1,A=c.length,k;p<A;++p)k=c[p],(!r.type||k.type===r.type)&&k.name===r.name?this.removeEventListener(k.type,k.listener,k.options):c[++y]=k;++y?c.length=y:delete this.__on}}}function Xp(r,c,p){return function(){var y=this.__on,A,k=$p(c);if(y){for(var L=0,l=y.length;L<l;++L)if((A=y[L]).type===r.type&&A.name===r.name){this.removeEventListener(A.type,A.listener,A.options),this.addEventListener(A.type,A.listener=k,A.options=p),A.value=c;return}}this.addEventListener(r.type,k,p),A={type:r.type,name:r.name,value:c,listener:k,options:p},y?y.push(A):this.__on=[A]}}function Gp(r,c,p){var y=Fp(r+""),A,k=y.length,L;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,h=l.length,m;u<h;++u)for(A=0,m=l[u];A<k;++A)if((L=y[A]).type===m.type&&L.name===m.name)return m.value}return}for(l=c?Xp:Yp,A=0;A<k;++A)this.each(l(y[A],c,p));return this}function R_(r,c,p){var y=x_(r),A=y.CustomEvent;typeof A=="function"?A=new A(c,p):(A=y.document.createEvent("Event"),p?(A.initEvent(c,p.bubbles,p.cancelable),A.detail=p.detail):A.initEvent(c,!1,!1)),r.dispatchEvent(A)}function Kp(r,c){return function(){return R_(this,r,c)}}function Vp(r,c){return function(){return R_(this,r,c.apply(this,arguments))}}function Wp(r,c){return this.each((typeof c=="function"?Vp:Kp)(r,c))}function*Qp(){for(var r=this._groups,c=0,p=r.length;c<p;++c)for(var y=r[c],A=0,k=y.length,L;A<k;++A)(L=y[A])&&(yield L)}var M_=[null];function Rt(r,c){this._groups=r,this._parents=c}function Sn(){return new Rt([[document.documentElement]],M_)}function Zp(){return this}Rt.prototype=Sn.prototype={constructor:Rt,select:xg,selectAll:Tg,selectChild:Lg,selectChildren:Ng,filter:zg,data:$g,enter:Ug,exit:Yg,join:Xg,merge:Gg,selection:Zp,order:Kg,sort:Vg,call:Qg,nodes:Zg,node:Jg,size:ep,empty:tp,each:ip,attr:cp,style:dp,property:pp,classed:bp,text:Ep,html:Rp,raise:Bp,lower:Op,append:kp,insert:Np,remove:Up,clone:Ip,datum:Pp,on:Gp,dispatch:Wp,[Symbol.iterator]:Qp};function ft(r){return typeof r=="string"?new Rt([[document.querySelector(r)]],[document.documentElement]):new Rt([[r]],M_)}function Jp(r){let c;for(;c=r.sourceEvent;)r=c;return r}function gi(r,c){if(r=Jp(r),c===void 0&&(c=r.currentTarget),c){var p=c.ownerSVGElement||c;if(p.createSVGPoint){var y=p.createSVGPoint();return y.x=r.clientX,y.y=r.clientY,y=y.matrixTransform(c.getScreenCTM().inverse()),[y.x,y.y]}if(c.getBoundingClientRect){var A=c.getBoundingClientRect();return[r.clientX-A.left-c.clientLeft,r.clientY-A.top-c.clientTop]}}return[r.pageX,r.pageY]}const em={passive:!1},_n={capture:!0,passive:!1};function yc(r){r.stopImmediatePropagation()}function nr(r){r.preventDefault(),r.stopImmediatePropagation()}function B_(r){var c=r.document.documentElement,p=ft(r).on("dragstart.drag",nr,_n);"onselectstart"in c?p.on("selectstart.drag",nr,_n):(c.__noselect=c.style.MozUserSelect,c.style.MozUserSelect="none")}function L_(r,c){var p=r.document.documentElement,y=ft(r).on("dragstart.drag",null);c&&(y.on("click.drag",nr,_n),setTimeout(function(){y.on("click.drag",null)},0)),"onselectstart"in p?y.on("selectstart.drag",null):(p.style.MozUserSelect=p.__noselect,delete p.__noselect)}const ka=r=>()=>r;function Dc(r,{sourceEvent:c,subject:p,target:y,identifier:A,active:k,x:L,y:l,dx:u,dy:h,dispatch:m}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:c,enumerable:!0,configurable:!0},subject:{value:p,enumerable:!0,configurable:!0},target:{value:y,enumerable:!0,configurable:!0},identifier:{value:A,enumerable:!0,configurable:!0},active:{value:k,enumerable:!0,configurable:!0},x:{value:L,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:m}})}Dc.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};function tm(r){return!r.ctrlKey&&!r.button}function im(){return this.parentNode}function sm(r,c){return c??{x:r.x,y:r.y}}function rm(){return navigator.maxTouchPoints||"ontouchstart"in this}function nm(){var r=tm,c=im,p=sm,y=rm,A={},k=yn("start","drag","end"),L=0,l,u,h,m,v=0;function S(g){g.on("mousedown.drag",x).filter(y).on("touchstart.drag",a).on("touchmove.drag",o,em).on("touchend.drag touchcancel.drag",f).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(g,w){if(!(m||!r.call(this,g,w))){var R=d(this,c.call(this,g,w),g,w,"mouse");R&&(ft(g.view).on("mousemove.drag",D,_n).on("mouseup.drag",C,_n),B_(g.view),yc(g),h=!1,l=g.clientX,u=g.clientY,R("start",g))}}function D(g){if(nr(g),!h){var w=g.clientX-l,R=g.clientY-u;h=w*w+R*R>v}A.mouse("drag",g)}function C(g){ft(g.view).on("mousemove.drag mouseup.drag",null),L_(g.view,h),nr(g),A.mouse("end",g)}function a(g,w){if(r.call(this,g,w)){var R=g.changedTouches,H=c.call(this,g,w),b=R.length,B,I;for(B=0;B<b;++B)(I=d(this,H,g,w,R[B].identifier,R[B]))&&(yc(g),I("start",g,R[B]))}}function o(g){var w=g.changedTouches,R=w.length,H,b;for(H=0;H<R;++H)(b=A[w[H].identifier])&&(nr(g),b("drag",g,w[H]))}function f(g){var w=g.changedTouches,R=w.length,H,b;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),H=0;H<R;++H)(b=A[w[H].identifier])&&(yc(g),b("end",g,w[H]))}function d(g,w,R,H,b,B){var I=k.copy(),Y=gi(B||R,w),$,X,q;if((q=p.call(g,new Dc("beforestart",{sourceEvent:R,target:S,identifier:b,active:L,x:Y[0],y:Y[1],dx:0,dy:0,dispatch:I}),H))!=null)return $=q.x-Y[0]||0,X=q.y-Y[1]||0,function G(z,P,M){var N=Y,E;switch(z){case"start":A[b]=G,E=L++;break;case"end":delete A[b],--L;case"drag":Y=gi(M||P,w),E=L;break}I.call(z,g,new Dc(z,{sourceEvent:P,subject:q,target:S,identifier:b,active:E,x:Y[0]+$,y:Y[1]+X,dx:Y[0]-N[0],dy:Y[1]-N[1],dispatch:I}),H)}}return S.filter=function(g){return arguments.length?(r=typeof g=="function"?g:ka(!!g),S):r},S.container=function(g){return arguments.length?(c=typeof g=="function"?g:ka(g),S):c},S.subject=function(g){return arguments.length?(p=typeof g=="function"?g:ka(g),S):p},S.touchable=function(g){return arguments.length?(y=typeof g=="function"?g:ka(!!g),S):y},S.on=function(){var g=k.on.apply(k,arguments);return g===k?S:g},S.clickDistance=function(g){return arguments.length?(v=(g=+g)*g,S):Math.sqrt(v)},S}function Uc(r,c,p){r.prototype=c.prototype=p,p.constructor=r}function O_(r,c){var p=Object.create(r.prototype);for(var y in c)p[y]=c[y];return p}function bn(){}var vn=.7,Ya=1/vn,ar="\\s*([+-]?\\d+)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",am=/^#([0-9a-f]{3,8})$/,lm=new RegExp(`^rgb\\(${ar},${ar},${ar}\\)$`),om=new RegExp(`^rgb\\(${Zt},${Zt},${Zt}\\)$`),cm=new RegExp(`^rgba\\(${ar},${ar},${ar},${gn}\\)$`),um=new RegExp(`^rgba\\(${Zt},${Zt},${Zt},${gn}\\)$`),hm=new RegExp(`^hsl\\(${gn},${Zt},${Zt}\\)$`),fm=new RegExp(`^hsla\\(${gn},${Zt},${Zt},${gn}\\)$`),Gd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uc(bn,pn,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Kd,formatHex:Kd,formatHex8:dm,formatHsl:_m,formatRgb:Vd,toString:Vd});function Kd(){return this.rgb().formatHex()}function dm(){return this.rgb().formatHex8()}function _m(){return k_(this).formatHsl()}function Vd(){return this.rgb().formatRgb()}function pn(r){var c,p;return r=(r+"").trim().toLowerCase(),(c=am.exec(r))?(p=c[1].length,c=parseInt(c[1],16),p===6?Wd(c):p===3?new bt(c>>8&15|c>>4&240,c>>4&15|c&240,(c&15)<<4|c&15,1):p===8?Ha(c>>24&255,c>>16&255,c>>8&255,(c&255)/255):p===4?Ha(c>>12&15|c>>8&240,c>>8&15|c>>4&240,c>>4&15|c&240,((c&15)<<4|c&15)/255):null):(c=lm.exec(r))?new bt(c[1],c[2],c[3],1):(c=om.exec(r))?new bt(c[1]*255/100,c[2]*255/100,c[3]*255/100,1):(c=cm.exec(r))?Ha(c[1],c[2],c[3],c[4]):(c=um.exec(r))?Ha(c[1]*255/100,c[2]*255/100,c[3]*255/100,c[4]):(c=hm.exec(r))?Jd(c[1],c[2]/100,c[3]/100,1):(c=fm.exec(r))?Jd(c[1],c[2]/100,c[3]/100,c[4]):Gd.hasOwnProperty(r)?Wd(Gd[r]):r==="transparent"?new bt(NaN,NaN,NaN,0):null}function Wd(r){return new bt(r>>16&255,r>>8&255,r&255,1)}function Ha(r,c,p,y){return y<=0&&(r=c=p=NaN),new bt(r,c,p,y)}function vm(r){return r instanceof bn||(r=pn(r)),r?(r=r.rgb(),new bt(r.r,r.g,r.b,r.opacity)):new bt}function Tc(r,c,p,y){return arguments.length===1?vm(r):new bt(r,c,p,y??1)}function bt(r,c,p,y){this.r=+r,this.g=+c,this.b=+p,this.opacity=+y}Uc(bt,Tc,O_(bn,{brighter(r){return r=r==null?Ya:Math.pow(Ya,r),new bt(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?vn:Math.pow(vn,r),new bt(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new bt(_s(this.r),_s(this.g),_s(this.b),Xa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qd,formatHex:Qd,formatHex8:gm,formatRgb:Zd,toString:Zd}));function Qd(){return`#${ds(this.r)}${ds(this.g)}${ds(this.b)}`}function gm(){return`#${ds(this.r)}${ds(this.g)}${ds(this.b)}${ds((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zd(){const r=Xa(this.opacity);return`${r===1?"rgb(":"rgba("}${_s(this.r)}, ${_s(this.g)}, ${_s(this.b)}${r===1?")":`, ${r})`}`}function Xa(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function _s(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function ds(r){return r=_s(r),(r<16?"0":"")+r.toString(16)}function Jd(r,c,p,y){return y<=0?r=c=p=NaN:p<=0||p>=1?r=c=NaN:c<=0&&(r=NaN),new Ft(r,c,p,y)}function k_(r){if(r instanceof Ft)return new Ft(r.h,r.s,r.l,r.opacity);if(r instanceof bn||(r=pn(r)),!r)return new Ft;if(r instanceof Ft)return r;r=r.rgb();var c=r.r/255,p=r.g/255,y=r.b/255,A=Math.min(c,p,y),k=Math.max(c,p,y),L=NaN,l=k-A,u=(k+A)/2;return l?(c===k?L=(p-y)/l+(p<y)*6:p===k?L=(y-c)/l+2:L=(c-p)/l+4,l/=u<.5?k+A:2-k-A,L*=60):l=u>0&&u<1?0:L,new Ft(L,l,u,r.opacity)}function pm(r,c,p,y){return arguments.length===1?k_(r):new Ft(r,c,p,y??1)}function Ft(r,c,p,y){this.h=+r,this.s=+c,this.l=+p,this.opacity=+y}Uc(Ft,pm,O_(bn,{brighter(r){return r=r==null?Ya:Math.pow(Ya,r),new Ft(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?vn:Math.pow(vn,r),new Ft(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,c=isNaN(r)||isNaN(this.s)?0:this.s,p=this.l,y=p+(p<.5?p:1-p)*c,A=2*p-y;return new bt(Sc(r>=240?r-240:r+120,A,y),Sc(r,A,y),Sc(r<120?r+240:r-120,A,y),this.opacity)},clamp(){return new Ft(e_(this.h),Na(this.s),Na(this.l),Xa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Xa(this.opacity);return`${r===1?"hsl(":"hsla("}${e_(this.h)}, ${Na(this.s)*100}%, ${Na(this.l)*100}%${r===1?")":`, ${r})`}`}}));function e_(r){return r=(r||0)%360,r<0?r+360:r}function Na(r){return Math.max(0,Math.min(1,r||0))}function Sc(r,c,p){return(r<60?c+(p-c)*r/60:r<180?p:r<240?c+(p-c)*(240-r)/60:c)*255}const H_=r=>()=>r;function mm(r,c){return function(p){return r+p*c}}function ym(r,c,p){return r=Math.pow(r,p),c=Math.pow(c,p)-r,p=1/p,function(y){return Math.pow(r+y*c,p)}}function Sm(r){return(r=+r)==1?N_:function(c,p){return p-c?ym(c,p,r):H_(isNaN(c)?p:c)}}function N_(r,c){var p=c-r;return p?mm(r,p):H_(isNaN(r)?c:r)}const t_=function r(c){var p=Sm(c);function y(A,k){var L=p((A=Tc(A)).r,(k=Tc(k)).r),l=p(A.g,k.g),u=p(A.b,k.b),h=N_(A.opacity,k.opacity);return function(m){return A.r=L(m),A.g=l(m),A.b=u(m),A.opacity=h(m),A+""}}return y.gamma=r,y}(1);function Fi(r,c){return r=+r,c=+c,function(p){return r*(1-p)+c*p}}var Rc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bc=new RegExp(Rc.source,"g");function bm(r){return function(){return r}}function Cm(r){return function(c){return r(c)+""}}function wm(r,c){var p=Rc.lastIndex=bc.lastIndex=0,y,A,k,L=-1,l=[],u=[];for(r=r+"",c=c+"";(y=Rc.exec(r))&&(A=bc.exec(c));)(k=A.index)>p&&(k=c.slice(p,k),l[L]?l[L]+=k:l[++L]=k),(y=y[0])===(A=A[0])?l[L]?l[L]+=A:l[++L]=A:(l[++L]=null,u.push({i:L,x:Fi(y,A)})),p=bc.lastIndex;return p<c.length&&(k=c.slice(p),l[L]?l[L]+=k:l[++L]=k),l.length<2?u[0]?Cm(u[0].x):bm(c):(c=u.length,function(h){for(var m=0,v;m<c;++m)l[(v=u[m]).i]=v.x(h);return l.join("")})}var i_=180/Math.PI,Mc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function z_(r,c,p,y,A,k){var L,l,u;return(L=Math.sqrt(r*r+c*c))&&(r/=L,c/=L),(u=r*p+c*y)&&(p-=r*u,y-=c*u),(l=Math.sqrt(p*p+y*y))&&(p/=l,y/=l,u/=l),r*y<c*p&&(r=-r,c=-c,u=-u,L=-L),{translateX:A,translateY:k,rotate:Math.atan2(c,r)*i_,skewX:Math.atan(u)*i_,scaleX:L,scaleY:l}}var za;function xm(r){const c=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return c.isIdentity?Mc:z_(c.a,c.b,c.c,c.d,c.e,c.f)}function Em(r){return r==null||(za||(za=document.createElementNS("http://www.w3.org/2000/svg","g")),za.setAttribute("transform",r),!(r=za.transform.baseVal.consolidate()))?Mc:(r=r.matrix,z_(r.a,r.b,r.c,r.d,r.e,r.f))}function U_(r,c,p,y){function A(h){return h.length?h.pop()+" ":""}function k(h,m,v,S,x,D){if(h!==v||m!==S){var C=x.push("translate(",null,c,null,p);D.push({i:C-4,x:Fi(h,v)},{i:C-2,x:Fi(m,S)})}else(v||S)&&x.push("translate("+v+c+S+p)}function L(h,m,v,S){h!==m?(h-m>180?m+=360:m-h>180&&(h+=360),S.push({i:v.push(A(v)+"rotate(",null,y)-2,x:Fi(h,m)})):m&&v.push(A(v)+"rotate("+m+y)}function l(h,m,v,S){h!==m?S.push({i:v.push(A(v)+"skewX(",null,y)-2,x:Fi(h,m)}):m&&v.push(A(v)+"skewX("+m+y)}function u(h,m,v,S,x,D){if(h!==v||m!==S){var C=x.push(A(x)+"scale(",null,",",null,")");D.push({i:C-4,x:Fi(h,v)},{i:C-2,x:Fi(m,S)})}else(v!==1||S!==1)&&x.push(A(x)+"scale("+v+","+S+")")}return function(h,m){var v=[],S=[];return h=r(h),m=r(m),k(h.translateX,h.translateY,m.translateX,m.translateY,v,S),L(h.rotate,m.rotate,v,S),l(h.skewX,m.skewX,v,S),u(h.scaleX,h.scaleY,m.scaleX,m.scaleY,v,S),h=m=null,function(x){for(var D=-1,C=S.length,a;++D<C;)v[(a=S[D]).i]=a.x(x);return v.join("")}}}var Am=U_(xm,"px, ","px)","deg)"),Dm=U_(Em,", ",")",")"),Tm=1e-12;function s_(r){return((r=Math.exp(r))+1/r)/2}function Rm(r){return((r=Math.exp(r))-1/r)/2}function Mm(r){return((r=Math.exp(2*r))-1)/(r+1)}const Bm=function r(c,p,y){function A(k,L){var l=k[0],u=k[1],h=k[2],m=L[0],v=L[1],S=L[2],x=m-l,D=v-u,C=x*x+D*D,a,o;if(C<Tm)o=Math.log(S/h)/c,a=function(H){return[l+H*x,u+H*D,h*Math.exp(c*H*o)]};else{var f=Math.sqrt(C),d=(S*S-h*h+y*C)/(2*h*p*f),g=(S*S-h*h-y*C)/(2*S*p*f),w=Math.log(Math.sqrt(d*d+1)-d),R=Math.log(Math.sqrt(g*g+1)-g);o=(R-w)/c,a=function(H){var b=H*o,B=s_(w),I=h/(p*f)*(B*Mm(c*b+w)-Rm(w));return[l+I*x,u+I*D,h*B/s_(c*b+w)]}}return a.duration=o*1e3*c/Math.SQRT2,a}return A.rho=function(k){var L=Math.max(.001,+k),l=L*L,u=l*l;return r(L,l,u)},A}(Math.SQRT2,2,4);var or=0,fn=0,on=0,j_=1e3,Ga,dn,Ka=0,vs=0,Ja=0,mn=typeof performance=="object"&&performance.now?performance:Date,q_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function jc(){return vs||(q_(Lm),vs=mn.now()+Ja)}function Lm(){vs=0}function Va(){this._call=this._time=this._next=null}Va.prototype=qc.prototype={constructor:Va,restart:function(r,c,p){if(typeof r!="function")throw new TypeError("callback is not a function");p=(p==null?jc():+p)+(c==null?0:+c),!this._next&&dn!==this&&(dn?dn._next=this:Ga=this,dn=this),this._call=r,this._time=p,Bc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bc())}};function qc(r,c,p){var y=new Va;return y.restart(r,c,p),y}function Om(){jc(),++or;for(var r=Ga,c;r;)(c=vs-r._time)>=0&&r._call.call(void 0,c),r=r._next;--or}function r_(){vs=(Ka=mn.now())+Ja,or=fn=0;try{Om()}finally{or=0,Hm(),vs=0}}function km(){var r=mn.now(),c=r-Ka;c>j_&&(Ja-=c,Ka=r)}function Hm(){for(var r,c=Ga,p,y=1/0;c;)c._call?(y>c._time&&(y=c._time),r=c,c=c._next):(p=c._next,c._next=null,c=r?r._next=p:Ga=p);dn=r,Bc(y)}function Bc(r){if(!or){fn&&(fn=clearTimeout(fn));var c=r-vs;c>24?(r<1/0&&(fn=setTimeout(r_,r-mn.now()-Ja)),on&&(on=clearInterval(on))):(on||(Ka=mn.now(),on=setInterval(km,j_)),or=1,q_(r_))}}function n_(r,c,p){var y=new Va;return c=c==null?0:+c,y.restart(A=>{y.stop(),r(A+c)},c,p),y}var Nm=yn("start","end","cancel","interrupt"),zm=[],I_=0,a_=1,Lc=2,Ia=3,l_=4,Oc=5,Pa=6;function el(r,c,p,y,A,k){var L=r.__transition;if(!L)r.__transition={};else if(p in L)return;Um(r,p,{name:c,index:y,group:A,on:Nm,tween:zm,time:k.time,delay:k.delay,duration:k.duration,ease:k.ease,timer:null,state:I_})}function Ic(r,c){var p=Yt(r,c);if(p.state>I_)throw new Error("too late; already scheduled");return p}function Jt(r,c){var p=Yt(r,c);if(p.state>Ia)throw new Error("too late; already running");return p}function Yt(r,c){var p=r.__transition;if(!p||!(p=p[c]))throw new Error("transition not found");return p}function Um(r,c,p){var y=r.__transition,A;y[c]=p,p.timer=qc(k,0,p.time);function k(h){p.state=a_,p.timer.restart(L,p.delay,p.time),p.delay<=h&&L(h-p.delay)}function L(h){var m,v,S,x;if(p.state!==a_)return u();for(m in y)if(x=y[m],x.name===p.name){if(x.state===Ia)return n_(L);x.state===l_?(x.state=Pa,x.timer.stop(),x.on.call("interrupt",r,r.__data__,x.index,x.group),delete y[m]):+m<c&&(x.state=Pa,x.timer.stop(),x.on.call("cancel",r,r.__data__,x.index,x.group),delete y[m])}if(n_(function(){p.state===Ia&&(p.state=l_,p.timer.restart(l,p.delay,p.time),l(h))}),p.state=Lc,p.on.call("start",r,r.__data__,p.index,p.group),p.state===Lc){for(p.state=Ia,A=new Array(S=p.tween.length),m=0,v=-1;m<S;++m)(x=p.tween[m].value.call(r,r.__data__,p.index,p.group))&&(A[++v]=x);A.length=v+1}}function l(h){for(var m=h<p.duration?p.ease.call(null,h/p.duration):(p.timer.restart(u),p.state=Oc,1),v=-1,S=A.length;++v<S;)A[v].call(r,m);p.state===Oc&&(p.on.call("end",r,r.__data__,p.index,p.group),u())}function u(){p.state=Pa,p.timer.stop(),delete y[c];for(var h in y)return;delete r.__transition}}function $a(r,c){var p=r.__transition,y,A,k=!0,L;if(p){c=c==null?null:c+"";for(L in p){if((y=p[L]).name!==c){k=!1;continue}A=y.state>Lc&&y.state<Oc,y.state=Pa,y.timer.stop(),y.on.call(A?"interrupt":"cancel",r,r.__data__,y.index,y.group),delete p[L]}k&&delete r.__transition}}function jm(r){return this.each(function(){$a(this,r)})}function qm(r,c){var p,y;return function(){var A=Jt(this,r),k=A.tween;if(k!==p){y=p=k;for(var L=0,l=y.length;L<l;++L)if(y[L].name===c){y=y.slice(),y.splice(L,1);break}}A.tween=y}}function Im(r,c,p){var y,A;if(typeof p!="function")throw new Error;return function(){var k=Jt(this,r),L=k.tween;if(L!==y){A=(y=L).slice();for(var l={name:c,value:p},u=0,h=A.length;u<h;++u)if(A[u].name===c){A[u]=l;break}u===h&&A.push(l)}k.tween=A}}function Pm(r,c){var p=this._id;if(r+="",arguments.length<2){for(var y=Yt(this.node(),p).tween,A=0,k=y.length,L;A<k;++A)if((L=y[A]).name===r)return L.value;return null}return this.each((c==null?qm:Im)(p,r,c))}function Pc(r,c,p){var y=r._id;return r.each(function(){var A=Jt(this,y);(A.value||(A.value={}))[c]=p.apply(this,arguments)}),function(A){return Yt(A,y).value[c]}}function P_(r,c){var p;return(typeof c=="number"?Fi:c instanceof pn?t_:(p=pn(c))?(c=p,t_):wm)(r,c)}function $m(r){return function(){this.removeAttribute(r)}}function Fm(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Ym(r,c,p){var y,A=p+"",k;return function(){var L=this.getAttribute(r);return L===A?null:L===y?k:k=c(y=L,p)}}function Xm(r,c,p){var y,A=p+"",k;return function(){var L=this.getAttributeNS(r.space,r.local);return L===A?null:L===y?k:k=c(y=L,p)}}function Gm(r,c,p){var y,A,k;return function(){var L,l=p(this),u;return l==null?void this.removeAttribute(r):(L=this.getAttribute(r),u=l+"",L===u?null:L===y&&u===A?k:(A=u,k=c(y=L,l)))}}function Km(r,c,p){var y,A,k;return function(){var L,l=p(this),u;return l==null?void this.removeAttributeNS(r.space,r.local):(L=this.getAttributeNS(r.space,r.local),u=l+"",L===u?null:L===y&&u===A?k:(A=u,k=c(y=L,l)))}}function Vm(r,c){var p=Za(r),y=p==="transform"?Dm:P_;return this.attrTween(r,typeof c=="function"?(p.local?Km:Gm)(p,y,Pc(this,"attr."+r,c)):c==null?(p.local?Fm:$m)(p):(p.local?Xm:Ym)(p,y,c))}function Wm(r,c){return function(p){this.setAttribute(r,c.call(this,p))}}function Qm(r,c){return function(p){this.setAttributeNS(r.space,r.local,c.call(this,p))}}function Zm(r,c){var p,y;function A(){var k=c.apply(this,arguments);return k!==y&&(p=(y=k)&&Qm(r,k)),p}return A._value=c,A}function Jm(r,c){var p,y;function A(){var k=c.apply(this,arguments);return k!==y&&(p=(y=k)&&Wm(r,k)),p}return A._value=c,A}function e1(r,c){var p="attr."+r;if(arguments.length<2)return(p=this.tween(p))&&p._value;if(c==null)return this.tween(p,null);if(typeof c!="function")throw new Error;var y=Za(r);return this.tween(p,(y.local?Zm:Jm)(y,c))}function t1(r,c){return function(){Ic(this,r).delay=+c.apply(this,arguments)}}function i1(r,c){return c=+c,function(){Ic(this,r).delay=c}}function s1(r){var c=this._id;return arguments.length?this.each((typeof r=="function"?t1:i1)(c,r)):Yt(this.node(),c).delay}function r1(r,c){return function(){Jt(this,r).duration=+c.apply(this,arguments)}}function n1(r,c){return c=+c,function(){Jt(this,r).duration=c}}function a1(r){var c=this._id;return arguments.length?this.each((typeof r=="function"?r1:n1)(c,r)):Yt(this.node(),c).duration}function l1(r,c){if(typeof c!="function")throw new Error;return function(){Jt(this,r).ease=c}}function o1(r){var c=this._id;return arguments.length?this.each(l1(c,r)):Yt(this.node(),c).ease}function c1(r,c){return function(){var p=c.apply(this,arguments);if(typeof p!="function")throw new Error;Jt(this,r).ease=p}}function u1(r){if(typeof r!="function")throw new Error;return this.each(c1(this._id,r))}function h1(r){typeof r!="function"&&(r=b_(r));for(var c=this._groups,p=c.length,y=new Array(p),A=0;A<p;++A)for(var k=c[A],L=k.length,l=y[A]=[],u,h=0;h<L;++h)(u=k[h])&&r.call(u,u.__data__,h,k)&&l.push(u);return new mi(y,this._parents,this._name,this._id)}function f1(r){if(r._id!==this._id)throw new Error;for(var c=this._groups,p=r._groups,y=c.length,A=p.length,k=Math.min(y,A),L=new Array(y),l=0;l<k;++l)for(var u=c[l],h=p[l],m=u.length,v=L[l]=new Array(m),S,x=0;x<m;++x)(S=u[x]||h[x])&&(v[x]=S);for(;l<y;++l)L[l]=c[l];return new mi(L,this._parents,this._name,this._id)}function d1(r){return(r+"").trim().split(/^|\s+/).every(function(c){var p=c.indexOf(".");return p>=0&&(c=c.slice(0,p)),!c||c==="start"})}function _1(r,c,p){var y,A,k=d1(c)?Ic:Jt;return function(){var L=k(this,r),l=L.on;l!==y&&(A=(y=l).copy()).on(c,p),L.on=A}}function v1(r,c){var p=this._id;return arguments.length<2?Yt(this.node(),p).on.on(r):this.each(_1(p,r,c))}function g1(r){return function(){var c=this.parentNode;for(var p in this.__transition)if(+p!==r)return;c&&c.removeChild(this)}}function p1(){return this.on("end.remove",g1(this._id))}function m1(r){var c=this._name,p=this._id;typeof r!="function"&&(r=Nc(r));for(var y=this._groups,A=y.length,k=new Array(A),L=0;L<A;++L)for(var l=y[L],u=l.length,h=k[L]=new Array(u),m,v,S=0;S<u;++S)(m=l[S])&&(v=r.call(m,m.__data__,S,l))&&("__data__"in m&&(v.__data__=m.__data__),h[S]=v,el(h[S],c,p,S,h,Yt(m,p)));return new mi(k,this._parents,c,p)}function y1(r){var c=this._name,p=this._id;typeof r!="function"&&(r=S_(r));for(var y=this._groups,A=y.length,k=[],L=[],l=0;l<A;++l)for(var u=y[l],h=u.length,m,v=0;v<h;++v)if(m=u[v]){for(var S=r.call(m,m.__data__,v,u),x,D=Yt(m,p),C=0,a=S.length;C<a;++C)(x=S[C])&&el(x,c,p,C,S,D);k.push(S),L.push(m)}return new mi(k,L,c,p)}var S1=Sn.prototype.constructor;function b1(){return new S1(this._groups,this._parents)}function C1(r,c){var p,y,A;return function(){var k=lr(this,r),L=(this.style.removeProperty(r),lr(this,r));return k===L?null:k===p&&L===y?A:A=c(p=k,y=L)}}function $_(r){return function(){this.style.removeProperty(r)}}function w1(r,c,p){var y,A=p+"",k;return function(){var L=lr(this,r);return L===A?null:L===y?k:k=c(y=L,p)}}function x1(r,c,p){var y,A,k;return function(){var L=lr(this,r),l=p(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(r),lr(this,r))),L===u?null:L===y&&u===A?k:(A=u,k=c(y=L,l))}}function E1(r,c){var p,y,A,k="style."+c,L="end."+k,l;return function(){var u=Jt(this,r),h=u.on,m=u.value[k]==null?l||(l=$_(c)):void 0;(h!==p||A!==m)&&(y=(p=h).copy()).on(L,A=m),u.on=y}}function A1(r,c,p){var y=(r+="")=="transform"?Am:P_;return c==null?this.styleTween(r,C1(r,y)).on("end.style."+r,$_(r)):typeof c=="function"?this.styleTween(r,x1(r,y,Pc(this,"style."+r,c))).each(E1(this._id,r)):this.styleTween(r,w1(r,y,c),p).on("end.style."+r,null)}function D1(r,c,p){return function(y){this.style.setProperty(r,c.call(this,y),p)}}function T1(r,c,p){var y,A;function k(){var L=c.apply(this,arguments);return L!==A&&(y=(A=L)&&D1(r,L,p)),y}return k._value=c,k}function R1(r,c,p){var y="style."+(r+="");if(arguments.length<2)return(y=this.tween(y))&&y._value;if(c==null)return this.tween(y,null);if(typeof c!="function")throw new Error;return this.tween(y,T1(r,c,p??""))}function M1(r){return function(){this.textContent=r}}function B1(r){return function(){var c=r(this);this.textContent=c??""}}function L1(r){return this.tween("text",typeof r=="function"?B1(Pc(this,"text",r)):M1(r==null?"":r+""))}function O1(r){return function(c){this.textContent=r.call(this,c)}}function k1(r){var c,p;function y(){var A=r.apply(this,arguments);return A!==p&&(c=(p=A)&&O1(A)),c}return y._value=r,y}function H1(r){var c="text";if(arguments.length<1)return(c=this.tween(c))&&c._value;if(r==null)return this.tween(c,null);if(typeof r!="function")throw new Error;return this.tween(c,k1(r))}function N1(){for(var r=this._name,c=this._id,p=F_(),y=this._groups,A=y.length,k=0;k<A;++k)for(var L=y[k],l=L.length,u,h=0;h<l;++h)if(u=L[h]){var m=Yt(u,c);el(u,r,p,h,L,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new mi(y,this._parents,r,p)}function z1(){var r,c,p=this,y=p._id,A=p.size();return new Promise(function(k,L){var l={value:L},u={value:function(){--A===0&&k()}};p.each(function(){var h=Jt(this,y),m=h.on;m!==r&&(c=(r=m).copy(),c._.cancel.push(l),c._.interrupt.push(l),c._.end.push(u)),h.on=c}),A===0&&k()})}var U1=0;function mi(r,c,p,y){this._groups=r,this._parents=c,this._name=p,this._id=y}function F_(){return++U1}var vi=Sn.prototype;mi.prototype={constructor:mi,select:m1,selectAll:y1,selectChild:vi.selectChild,selectChildren:vi.selectChildren,filter:h1,merge:f1,selection:b1,transition:N1,call:vi.call,nodes:vi.nodes,node:vi.node,size:vi.size,empty:vi.empty,each:vi.each,on:v1,attr:Vm,attrTween:e1,style:A1,styleTween:R1,text:L1,textTween:H1,remove:p1,tween:Pm,delay:s1,duration:a1,ease:o1,easeVarying:u1,end:z1,[Symbol.iterator]:vi[Symbol.iterator]};function j1(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var q1={time:null,delay:0,duration:250,ease:j1};function I1(r,c){for(var p;!(p=r.__transition)||!(p=p[c]);)if(!(r=r.parentNode))throw new Error(`transition ${c} not found`);return p}function P1(r){var c,p;r instanceof mi?(c=r._id,r=r._name):(c=F_(),(p=q1).time=jc(),r=r==null?null:r+"");for(var y=this._groups,A=y.length,k=0;k<A;++k)for(var L=y[k],l=L.length,u,h=0;h<l;++h)(u=L[h])&&el(u,r,c,h,L,p||I1(u,c));return new mi(y,this._parents,r,c)}Sn.prototype.interrupt=jm;Sn.prototype.transition=P1;function $1(r){const c=+this._x.call(null,r),p=+this._y.call(null,r);return Y_(this.cover(c,p),c,p,r)}function Y_(r,c,p,y){if(isNaN(c)||isNaN(p))return r;var A,k=r._root,L={data:y},l=r._x0,u=r._y0,h=r._x1,m=r._y1,v,S,x,D,C,a,o,f;if(!k)return r._root=L,r;for(;k.length;)if((C=c>=(v=(l+h)/2))?l=v:h=v,(a=p>=(S=(u+m)/2))?u=S:m=S,A=k,!(k=k[o=a<<1|C]))return A[o]=L,r;if(x=+r._x.call(null,k.data),D=+r._y.call(null,k.data),c===x&&p===D)return L.next=k,A?A[o]=L:r._root=L,r;do A=A?A[o]=new Array(4):r._root=new Array(4),(C=c>=(v=(l+h)/2))?l=v:h=v,(a=p>=(S=(u+m)/2))?u=S:m=S;while((o=a<<1|C)===(f=(D>=S)<<1|x>=v));return A[f]=k,A[o]=L,r}function F1(r){var c,p,y=r.length,A,k,L=new Array(y),l=new Array(y),u=1/0,h=1/0,m=-1/0,v=-1/0;for(p=0;p<y;++p)isNaN(A=+this._x.call(null,c=r[p]))||isNaN(k=+this._y.call(null,c))||(L[p]=A,l[p]=k,A<u&&(u=A),A>m&&(m=A),k<h&&(h=k),k>v&&(v=k));if(u>m||h>v)return this;for(this.cover(u,h).cover(m,v),p=0;p<y;++p)Y_(this,L[p],l[p],r[p]);return this}function Y1(r,c){if(isNaN(r=+r)||isNaN(c=+c))return this;var p=this._x0,y=this._y0,A=this._x1,k=this._y1;if(isNaN(p))A=(p=Math.floor(r))+1,k=(y=Math.floor(c))+1;else{for(var L=A-p||1,l=this._root,u,h;p>r||r>=A||y>c||c>=k;)switch(h=(c<y)<<1|r<p,u=new Array(4),u[h]=l,l=u,L*=2,h){case 0:A=p+L,k=y+L;break;case 1:p=A-L,k=y+L;break;case 2:A=p+L,y=k-L;break;case 3:p=A-L,y=k-L;break}this._root&&this._root.length&&(this._root=l)}return this._x0=p,this._y0=y,this._x1=A,this._y1=k,this}function X1(){var r=[];return this.visit(function(c){if(!c.length)do r.push(c.data);while(c=c.next)}),r}function G1(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function dt(r,c,p,y,A){this.node=r,this.x0=c,this.y0=p,this.x1=y,this.y1=A}function K1(r,c,p){var y,A=this._x0,k=this._y0,L,l,u,h,m=this._x1,v=this._y1,S=[],x=this._root,D,C;for(x&&S.push(new dt(x,A,k,m,v)),p==null?p=1/0:(A=r-p,k=c-p,m=r+p,v=c+p,p*=p);D=S.pop();)if(!(!(x=D.node)||(L=D.x0)>m||(l=D.y0)>v||(u=D.x1)<A||(h=D.y1)<k))if(x.length){var a=(L+u)/2,o=(l+h)/2;S.push(new dt(x[3],a,o,u,h),new dt(x[2],L,o,a,h),new dt(x[1],a,l,u,o),new dt(x[0],L,l,a,o)),(C=(c>=o)<<1|r>=a)&&(D=S[S.length-1],S[S.length-1]=S[S.length-1-C],S[S.length-1-C]=D)}else{var f=r-+this._x.call(null,x.data),d=c-+this._y.call(null,x.data),g=f*f+d*d;if(g<p){var w=Math.sqrt(p=g);A=r-w,k=c-w,m=r+w,v=c+w,y=x.data}}return y}function V1(r){if(isNaN(m=+this._x.call(null,r))||isNaN(v=+this._y.call(null,r)))return this;var c,p=this._root,y,A,k,L=this._x0,l=this._y0,u=this._x1,h=this._y1,m,v,S,x,D,C,a,o;if(!p)return this;if(p.length)for(;;){if((D=m>=(S=(L+u)/2))?L=S:u=S,(C=v>=(x=(l+h)/2))?l=x:h=x,c=p,!(p=p[a=C<<1|D]))return this;if(!p.length)break;(c[a+1&3]||c[a+2&3]||c[a+3&3])&&(y=c,o=a)}for(;p.data!==r;)if(A=p,!(p=p.next))return this;return(k=p.next)&&delete p.next,A?(k?A.next=k:delete A.next,this):c?(k?c[a]=k:delete c[a],(p=c[0]||c[1]||c[2]||c[3])&&p===(c[3]||c[2]||c[1]||c[0])&&!p.length&&(y?y[o]=p:this._root=p),this):(this._root=k,this)}function W1(r){for(var c=0,p=r.length;c<p;++c)this.remove(r[c]);return this}function Q1(){return this._root}function Z1(){var r=0;return this.visit(function(c){if(!c.length)do++r;while(c=c.next)}),r}function J1(r){var c=[],p,y=this._root,A,k,L,l,u;for(y&&c.push(new dt(y,this._x0,this._y0,this._x1,this._y1));p=c.pop();)if(!r(y=p.node,k=p.x0,L=p.y0,l=p.x1,u=p.y1)&&y.length){var h=(k+l)/2,m=(L+u)/2;(A=y[3])&&c.push(new dt(A,h,m,l,u)),(A=y[2])&&c.push(new dt(A,k,m,h,u)),(A=y[1])&&c.push(new dt(A,h,L,l,m)),(A=y[0])&&c.push(new dt(A,k,L,h,m))}return this}function ey(r){var c=[],p=[],y;for(this._root&&c.push(new dt(this._root,this._x0,this._y0,this._x1,this._y1));y=c.pop();){var A=y.node;if(A.length){var k,L=y.x0,l=y.y0,u=y.x1,h=y.y1,m=(L+u)/2,v=(l+h)/2;(k=A[0])&&c.push(new dt(k,L,l,m,v)),(k=A[1])&&c.push(new dt(k,m,l,u,v)),(k=A[2])&&c.push(new dt(k,L,v,m,h)),(k=A[3])&&c.push(new dt(k,m,v,u,h))}p.push(y)}for(;y=p.pop();)r(y.node,y.x0,y.y0,y.x1,y.y1);return this}function ty(r){return r[0]}function iy(r){return arguments.length?(this._x=r,this):this._x}function sy(r){return r[1]}function ry(r){return arguments.length?(this._y=r,this):this._y}function $c(r,c,p){var y=new Fc(c??ty,p??sy,NaN,NaN,NaN,NaN);return r==null?y:y.addAll(r)}function Fc(r,c,p,y,A,k){this._x=r,this._y=c,this._x0=p,this._y0=y,this._x1=A,this._y1=k,this._root=void 0}function o_(r){for(var c={data:r.data},p=c;r=r.next;)p=p.next={data:r.data};return c}var vt=$c.prototype=Fc.prototype;vt.copy=function(){var r=new Fc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),c=this._root,p,y;if(!c)return r;if(!c.length)return r._root=o_(c),r;for(p=[{source:c,target:r._root=new Array(4)}];c=p.pop();)for(var A=0;A<4;++A)(y=c.source[A])&&(y.length?p.push({source:y,target:c.target[A]=new Array(4)}):c.target[A]=o_(y));return r};vt.add=$1;vt.addAll=F1;vt.cover=Y1;vt.data=X1;vt.extent=G1;vt.find=K1;vt.remove=V1;vt.removeAll=W1;vt.root=Q1;vt.size=Z1;vt.visit=J1;vt.visitAfter=ey;vt.x=iy;vt.y=ry;function _t(r){return function(){return r}}function Yi(r){return(r()-.5)*1e-6}function ny(r){return r.x+r.vx}function ay(r){return r.y+r.vy}function ly(r){var c,p,y,A=1,k=1;typeof r!="function"&&(r=_t(r==null?1:+r));function L(){for(var h,m=c.length,v,S,x,D,C,a,o=0;o<k;++o)for(v=$c(c,ny,ay).visitAfter(l),h=0;h<m;++h)S=c[h],C=p[S.index],a=C*C,x=S.x+S.vx,D=S.y+S.vy,v.visit(f);function f(d,g,w,R,H){var b=d.data,B=d.r,I=C+B;if(b){if(b.index>S.index){var Y=x-b.x-b.vx,$=D-b.y-b.vy,X=Y*Y+$*$;X<I*I&&(Y===0&&(Y=Yi(y),X+=Y*Y),$===0&&($=Yi(y),X+=$*$),X=(I-(X=Math.sqrt(X)))/X*A,S.vx+=(Y*=X)*(I=(B*=B)/(a+B)),S.vy+=($*=X)*I,b.vx-=Y*(I=1-I),b.vy-=$*I)}return}return g>x+I||R<x-I||w>D+I||H<D-I}}function l(h){if(h.data)return h.r=p[h.data.index];for(var m=h.r=0;m<4;++m)h[m]&&h[m].r>h.r&&(h.r=h[m].r)}function u(){if(c){var h,m=c.length,v;for(p=new Array(m),h=0;h<m;++h)v=c[h],p[v.index]=+r(v,h,c)}}return L.initialize=function(h,m){c=h,y=m,u()},L.iterations=function(h){return arguments.length?(k=+h,L):k},L.strength=function(h){return arguments.length?(A=+h,L):A},L.radius=function(h){return arguments.length?(r=typeof h=="function"?h:_t(+h),u(),L):r},L}function oy(r){return r.index}function c_(r,c){var p=r.get(c);if(!p)throw new Error("node not found: "+c);return p}function cy(r){var c=oy,p=v,y,A=_t(30),k,L,l,u,h,m=1;r==null&&(r=[]);function v(a){return 1/Math.min(l[a.source.index],l[a.target.index])}function S(a){for(var o=0,f=r.length;o<m;++o)for(var d=0,g,w,R,H,b,B,I;d<f;++d)g=r[d],w=g.source,R=g.target,H=R.x+R.vx-w.x-w.vx||Yi(h),b=R.y+R.vy-w.y-w.vy||Yi(h),B=Math.sqrt(H*H+b*b),B=(B-k[d])/B*a*y[d],H*=B,b*=B,R.vx-=H*(I=u[d]),R.vy-=b*I,w.vx+=H*(I=1-I),w.vy+=b*I}function x(){if(L){var a,o=L.length,f=r.length,d=new Map(L.map((w,R)=>[c(w,R,L),w])),g;for(a=0,l=new Array(o);a<f;++a)g=r[a],g.index=a,typeof g.source!="object"&&(g.source=c_(d,g.source)),typeof g.target!="object"&&(g.target=c_(d,g.target)),l[g.source.index]=(l[g.source.index]||0)+1,l[g.target.index]=(l[g.target.index]||0)+1;for(a=0,u=new Array(f);a<f;++a)g=r[a],u[a]=l[g.source.index]/(l[g.source.index]+l[g.target.index]);y=new Array(f),D(),k=new Array(f),C()}}function D(){if(L)for(var a=0,o=r.length;a<o;++a)y[a]=+p(r[a],a,r)}function C(){if(L)for(var a=0,o=r.length;a<o;++a)k[a]=+A(r[a],a,r)}return S.initialize=function(a,o){L=a,h=o,x()},S.links=function(a){return arguments.length?(r=a,x(),S):r},S.id=function(a){return arguments.length?(c=a,S):c},S.iterations=function(a){return arguments.length?(m=+a,S):m},S.strength=function(a){return arguments.length?(p=typeof a=="function"?a:_t(+a),D(),S):p},S.distance=function(a){return arguments.length?(A=typeof a=="function"?a:_t(+a),C(),S):A},S}const uy=1664525,hy=1013904223,u_=4294967296;function fy(){let r=1;return()=>(r=(uy*r+hy)%u_)/u_}function dy(r){return r.x}function _y(r){return r.y}var vy=10,gy=Math.PI*(3-Math.sqrt(5));function py(r){var c,p=1,y=.001,A=1-Math.pow(y,1/300),k=0,L=.6,l=new Map,u=qc(v),h=yn("tick","end"),m=fy();r==null&&(r=[]);function v(){S(),h.call("tick",c),p<y&&(u.stop(),h.call("end",c))}function S(C){var a,o=r.length,f;C===void 0&&(C=1);for(var d=0;d<C;++d)for(p+=(k-p)*A,l.forEach(function(g){g(p)}),a=0;a<o;++a)f=r[a],f.fx==null?f.x+=f.vx*=L:(f.x=f.fx,f.vx=0),f.fy==null?f.y+=f.vy*=L:(f.y=f.fy,f.vy=0);return c}function x(){for(var C=0,a=r.length,o;C<a;++C){if(o=r[C],o.index=C,o.fx!=null&&(o.x=o.fx),o.fy!=null&&(o.y=o.fy),isNaN(o.x)||isNaN(o.y)){var f=vy*Math.sqrt(.5+C),d=C*gy;o.x=f*Math.cos(d),o.y=f*Math.sin(d)}(isNaN(o.vx)||isNaN(o.vy))&&(o.vx=o.vy=0)}}function D(C){return C.initialize&&C.initialize(r,m),C}return x(),c={tick:S,restart:function(){return u.restart(v),c},stop:function(){return u.stop(),c},nodes:function(C){return arguments.length?(r=C,x(),l.forEach(D),c):r},alpha:function(C){return arguments.length?(p=+C,c):p},alphaMin:function(C){return arguments.length?(y=+C,c):y},alphaDecay:function(C){return arguments.length?(A=+C,c):+A},alphaTarget:function(C){return arguments.length?(k=+C,c):k},velocityDecay:function(C){return arguments.length?(L=1-C,c):1-L},randomSource:function(C){return arguments.length?(m=C,l.forEach(D),c):m},force:function(C,a){return arguments.length>1?(a==null?l.delete(C):l.set(C,D(a)),c):l.get(C)},find:function(C,a,o){var f=0,d=r.length,g,w,R,H,b;for(o==null?o=1/0:o*=o,f=0;f<d;++f)H=r[f],g=C-H.x,w=a-H.y,R=g*g+w*w,R<o&&(b=H,o=R);return b},on:function(C,a){return arguments.length>1?(h.on(C,a),c):h.on(C)}}}function my(){var r,c,p,y,A=_t(-30),k,L=1,l=1/0,u=.81;function h(x){var D,C=r.length,a=$c(r,dy,_y).visitAfter(v);for(y=x,D=0;D<C;++D)c=r[D],a.visit(S)}function m(){if(r){var x,D=r.length,C;for(k=new Array(D),x=0;x<D;++x)C=r[x],k[C.index]=+A(C,x,r)}}function v(x){var D=0,C,a,o=0,f,d,g;if(x.length){for(f=d=g=0;g<4;++g)(C=x[g])&&(a=Math.abs(C.value))&&(D+=C.value,o+=a,f+=a*C.x,d+=a*C.y);x.x=f/o,x.y=d/o}else{C=x,C.x=C.data.x,C.y=C.data.y;do D+=k[C.data.index];while(C=C.next)}x.value=D}function S(x,D,C,a){if(!x.value)return!0;var o=x.x-c.x,f=x.y-c.y,d=a-D,g=o*o+f*f;if(d*d/u<g)return g<l&&(o===0&&(o=Yi(p),g+=o*o),f===0&&(f=Yi(p),g+=f*f),g<L&&(g=Math.sqrt(L*g)),c.vx+=o*x.value*y/g,c.vy+=f*x.value*y/g),!0;if(x.length||g>=l)return;(x.data!==c||x.next)&&(o===0&&(o=Yi(p),g+=o*o),f===0&&(f=Yi(p),g+=f*f),g<L&&(g=Math.sqrt(L*g)));do x.data!==c&&(d=k[x.data.index]*y/g,c.vx+=o*d,c.vy+=f*d);while(x=x.next)}return h.initialize=function(x,D){r=x,p=D,m()},h.strength=function(x){return arguments.length?(A=typeof x=="function"?x:_t(+x),m(),h):A},h.distanceMin=function(x){return arguments.length?(L=x*x,h):Math.sqrt(L)},h.distanceMax=function(x){return arguments.length?(l=x*x,h):Math.sqrt(l)},h.theta=function(x){return arguments.length?(u=x*x,h):Math.sqrt(u)},h}function yy(r){var c=_t(.1),p,y,A;typeof r!="function"&&(r=_t(r==null?0:+r));function k(l){for(var u=0,h=p.length,m;u<h;++u)m=p[u],m.vx+=(A[u]-m.x)*y[u]*l}function L(){if(p){var l,u=p.length;for(y=new Array(u),A=new Array(u),l=0;l<u;++l)y[l]=isNaN(A[l]=+r(p[l],l,p))?0:+c(p[l],l,p)}}return k.initialize=function(l){p=l,L()},k.strength=function(l){return arguments.length?(c=typeof l=="function"?l:_t(+l),L(),k):c},k.x=function(l){return arguments.length?(r=typeof l=="function"?l:_t(+l),L(),k):r},k}function Sy(r){var c=_t(.1),p,y,A;typeof r!="function"&&(r=_t(r==null?0:+r));function k(l){for(var u=0,h=p.length,m;u<h;++u)m=p[u],m.vy+=(A[u]-m.y)*y[u]*l}function L(){if(p){var l,u=p.length;for(y=new Array(u),A=new Array(u),l=0;l<u;++l)y[l]=isNaN(A[l]=+r(p[l],l,p))?0:+c(p[l],l,p)}}return k.initialize=function(l){p=l,L()},k.strength=function(l){return arguments.length?(c=typeof l=="function"?l:_t(+l),L(),k):c},k.y=function(l){return arguments.length?(r=typeof l=="function"?l:_t(+l),L(),k):r},k}const Ua=r=>()=>r;function by(r,{sourceEvent:c,target:p,transform:y,dispatch:A}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:c,enumerable:!0,configurable:!0},target:{value:p,enumerable:!0,configurable:!0},transform:{value:y,enumerable:!0,configurable:!0},_:{value:A}})}function pi(r,c,p){this.k=r,this.x=c,this.y=p}pi.prototype={constructor:pi,scale:function(r){return r===1?this:new pi(this.k*r,this.x,this.y)},translate:function(r,c){return r===0&c===0?this:new pi(this.k,this.x+this.k*r,this.y+this.k*c)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wa=new pi(1,0,0);pi.prototype;function Cc(r){r.stopImmediatePropagation()}function cn(r){r.preventDefault(),r.stopImmediatePropagation()}function Cy(r){return(!r.ctrlKey||r.type==="wheel")&&!r.button}function wy(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r,r.hasAttribute("viewBox")?(r=r.viewBox.baseVal,[[r.x,r.y],[r.x+r.width,r.y+r.height]]):[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]):[[0,0],[r.clientWidth,r.clientHeight]]}function h_(){return this.__zoom||Wa}function xy(r){return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*(r.ctrlKey?10:1)}function Ey(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ay(r,c,p){var y=r.invertX(c[0][0])-p[0][0],A=r.invertX(c[1][0])-p[1][0],k=r.invertY(c[0][1])-p[0][1],L=r.invertY(c[1][1])-p[1][1];return r.translate(A>y?(y+A)/2:Math.min(0,y)||Math.max(0,A),L>k?(k+L)/2:Math.min(0,k)||Math.max(0,L))}function Dy(){var r=Cy,c=wy,p=Ay,y=xy,A=Ey,k=[0,1/0],L=[[-1/0,-1/0],[1/0,1/0]],l=250,u=Bm,h=yn("start","zoom","end"),m,v,S,x=500,D=150,C=0,a=10;function o(q){q.property("__zoom",h_).on("wheel.zoom",b,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",I).filter(A).on("touchstart.zoom",Y).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}o.transform=function(q,G,z,P){var M=q.selection?q.selection():q;M.property("__zoom",h_),q!==M?w(q,G,z,P):M.interrupt().each(function(){R(this,arguments).event(P).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},o.scaleBy=function(q,G,z,P){o.scaleTo(q,function(){var M=this.__zoom.k,N=typeof G=="function"?G.apply(this,arguments):G;return M*N},z,P)},o.scaleTo=function(q,G,z,P){o.transform(q,function(){var M=c.apply(this,arguments),N=this.__zoom,E=z==null?g(M):typeof z=="function"?z.apply(this,arguments):z,T=N.invert(E),F=typeof G=="function"?G.apply(this,arguments):G;return p(d(f(N,F),E,T),M,L)},z,P)},o.translateBy=function(q,G,z,P){o.transform(q,function(){return p(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof z=="function"?z.apply(this,arguments):z),c.apply(this,arguments),L)},null,P)},o.translateTo=function(q,G,z,P,M){o.transform(q,function(){var N=c.apply(this,arguments),E=this.__zoom,T=P==null?g(N):typeof P=="function"?P.apply(this,arguments):P;return p(Wa.translate(T[0],T[1]).scale(E.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof z=="function"?-z.apply(this,arguments):-z),N,L)},P,M)};function f(q,G){return G=Math.max(k[0],Math.min(k[1],G)),G===q.k?q:new pi(G,q.x,q.y)}function d(q,G,z){var P=G[0]-z[0]*q.k,M=G[1]-z[1]*q.k;return P===q.x&&M===q.y?q:new pi(q.k,P,M)}function g(q){return[(+q[0][0]+ +q[1][0])/2,(+q[0][1]+ +q[1][1])/2]}function w(q,G,z,P){q.on("start.zoom",function(){R(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(P).end()}).tween("zoom",function(){var M=this,N=arguments,E=R(M,N).event(P),T=c.apply(M,N),F=z==null?g(T):typeof z=="function"?z.apply(M,N):z,W=Math.max(T[1][0]-T[0][0],T[1][1]-T[0][1]),Z=M.__zoom,ae=typeof G=="function"?G.apply(M,N):G,he=u(Z.invert(F).concat(W/Z.k),ae.invert(F).concat(W/ae.k));return function(U){if(U===1)U=ae;else{var V=he(U),ne=W/V[2];U=new pi(ne,F[0]-V[0]*ne,F[1]-V[1]*ne)}E.zoom(null,U)}})}function R(q,G,z){return!z&&q.__zooming||new H(q,G)}function H(q,G){this.that=q,this.args=G,this.active=0,this.sourceEvent=null,this.extent=c.apply(q,G),this.taps=0}H.prototype={event:function(q){return q&&(this.sourceEvent=q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(q,G){return this.mouse&&q!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&q!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&q!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(q){var G=ft(this.that).datum();h.call(q,this.that,new by(q,{sourceEvent:this.sourceEvent,target:o,transform:this.that.__zoom,dispatch:h}),G)}};function b(q,...G){if(!r.apply(this,arguments))return;var z=R(this,G).event(q),P=this.__zoom,M=Math.max(k[0],Math.min(k[1],P.k*Math.pow(2,y.apply(this,arguments)))),N=gi(q);if(z.wheel)(z.mouse[0][0]!==N[0]||z.mouse[0][1]!==N[1])&&(z.mouse[1]=P.invert(z.mouse[0]=N)),clearTimeout(z.wheel);else{if(P.k===M)return;z.mouse=[N,P.invert(N)],$a(this),z.start()}cn(q),z.wheel=setTimeout(E,D),z.zoom("mouse",p(d(f(P,M),z.mouse[0],z.mouse[1]),z.extent,L));function E(){z.wheel=null,z.end()}}function B(q,...G){if(S||!r.apply(this,arguments))return;var z=q.currentTarget,P=R(this,G,!0).event(q),M=ft(q.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",W,!0),N=gi(q,z),E=q.clientX,T=q.clientY;B_(q.view),Cc(q),P.mouse=[N,this.__zoom.invert(N)],$a(this),P.start();function F(Z){if(cn(Z),!P.moved){var ae=Z.clientX-E,he=Z.clientY-T;P.moved=ae*ae+he*he>C}P.event(Z).zoom("mouse",p(d(P.that.__zoom,P.mouse[0]=gi(Z,z),P.mouse[1]),P.extent,L))}function W(Z){M.on("mousemove.zoom mouseup.zoom",null),L_(Z.view,P.moved),cn(Z),P.event(Z).end()}}function I(q,...G){if(r.apply(this,arguments)){var z=this.__zoom,P=gi(q.changedTouches?q.changedTouches[0]:q,this),M=z.invert(P),N=z.k*(q.shiftKey?.5:2),E=p(d(f(z,N),P,M),c.apply(this,G),L);cn(q),l>0?ft(this).transition().duration(l).call(w,E,P,q):ft(this).call(o.transform,E,P,q)}}function Y(q,...G){if(r.apply(this,arguments)){var z=q.touches,P=z.length,M=R(this,G,q.changedTouches.length===P).event(q),N,E,T,F;for(Cc(q),E=0;E<P;++E)T=z[E],F=gi(T,this),F=[F,this.__zoom.invert(F),T.identifier],M.touch0?!M.touch1&&M.touch0[2]!==F[2]&&(M.touch1=F,M.taps=0):(M.touch0=F,N=!0,M.taps=1+!!m);m&&(m=clearTimeout(m)),N&&(M.taps<2&&(v=F[0],m=setTimeout(function(){m=null},x)),$a(this),M.start())}}function $(q,...G){if(this.__zooming){var z=R(this,G).event(q),P=q.changedTouches,M=P.length,N,E,T,F;for(cn(q),N=0;N<M;++N)E=P[N],T=gi(E,this),z.touch0&&z.touch0[2]===E.identifier?z.touch0[0]=T:z.touch1&&z.touch1[2]===E.identifier&&(z.touch1[0]=T);if(E=z.that.__zoom,z.touch1){var W=z.touch0[0],Z=z.touch0[1],ae=z.touch1[0],he=z.touch1[1],U=(U=ae[0]-W[0])*U+(U=ae[1]-W[1])*U,V=(V=he[0]-Z[0])*V+(V=he[1]-Z[1])*V;E=f(E,Math.sqrt(U/V)),T=[(W[0]+ae[0])/2,(W[1]+ae[1])/2],F=[(Z[0]+he[0])/2,(Z[1]+he[1])/2]}else if(z.touch0)T=z.touch0[0],F=z.touch0[1];else return;z.zoom("touch",p(d(E,T,F),z.extent,L))}}function X(q,...G){if(this.__zooming){var z=R(this,G).event(q),P=q.changedTouches,M=P.length,N,E;for(Cc(q),S&&clearTimeout(S),S=setTimeout(function(){S=null},x),N=0;N<M;++N)E=P[N],z.touch0&&z.touch0[2]===E.identifier?delete z.touch0:z.touch1&&z.touch1[2]===E.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(E=gi(E,this),Math.hypot(v[0]-E[0],v[1]-E[1])<a)){var T=ft(this).on("dblclick.zoom");T&&T.apply(this,arguments)}}}return o.wheelDelta=function(q){return arguments.length?(y=typeof q=="function"?q:Ua(+q),o):y},o.filter=function(q){return arguments.length?(r=typeof q=="function"?q:Ua(!!q),o):r},o.touchable=function(q){return arguments.length?(A=typeof q=="function"?q:Ua(!!q),o):A},o.extent=function(q){return arguments.length?(c=typeof q=="function"?q:Ua([[+q[0][0],+q[0][1]],[+q[1][0],+q[1][1]]]),o):c},o.scaleExtent=function(q){return arguments.length?(k[0]=+q[0],k[1]=+q[1],o):[k[0],k[1]]},o.translateExtent=function(q){return arguments.length?(L[0][0]=+q[0][0],L[1][0]=+q[1][0],L[0][1]=+q[0][1],L[1][1]=+q[1][1],o):[[L[0][0],L[0][1]],[L[1][0],L[1][1]]]},o.constrain=function(q){return arguments.length?(p=q,o):p},o.duration=function(q){return arguments.length?(l=+q,o):l},o.interpolate=function(q){return arguments.length?(u=q,o):u},o.on=function(){var q=h.on.apply(h,arguments);return q===h?o:q},o.clickDistance=function(q){return arguments.length?(C=(q=+q)*q,o):Math.sqrt(C)},o.tapDistance=function(q){return arguments.length?(a=+q,o):a},o}function Ty({graphData:r,viewMode:c}){const p=Te.useRef();Te.useEffect(()=>{const A=ft("body").append("div").attr("class","tooltip").style("position","absolute").style("padding","6px 8px").style("background","black").style("color","white").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("opacity",0);return()=>A.remove()},[]);const y=Te.useRef(Wa);return Te.useEffect(()=>{var N,E;const A=ft(p.current);A.selectAll("*").remove();const k=Dy().scaleExtent([.2,4]).on("zoom",M);A.call(k);const L=A.append("g").attr("class","zoomable").attr("transform",y.current);if(!r||r.nodes.length===0){y.current=Wa,A.call(k.transform,y.current),A.selectAll("*").remove();return}const l=((N=p.current)==null?void 0:N.clientWidth)||800,u=((E=p.current)==null?void 0:E.clientHeight)||500,h=c==="bdd",m=r.nodes.map(T=>({...T,fx:T.fx??void 0,fy:T.fy??void 0})),v=r.links,S=20,x=S-5,D=10;v.forEach(T=>{const F=typeof T.source=="string"?T.source:T.source.id,W=typeof T.target=="string"?T.target:T.target.id;T.source=m.find(Z=>Z.id===F),T.target=m.find(Z=>Z.id===W)});const C=m.filter(T=>!T.invisible),a=C.find(T=>T.isInitial);a&&(a.fx==null||a.fy==null)&&(a.fx=100,a.fy=u/2),m.forEach(T=>{T.fx===null&&delete T.fx,T.fy===null&&delete T.fy}),h&&(Ry(m,v,l,u),m.forEach(T=>{T.fx=T.x,T.fy=T.y,T.isPinned=!0}));const o=py(m).force("charge",my().strength(-300)).force("collision",ly().radius(S*2)).force("link",cy(v).id(T=>T.id).distance(150).strength(1)).force("x",yy(l/2).strength(.05)).force("y",Sy(u/2).strength(.05)).alphaDecay(.005).velocityDecay(.3);h&&o.stop();const f=A.append("defs");f.append("marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",S+D).attr("refY",0).attr("markerWidth",D).attr("markerHeight",D).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#000"),f.append("marker").attr("id","arrowLoop").attr("viewBox","0 -5 10 10").attr("refX",S-D).attr("refY",0).attr("markerWidth",D).attr("markerHeight",D).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#000");const g=L.append("g").selectAll("path").data(v).enter().append("path").attr("id",(T,F)=>`linkPath-${F}`).attr("class",h?"link bdd":"link").attr("stroke","#000").attr("stroke-width",1).attr("fill","none").attr("marker-end",T=>T.source.id===T.target.id?"url(#arrowLoop)":"url(#arrow)");g.attr("stroke-dasharray",T=>T.style==="dashed"?"4 3":null);const R=L.append("g").selectAll("text").data(v).enter().append("text").attr("class","edge-label").attr("text-anchor","middle").attr("dy",-2).attr("stroke","#fff").attr("stroke-width",1).attr("paint-order","stroke").text(T=>T.label).merge(g),H=64,b=36,B=H/2,I=b,$=L.append("g").selectAll("g").data(C).enter().append("g").call(nm().on("start",G).on("drag",z).on("end",P)).on("click",function(T,F){if(F.isInitial)return;F.isPinned=!F.isPinned,F.isPinned?(F.fx=F.x,F.fy=F.y):(F.fx=null,F.fy=null),ft(this).select(F.shape==="box"?"rect":"circle").attr("stroke",F.isPinned?"#000":"#444").attr("stroke-width",F.isPinned?2:1)});$.each(function(T){const F=ft(this);T.shape==="image"&&T.imageUrl?F.append("image").attr("href",T.imageUrl).attr("x",-30).attr("y",-30).attr("width",55).attr("height",55).attr("fill","#fff"):T.shape==="box"?F.append("rect").attr("x",-B/2).attr("y",-I/2).attr("width",B).attr("height",I).attr("rx",0).attr("ry",0).attr("fill","#fff").attr("stroke",T.isPinned?"#000":"#444").attr("stroke-width",T.isPinned?2:1):(F.append("circle").attr("r",20).attr("fill","#fff").attr("stroke",T.isPinned?"#000":"#444").attr("stroke-width",T.isPinned?2:1),T.isFinal&&F.append("circle").attr("r",24).attr("fill","none").attr("stroke","#000").attr("stroke-width",1.5))}),$.append("text").attr("dy",5).attr("y",T=>T.shape==="image"?-3:0).attr("x",T=>T.shape==="image"?3:0).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill","#000").attr("stroke","#fff").attr("stroke-width",1).attr("paint-order","stroke").text(T=>T.label??T.id),$.selectAll("circle, rect").attr("stroke",T=>T.isPinned?"#000":"#444").attr("stroke-width",T=>T.isPinned?2:1);const X=ft("body").select("div.tooltip");$.on("mouseover",function(T,F){F.isPinned&&X.style("opacity",.5).html("Pinned").style("left",T.pageX+10+"px").style("top",T.pageY-20+"px")}),$.on("mousemove",function(T){X.style("left",T.pageX+10+"px").style("top",T.pageY-20+"px")}),$.on("mouseout",function(){X.style("opacity",0)});function q(){g.attr("d",T=>{if(!T.source||!T.target)return"";if(!h&&T.source.id===T.target.id){const V=T.source.x,ne=T.source.y;return`M${V},${ne-x} A${x},${x} 0 1,1 ${V+.1},${ne-x}`}if(h)return`M${T.source.x},${T.source.y} L${T.target.x},${T.target.y}`;const F=T.target.x-T.source.x,W=T.target.y-T.source.y,Z=Math.sqrt(F*F+W*W)*2,ae=v.some(V=>{var ne,oe,pe,fe;return((ne=V.source)==null?void 0:ne.id)===((oe=T.target)==null?void 0:oe.id)&&((pe=V.target)==null?void 0:pe.id)===((fe=T.source)==null?void 0:fe.id)}),he=T.sourceId<T.targetId,U=ae?he?1:0:1;return`M${T.source.x},${T.source.y} A${Z},${Z} 0 0,${U} ${T.target.x},${T.target.y}`}),R.each(function(T,F){if(!T.source||!T.target)return"";const W=ft(this);if(T.source.id===T.target.id){W.attr("x",T.source.x+15).attr("y",T.source.y-45);return}const Z=document.getElementById(`linkPath-${F}`);if(!Z)return;const ae=Z.getTotalLength(),he=Z.getPointAtLength(ae/2);W.attr("x",he.x).attr("y",he.y-3)}),$.attr("transform",T=>`translate(${T.x},${T.y})`)}return o.on("tick",q),q(),()=>o.stop();function G(T,F){F.isInitial||(T.active||o.alphaTarget(.3).restart(),F.fx=F.x,F.fy=F.y)}function z(T,F){F.isInitial||(F.fx=T.x,F.fy=T.y,q())}function P(T,F){F.isInitial||(T.active||o.alphaTarget(0),F.isPinned||(F.fx=null,F.fy=null),q())}function M({transform:T}){y.current=T,L.attr("transform",T)}},[r,c]),ee.jsx("svg",{ref:p,style:{width:"100%",height:"100%",display:"block"}})}function Ry(r,c,p,y){const m=new Map,v=new Map;r.forEach(b=>{m.set(b.id,[]),v.set(b.id,0)}),c.forEach(b=>{const B=typeof b.source=="object"?b.source.id:b.source,I=typeof b.target=="object"?b.target.id:b.target;m.has(B)||m.set(B,[]),m.get(B).push(I),v.set(I,(v.get(I)||0)+1)});const S=new Map,x=b=>{if(b==null)return null;if(typeof b=="number"&&Number.isFinite(b))return b;if(typeof b=="string"){const B=b.match(/(\d+)/);if(B)return+B[1]}return null};let D=!1;for(const b of r){const B=x(b.var??b.level);B!==null&&(S.set(b.id,B),D=!0)}if(!D){const b=new Map(r.map(Y=>[Y.id,0])),B=new Map(v),I=[];for(r.forEach(Y=>{(B.get(Y.id)||0)===0&&I.push(Y.id)}),I.length===0&&r.length&&I.push(r[0].id);I.length;){const Y=I.shift();for(const $ of m.get(Y)||[])b.set($,Math.max(b.get($),b.get(Y)+1)),B.set($,(B.get($)||0)-1),B.get($)===0&&I.push($)}b.forEach((Y,$)=>S.set($,Y))}let C=-1/0;S.forEach(b=>{b>C&&(C=b)});for(const b of r)(m.get(b.id)||[]).length===0&&S.set(b.id,C+1);if(C=-1/0,S.forEach(b=>{b>C&&(C=b)}),new Set(S.values()).size<=1){const b=Math.ceil(Math.sqrt(r.length)),B=Math.ceil(r.length/b),I=(p-60-60)/b,Y=(y-40-40)/Math.max(1,B);r.forEach(($,X)=>{const q=X%b,G=Math.floor(X/b);$.x=60+I*(q+.5),$.y=40+Y*(G+.5)});return}const o=new Map;r.forEach(b=>{const B=S.get(b.id)??0;o.has(B)||o.set(B,[]),o.get(B).push(b)});const f=new Map;c.forEach(b=>{const B=typeof b.source=="object"?b.source.id:b.source,I=typeof b.target=="object"?b.target.id:b.target;f.has(I)||f.set(I,new Set),f.get(I).add(B)});const d=Array.from(o.keys()).sort((b,B)=>b-B),g=40,w=y-40,R=Math.min(90,(w-g)/Math.max(1,d.length));let H=new Map;d.forEach((b,B)=>{const Y=o.get(b).map(G=>{const z=Array.from(f.get(G.id)||[]),P=z.length?z.reduce((M,N)=>M+(H.get(N)??0),0)/z.length:0;return{n:G,score:P}}).sort((G,z)=>G.score-z.score),$=g+B*R,X=Math.max(1,Y.length),q=Math.max(80,(p-60-60)/(X+1));Y.forEach((G,z)=>{const P=60+q*(z+1);G.n.x=P,G.n.y=$,H.set(G.n.id,P)})})}var wc={exports:{}},f_;function My(){return f_||(f_=1,function(r,c){(function(p,y){r.exports=y()})(self,()=>(()=>{var p={4567:function(L,l,u){var h=this&&this.__decorate||function(d,g,w,R){var H,b=arguments.length,B=b<3?g:R===null?R=Object.getOwnPropertyDescriptor(g,w):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(d,g,w,R);else for(var I=d.length-1;I>=0;I--)(H=d[I])&&(B=(b<3?H(B):b>3?H(g,w,B):H(g,w))||B);return b>3&&B&&Object.defineProperty(g,w,B),B},m=this&&this.__param||function(d,g){return function(w,R){g(w,R,d)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const v=u(9042),S=u(6114),x=u(9924),D=u(844),C=u(5596),a=u(4725),o=u(3656);let f=l.AccessibilityManager=class extends D.Disposable{constructor(d,g){super(),this._terminal=d,this._renderService=g,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new x.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(w=>this._handleResize(w.rows))),this.register(this._terminal.onRender(w=>this._refreshRows(w.start,w.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(w=>this._handleChar(w))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(w=>this._handleTab(w))),this.register(this._terminal.onKey(w=>this._handleKey(w.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new C.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,o.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,D.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(d){for(let g=0;g<d;g++)this._handleChar(" ")}_handleChar(d){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==d&&(this._charsToAnnounce+=d):this._charsToAnnounce+=d,d===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=v.tooMuchOutput)),S.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,S.isMac&&this._liveRegion.remove()}_handleKey(d){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(d)||this._charsToConsume.push(d)}_refreshRows(d,g){this._liveRegionDebouncer.refresh(d,g,this._terminal.rows)}_renderRows(d,g){const w=this._terminal.buffer,R=w.lines.length.toString();for(let H=d;H<=g;H++){const b=w.translateBufferLineToString(w.ydisp+H,!0),B=(w.ydisp+H+1).toString(),I=this._rowElements[H];I&&(b.length===0?I.innerText="":I.textContent=b,I.setAttribute("aria-posinset",B),I.setAttribute("aria-setsize",R))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(d,g){const w=d.target,R=this._rowElements[g===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(g===0?"1":`${this._terminal.buffer.lines.length}`)||d.relatedTarget!==R)return;let H,b;if(g===0?(H=w,b=this._rowElements.pop(),this._rowContainer.removeChild(b)):(H=this._rowElements.shift(),b=w,this._rowContainer.removeChild(H)),H.removeEventListener("focus",this._topBoundaryFocusListener),b.removeEventListener("focus",this._bottomBoundaryFocusListener),g===0){const B=this._createAccessibilityTreeNode();this._rowElements.unshift(B),this._rowContainer.insertAdjacentElement("afterbegin",B)}else{const B=this._createAccessibilityTreeNode();this._rowElements.push(B),this._rowContainer.appendChild(B)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(g===0?-1:1),this._rowElements[g===0?1:this._rowElements.length-2].focus(),d.preventDefault(),d.stopImmediatePropagation()}_handleResize(d){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let g=this._rowContainer.children.length;g<this._terminal.rows;g++)this._rowElements[g]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[g]);for(;this._rowElements.length>d;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const d=document.createElement("div");return d.setAttribute("role","listitem"),d.tabIndex=-1,this._refreshRowDimensions(d),d}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let d=0;d<this._terminal.rows;d++)this._refreshRowDimensions(this._rowElements[d])}}_refreshRowDimensions(d){d.style.height=`${this._renderService.dimensions.css.cell.height}px`}};l.AccessibilityManager=f=h([m(1,a.IRenderService)],f)},3614:(L,l)=>{function u(S){return S.replace(/\r?\n/g,"\r")}function h(S,x){return x?"\x1B[200~"+S+"\x1B[201~":S}function m(S,x,D,C){S=h(S=u(S),D.decPrivateModes.bracketedPasteMode&&C.rawOptions.ignoreBracketedPasteMode!==!0),D.triggerDataEvent(S,!0),x.value=""}function v(S,x,D){const C=D.getBoundingClientRect(),a=S.clientX-C.left-10,o=S.clientY-C.top-10;x.style.width="20px",x.style.height="20px",x.style.left=`${a}px`,x.style.top=`${o}px`,x.style.zIndex="1000",x.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=u,l.bracketTextForPaste=h,l.copyHandler=function(S,x){S.clipboardData&&S.clipboardData.setData("text/plain",x.selectionText),S.preventDefault()},l.handlePasteEvent=function(S,x,D,C){S.stopPropagation(),S.clipboardData&&m(S.clipboardData.getData("text/plain"),x,D,C)},l.paste=m,l.moveTextAreaUnderMouseCursor=v,l.rightClickHandler=function(S,x,D,C,a){v(S,x,D),a&&C.rightClickSelect(S),x.value=C.selectionText,x.select()}},7239:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const h=u(1505);l.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(m,v,S){this._css.set(m,v,S)}getCss(m,v){return this._css.get(m,v)}setColor(m,v,S){this._color.set(m,v,S)}getColor(m,v){return this._color.get(m,v)}clear(){this._color.clear(),this._css.clear()}}},3656:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(u,h,m,v){u.addEventListener(h,m,v);let S=!1;return{dispose:()=>{S||(S=!0,u.removeEventListener(h,m,v))}}}},6465:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,R=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(R=(w<3?g(R):w>3?g(o,f,R):g(o,f))||R);return w>3&&R&&Object.defineProperty(o,f,R),R},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier2=void 0;const v=u(3656),S=u(8460),x=u(844),D=u(2585);let C=l.Linkifier2=class extends x.Disposable{get currentLink(){return this._currentLink}constructor(a){super(),this._bufferService=a,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new S.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new S.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,x.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,x.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(a){return this._linkProviders.push(a),{dispose:()=>{const o=this._linkProviders.indexOf(a);o!==-1&&this._linkProviders.splice(o,1)}}}attachToDom(a,o,f){this._element=a,this._mouseService=o,this._renderService=f,this.register((0,v.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,v.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,v.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,v.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(a){if(this._lastMouseEvent=a,!this._element||!this._mouseService)return;const o=this._positionFromMouseEvent(a,this._element,this._mouseService);if(!o)return;this._isMouseOut=!1;const f=a.composedPath();for(let d=0;d<f.length;d++){const g=f[d];if(g.classList.contains("xterm"))break;if(g.classList.contains("xterm-hover"))return}this._lastBufferCell&&o.x===this._lastBufferCell.x&&o.y===this._lastBufferCell.y||(this._handleHover(o),this._lastBufferCell=o)}_handleHover(a){if(this._activeLine!==a.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(a,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))}_askForLink(a,o){var f,d;this._activeProviderReplies&&o||((f=this._activeProviderReplies)===null||f===void 0||f.forEach(w=>{w==null||w.forEach(R=>{R.link.dispose&&R.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=a.y);let g=!1;for(const[w,R]of this._linkProviders.entries())o?!((d=this._activeProviderReplies)===null||d===void 0)&&d.get(w)&&(g=this._checkLinkProviderResult(w,a,g)):R.provideLinks(a.y,H=>{var b,B;if(this._isMouseOut)return;const I=H==null?void 0:H.map(Y=>({link:Y}));(b=this._activeProviderReplies)===null||b===void 0||b.set(w,I),g=this._checkLinkProviderResult(w,a,g),((B=this._activeProviderReplies)===null||B===void 0?void 0:B.size)===this._linkProviders.length&&this._removeIntersectingLinks(a.y,this._activeProviderReplies)})}_removeIntersectingLinks(a,o){const f=new Set;for(let d=0;d<o.size;d++){const g=o.get(d);if(g)for(let w=0;w<g.length;w++){const R=g[w],H=R.link.range.start.y<a?0:R.link.range.start.x,b=R.link.range.end.y>a?this._bufferService.cols:R.link.range.end.x;for(let B=H;B<=b;B++){if(f.has(B)){g.splice(w--,1);break}f.add(B)}}}}_checkLinkProviderResult(a,o,f){var d;if(!this._activeProviderReplies)return f;const g=this._activeProviderReplies.get(a);let w=!1;for(let R=0;R<a;R++)this._activeProviderReplies.has(R)&&!this._activeProviderReplies.get(R)||(w=!0);if(!w&&g){const R=g.find(H=>this._linkAtPosition(H.link,o));R&&(f=!0,this._handleNewLink(R))}if(this._activeProviderReplies.size===this._linkProviders.length&&!f)for(let R=0;R<this._activeProviderReplies.size;R++){const H=(d=this._activeProviderReplies.get(R))===null||d===void 0?void 0:d.find(b=>this._linkAtPosition(b.link,o));if(H){f=!0,this._handleNewLink(H);break}}return f}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(a){if(!this._element||!this._mouseService||!this._currentLink)return;const o=this._positionFromMouseEvent(a,this._element,this._mouseService);o&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,o)&&this._currentLink.link.activate(a,this._currentLink.link.text)}_clearCurrentLink(a,o){this._element&&this._currentLink&&this._lastMouseEvent&&(!a||!o||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=o)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,x.disposeArray)(this._linkCacheDisposables))}_handleNewLink(a){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const o=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);o&&this._linkAtPosition(a.link,o)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:()=>{var f,d;return(d=(f=this._currentLink)===null||f===void 0?void 0:f.state)===null||d===void 0?void 0:d.decorations.pointerCursor},set:f=>{var d,g;!((d=this._currentLink)===null||d===void 0)&&d.state&&this._currentLink.state.decorations.pointerCursor!==f&&(this._currentLink.state.decorations.pointerCursor=f,this._currentLink.state.isHovered&&((g=this._element)===null||g===void 0||g.classList.toggle("xterm-cursor-pointer",f)))}},underline:{get:()=>{var f,d;return(d=(f=this._currentLink)===null||f===void 0?void 0:f.state)===null||d===void 0?void 0:d.decorations.underline},set:f=>{var d,g,w;!((d=this._currentLink)===null||d===void 0)&&d.state&&((w=(g=this._currentLink)===null||g===void 0?void 0:g.state)===null||w===void 0?void 0:w.decorations.underline)!==f&&(this._currentLink.state.decorations.underline=f,this._currentLink.state.isHovered&&this._fireUnderlineEvent(a.link,f))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(f=>{if(!this._currentLink)return;const d=f.start===0?0:f.start+1+this._bufferService.buffer.ydisp,g=this._bufferService.buffer.ydisp+1+f.end;if(this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=g&&(this._clearCurrentLink(d,g),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(a,o,f){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),o.hover&&o.hover(f,o.text)}_fireUnderlineEvent(a,o){const f=a.range,d=this._bufferService.buffer.ydisp,g=this._createLinkUnderlineEvent(f.start.x-1,f.start.y-d-1,f.end.x,f.end.y-d-1,void 0);(o?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(g)}_linkLeave(a,o,f){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),o.leave&&o.leave(f,o.text)}_linkAtPosition(a,o){const f=a.range.start.y*this._bufferService.cols+a.range.start.x,d=a.range.end.y*this._bufferService.cols+a.range.end.x,g=o.y*this._bufferService.cols+o.x;return f<=g&&g<=d}_positionFromMouseEvent(a,o,f){const d=f.getCoords(a,o,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(a,o,f,d,g){return{x1:a,y1:o,x2:f,y2:d,cols:this._bufferService.cols,fg:g}}};l.Linkifier2=C=h([m(0,D.IBufferService)],C)},9042:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(L,l,u){var h=this&&this.__decorate||function(C,a,o,f){var d,g=arguments.length,w=g<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,o):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(C,a,o,f);else for(var R=C.length-1;R>=0;R--)(d=C[R])&&(w=(g<3?d(w):g>3?d(a,o,w):d(a,o))||w);return g>3&&w&&Object.defineProperty(a,o,w),w},m=this&&this.__param||function(C,a){return function(o,f){a(o,f,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const v=u(511),S=u(2585);let x=l.OscLinkProvider=class{constructor(C,a,o){this._bufferService=C,this._optionsService=a,this._oscLinkService=o}provideLinks(C,a){var o;const f=this._bufferService.buffer.lines.get(C-1);if(!f)return void a(void 0);const d=[],g=this._optionsService.rawOptions.linkHandler,w=new v.CellData,R=f.getTrimmedLength();let H=-1,b=-1,B=!1;for(let I=0;I<R;I++)if(b!==-1||f.hasContent(I)){if(f.loadCell(I,w),w.hasExtendedAttrs()&&w.extended.urlId){if(b===-1){b=I,H=w.extended.urlId;continue}B=w.extended.urlId!==H}else b!==-1&&(B=!0);if(B||b!==-1&&I===R-1){const Y=(o=this._oscLinkService.getLinkData(H))===null||o===void 0?void 0:o.uri;if(Y){const $={start:{x:b+1,y:C},end:{x:I+(B||I!==R-1?0:1),y:C}};let X=!1;if(!(g!=null&&g.allowNonHttpProtocols))try{const q=new URL(Y);["http:","https:"].includes(q.protocol)||(X=!0)}catch{X=!0}X||d.push({text:Y,range:$,activate:(q,G)=>g?g.activate(q,G,$):D(0,G),hover:(q,G)=>{var z;return(z=g==null?void 0:g.hover)===null||z===void 0?void 0:z.call(g,q,G,$)},leave:(q,G)=>{var z;return(z=g==null?void 0:g.leave)===null||z===void 0?void 0:z.call(g,q,G,$)}})}B=!1,w.hasExtendedAttrs()&&w.extended.urlId?(b=I,H=w.extended.urlId):(b=-1,H=-1)}}a(d)}};function D(C,a){if(confirm(`Do you want to navigate to ${a}?

WARNING: This link could potentially be dangerous`)){const o=window.open();if(o){try{o.opener=null}catch{}o.location.href=a}else console.warn("Opening link blocked as opener could not be cleared")}}l.OscLinkProvider=x=h([m(0,S.IBufferService),m(1,S.IOptionsService),m(2,S.IOscLinkService)],x)},6193:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(u,h){this._parentWindow=u,this._renderCallback=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(u,h,m){this._rowCount=m,u=u!==void 0?u:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const u=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},5596:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ScreenDprMonitor=void 0;const h=u(844);class m extends h.Disposable{constructor(S){super(),this._parentWindow=S,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,h.toDisposable)(()=>{this.clearListener()}))}setListener(S){this._listener&&this.clearListener(),this._listener=S,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var S;this._outerListener&&((S=this._resolutionMediaMatchList)===null||S===void 0||S.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}l.ScreenDprMonitor=m},3236:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const h=u(3614),m=u(3656),v=u(6465),S=u(9042),x=u(3730),D=u(1680),C=u(3107),a=u(5744),o=u(2950),f=u(1296),d=u(428),g=u(4269),w=u(5114),R=u(8934),H=u(3230),b=u(9312),B=u(4725),I=u(6731),Y=u(8055),$=u(8969),X=u(8460),q=u(844),G=u(6114),z=u(8437),P=u(2584),M=u(7399),N=u(5941),E=u(9074),T=u(2585),F=u(5435),W=u(4567),Z=typeof window<"u"?window.document:null;class ae extends $.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(U={}){super(U),this.browser=G,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new q.MutableDisposable),this._onCursorMove=this.register(new X.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new X.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new X.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new X.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new X.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new X.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new X.EventEmitter),this._onBlur=this.register(new X.EventEmitter),this._onA11yCharEmitter=this.register(new X.EventEmitter),this._onA11yTabEmitter=this.register(new X.EventEmitter),this._onWillOpen=this.register(new X.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(v.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(x.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(E.DecorationService),this._instantiationService.setService(T.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((V,ne)=>this.refresh(V,ne))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(V=>this._reportWindowsOptions(V))),this.register(this._inputHandler.onColor(V=>this._handleColorEvent(V))),this.register((0,X.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,X.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,X.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,X.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(V=>this._afterResize(V.cols,V.rows))),this.register((0,q.toDisposable)(()=>{var V,ne;this._customKeyEventHandler=void 0,(ne=(V=this.element)===null||V===void 0?void 0:V.parentNode)===null||ne===void 0||ne.removeChild(this.element)}))}_handleColorEvent(U){if(this._themeService)for(const V of U){let ne,oe="";switch(V.index){case 256:ne="foreground",oe="10";break;case 257:ne="background",oe="11";break;case 258:ne="cursor",oe="12";break;default:ne="ansi",oe="4;"+V.index}switch(V.type){case 0:const pe=Y.color.toColorRGB(ne==="ansi"?this._themeService.colors.ansi[V.index]:this._themeService.colors[ne]);this.coreService.triggerDataEvent(`${P.C0.ESC}]${oe};${(0,N.toRgbString)(pe)}${P.C1_ESCAPED.ST}`);break;case 1:if(ne==="ansi")this._themeService.modifyColors(fe=>fe.ansi[V.index]=Y.rgba.toColor(...V.color));else{const fe=ne;this._themeService.modifyColors(De=>De[fe]=Y.rgba.toColor(...V.color))}break;case 2:this._themeService.restoreColor(V.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(U){U?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(W.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(U){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(P.C0.ESC+"[I"),this.updateCursorStyle(U),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var U;return(U=this.textarea)===null||U===void 0?void 0:U.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(P.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const U=this.buffer.ybase+this.buffer.y,V=this.buffer.lines.get(U);if(!V)return;const ne=Math.min(this.buffer.x,this.cols-1),oe=this._renderService.dimensions.css.cell.height,pe=V.getWidth(ne),fe=this._renderService.dimensions.css.cell.width*pe,De=this.buffer.y*this._renderService.dimensions.css.cell.height,$e=ne*this._renderService.dimensions.css.cell.width;this.textarea.style.left=$e+"px",this.textarea.style.top=De+"px",this.textarea.style.width=fe+"px",this.textarea.style.height=oe+"px",this.textarea.style.lineHeight=oe+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,m.addDisposableDomListener)(this.element,"copy",V=>{this.hasSelection()&&(0,h.copyHandler)(V,this._selectionService)}));const U=V=>(0,h.handlePasteEvent)(V,this.textarea,this.coreService,this.optionsService);this.register((0,m.addDisposableDomListener)(this.textarea,"paste",U)),this.register((0,m.addDisposableDomListener)(this.element,"paste",U)),G.isFirefox?this.register((0,m.addDisposableDomListener)(this.element,"mousedown",V=>{V.button===2&&(0,h.rightClickHandler)(V,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,m.addDisposableDomListener)(this.element,"contextmenu",V=>{(0,h.rightClickHandler)(V,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),G.isLinux&&this.register((0,m.addDisposableDomListener)(this.element,"auxclick",V=>{V.button===1&&(0,h.moveTextAreaUnderMouseCursor)(V,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,m.addDisposableDomListener)(this.textarea,"keyup",U=>this._keyUp(U),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keydown",U=>this._keyDown(U),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keypress",U=>this._keyPress(U),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionupdate",U=>this._compositionHelper.compositionupdate(U))),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,m.addDisposableDomListener)(this.textarea,"input",U=>this._inputEvent(U),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(U){var V;if(!U)throw new Error("Terminal requires a parent element.");U.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=U.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),U.appendChild(this.element);const ne=Z.createDocumentFragment();this._viewportElement=Z.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ne.appendChild(this._viewportElement),this._viewportScrollArea=Z.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Z.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Z.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ne.appendChild(this.screenElement),this.textarea=Z.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",S.promptLabel),G.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(V=this._document.defaultView)!==null&&V!==void 0?V:window),this._instantiationService.setService(B.ICoreBrowserService,this._coreBrowserService),this.register((0,m.addDisposableDomListener)(this.textarea,"focus",oe=>this._handleTextAreaFocus(oe))),this.register((0,m.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(d.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(B.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(I.ThemeService),this._instantiationService.setService(B.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(g.CharacterJoinerService),this._instantiationService.setService(B.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(H.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(B.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(oe=>this._onRender.fire(oe))),this.onResize(oe=>this._renderService.resize(oe.cols,oe.rows)),this._compositionView=Z.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ne);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(R.MouseService),this._instantiationService.setService(B.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(D.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(oe=>this.scrollLines(oe.amount,oe.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(B.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(oe=>this.scrollLines(oe.amount,oe.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(oe=>this._renderService.handleSelectionChanged(oe.start,oe.end,oe.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(oe=>{this.textarea.value=oe,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(oe=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(C.BufferDecorationRenderer,this.screenElement)),this.register((0,m.addDisposableDomListener)(this.element,"mousedown",oe=>this._selectionService.handleMouseDown(oe))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(W.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",oe=>this._handleScreenReaderModeOptionChange(oe))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",oe=>{!this._overviewRulerRenderer&&oe&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(f.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const U=this,V=this.element;function ne(fe){const De=U._mouseService.getMouseReportCoords(fe,U.screenElement);if(!De)return!1;let $e,at;switch(fe.overrideType||fe.type){case"mousemove":at=32,fe.buttons===void 0?($e=3,fe.button!==void 0&&($e=fe.button<3?fe.button:3)):$e=1&fe.buttons?0:4&fe.buttons?1:2&fe.buttons?2:3;break;case"mouseup":at=0,$e=fe.button<3?fe.button:3;break;case"mousedown":at=1,$e=fe.button<3?fe.button:3;break;case"wheel":if(U.viewport.getLinesScrolled(fe)===0)return!1;at=fe.deltaY<0?0:1,$e=4;break;default:return!1}return!(at===void 0||$e===void 0||$e>4)&&U.coreMouseService.triggerMouseEvent({col:De.col,row:De.row,x:De.x,y:De.y,button:$e,action:at,ctrl:fe.ctrlKey,alt:fe.altKey,shift:fe.shiftKey})}const oe={mouseup:null,wheel:null,mousedrag:null,mousemove:null},pe={mouseup:fe=>(ne(fe),fe.buttons||(this._document.removeEventListener("mouseup",oe.mouseup),oe.mousedrag&&this._document.removeEventListener("mousemove",oe.mousedrag)),this.cancel(fe)),wheel:fe=>(ne(fe),this.cancel(fe,!0)),mousedrag:fe=>{fe.buttons&&ne(fe)},mousemove:fe=>{fe.buttons||ne(fe)}};this.register(this.coreMouseService.onProtocolChange(fe=>{fe?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(fe)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&fe?oe.mousemove||(V.addEventListener("mousemove",pe.mousemove),oe.mousemove=pe.mousemove):(V.removeEventListener("mousemove",oe.mousemove),oe.mousemove=null),16&fe?oe.wheel||(V.addEventListener("wheel",pe.wheel,{passive:!1}),oe.wheel=pe.wheel):(V.removeEventListener("wheel",oe.wheel),oe.wheel=null),2&fe?oe.mouseup||(V.addEventListener("mouseup",pe.mouseup),oe.mouseup=pe.mouseup):(this._document.removeEventListener("mouseup",oe.mouseup),V.removeEventListener("mouseup",oe.mouseup),oe.mouseup=null),4&fe?oe.mousedrag||(oe.mousedrag=pe.mousedrag):(this._document.removeEventListener("mousemove",oe.mousedrag),oe.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,m.addDisposableDomListener)(V,"mousedown",fe=>{if(fe.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(fe))return ne(fe),oe.mouseup&&this._document.addEventListener("mouseup",oe.mouseup),oe.mousedrag&&this._document.addEventListener("mousemove",oe.mousedrag),this.cancel(fe)})),this.register((0,m.addDisposableDomListener)(V,"wheel",fe=>{if(!oe.wheel){if(!this.buffer.hasScrollback){const De=this.viewport.getLinesScrolled(fe);if(De===0)return;const $e=P.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(fe.deltaY<0?"A":"B");let at="";for(let yi=0;yi<Math.abs(De);yi++)at+=$e;return this.coreService.triggerDataEvent(at,!0),this.cancel(fe,!0)}return this.viewport.handleWheel(fe)?this.cancel(fe):void 0}},{passive:!1})),this.register((0,m.addDisposableDomListener)(V,"touchstart",fe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(fe),this.cancel(fe)},{passive:!0})),this.register((0,m.addDisposableDomListener)(V,"touchmove",fe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(fe)?void 0:this.cancel(fe)},{passive:!1}))}refresh(U,V){var ne;(ne=this._renderService)===null||ne===void 0||ne.refreshRows(U,V)}updateCursorStyle(U){var V;!((V=this._selectionService)===null||V===void 0)&&V.shouldColumnSelect(U)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(U,V,ne=0){var oe;ne===1?(super.scrollLines(U,V,ne),this.refresh(0,this.rows-1)):(oe=this.viewport)===null||oe===void 0||oe.scrollLines(U)}paste(U){(0,h.paste)(U,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(U){this._customKeyEventHandler=U}registerLinkProvider(U){return this.linkifier2.registerLinkProvider(U)}registerCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const V=this._characterJoinerService.register(U);return this.refresh(0,this.rows-1),V}deregisterCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(U)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(U){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+U)}registerDecoration(U){return this._decorationService.registerDecoration(U)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(U,V,ne){this._selectionService.setSelection(U,V,ne)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var U;(U=this._selectionService)===null||U===void 0||U.clearSelection()}selectAll(){var U;(U=this._selectionService)===null||U===void 0||U.selectAll()}selectLines(U,V){var ne;(ne=this._selectionService)===null||ne===void 0||ne.selectLines(U,V)}_keyDown(U){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;const V=this.browser.isMac&&this.options.macOptionIsMeta&&U.altKey;if(!V&&!this._compositionHelper.keydown(U))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;V||U.key!=="Dead"&&U.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ne=(0,M.evaluateKeyboardEvent)(U,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(U),ne.type===3||ne.type===2){const oe=this.rows-1;return this.scrollLines(ne.type===2?-oe:oe),this.cancel(U,!0)}return ne.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,U)||(ne.cancel&&this.cancel(U,!0),!ne.key||!!(U.key&&!U.ctrlKey&&!U.altKey&&!U.metaKey&&U.key.length===1&&U.key.charCodeAt(0)>=65&&U.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ne.key!==P.C0.ETX&&ne.key!==P.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ne.key,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(ne.key,!0),!this.optionsService.rawOptions.screenReaderMode||U.altKey||U.ctrlKey?this.cancel(U,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(U,V){const ne=U.isMac&&!this.options.macOptionIsMeta&&V.altKey&&!V.ctrlKey&&!V.metaKey||U.isWindows&&V.altKey&&V.ctrlKey&&!V.metaKey||U.isWindows&&V.getModifierState("AltGraph");return V.type==="keypress"?ne:ne&&(!V.keyCode||V.keyCode>47)}_keyUp(U){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1||(function(V){return V.keyCode===16||V.keyCode===17||V.keyCode===18}(U)||this.focus(),this.updateCursorStyle(U),this._keyPressHandled=!1)}_keyPress(U){let V;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;if(this.cancel(U),U.charCode)V=U.charCode;else if(U.which===null||U.which===void 0)V=U.keyCode;else{if(U.which===0||U.charCode===0)return!1;V=U.which}return!(!V||(U.altKey||U.ctrlKey||U.metaKey)&&!this._isThirdLevelShift(this.browser,U)||(V=String.fromCharCode(V),this._onKey.fire({key:V,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(V,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(U){if(U.data&&U.inputType==="insertText"&&(!U.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const V=U.data;return this.coreService.triggerDataEvent(V,!0),this.cancel(U),!0}return!1}resize(U,V){U!==this.cols||V!==this.rows?super.resize(U,V):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(U,V){var ne,oe;(ne=this._charSizeService)===null||ne===void 0||ne.measure(),(oe=this.viewport)===null||oe===void 0||oe.syncScrollArea(!0)}clear(){var U;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let V=1;V<this.rows;V++)this.buffer.lines.push(this.buffer.getBlankLine(z.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(U=this.viewport)===null||U===void 0||U.reset(),this.refresh(0,this.rows-1)}}reset(){var U,V;this.options.rows=this.rows,this.options.cols=this.cols;const ne=this._customKeyEventHandler;this._setup(),super.reset(),(U=this._selectionService)===null||U===void 0||U.reset(),this._decorationService.reset(),(V=this.viewport)===null||V===void 0||V.reset(),this._customKeyEventHandler=ne,this.refresh(0,this.rows-1)}clearTextureAtlas(){var U;(U=this._renderService)===null||U===void 0||U.clearTextureAtlas()}_reportFocus(){var U;!((U=this.element)===null||U===void 0)&&U.classList.contains("focus")?this.coreService.triggerDataEvent(P.C0.ESC+"[I"):this.coreService.triggerDataEvent(P.C0.ESC+"[O")}_reportWindowsOptions(U){if(this._renderService)switch(U){case F.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const V=this._renderService.dimensions.css.canvas.width.toFixed(0),ne=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${P.C0.ESC}[4;${ne};${V}t`);break;case F.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const oe=this._renderService.dimensions.css.cell.width.toFixed(0),pe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${P.C0.ESC}[6;${pe};${oe}t`)}}cancel(U,V){if(this.options.cancelEvents||V)return U.preventDefault(),U.stopPropagation(),!1}}l.Terminal=ae},9924:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(u,h=1e3){this._renderCallback=u,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,h,m){this._rowCount=m,u=u!==void 0?u:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const v=Date.now();if(v-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=v,this._innerRefresh();else if(!this._additionalRefreshRequested){const S=v-this._lastRefreshMs,x=this._debounceThresholdMS-S;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},x)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const u=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,h)}}},1680:function(L,l,u){var h=this&&this.__decorate||function(o,f,d,g){var w,R=arguments.length,H=R<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(o,f,d,g);else for(var b=o.length-1;b>=0;b--)(w=o[b])&&(H=(R<3?w(H):R>3?w(f,d,H):w(f,d))||H);return R>3&&H&&Object.defineProperty(f,d,H),H},m=this&&this.__param||function(o,f){return function(d,g){f(d,g,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const v=u(3656),S=u(4725),x=u(8460),D=u(844),C=u(2585);let a=l.Viewport=class extends D.Disposable{constructor(o,f,d,g,w,R,H,b){super(),this._viewportElement=o,this._scrollArea=f,this._bufferService=d,this._optionsService=g,this._charSizeService=w,this._renderService=R,this._coreBrowserService=H,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(B=>this._activeBuffer=B.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(B=>this._renderDimensions=B)),this._handleThemeChange(b.colors),this.register(b.onChangeColors(B=>this._handleThemeChange(B))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(o){this._viewportElement.style.backgroundColor=o.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(o){if(o)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const f=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==f&&(this._lastRecordedBufferHeight=f,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const o=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==o&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=o),this._refreshAnimationFrame=null}syncScrollArea(o=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(o);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(o)}_handleScroll(o){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const f=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const o=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(o*(this._smoothScrollState.target-this._smoothScrollState.origin)),o<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(o,f){const d=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(f<0&&this._viewportElement.scrollTop!==0||f>0&&d<this._lastRecordedBufferHeight)||(o.cancelable&&o.preventDefault(),!1)}handleWheel(o){const f=this._getPixelsScrolled(o);return f!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+f:this._smoothScrollState.target+=f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=f,this._bubbleScroll(o,f))}scrollLines(o){if(o!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const f=o*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!1})}_getPixelsScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let f=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_LINE?f*=this._currentRowHeight:o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._currentRowHeight*this._bufferService.rows),f}getBufferElements(o,f){var d;let g,w="";const R=[],H=f??this._bufferService.buffer.lines.length,b=this._bufferService.buffer.lines;for(let B=o;B<H;B++){const I=b.get(B);if(!I)continue;const Y=(d=b.get(B+1))===null||d===void 0?void 0:d.isWrapped;if(w+=I.translateToString(!Y),!Y||B===b.length-1){const $=document.createElement("div");$.textContent=w,R.push($),w.length>0&&(g=$),w=""}}return{bufferElements:R,cursorElement:g}}getLinesScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let f=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(f/=this._currentRowHeight+0,this._wheelPartialScroll+=f,f=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._bufferService.rows),f}_applyScrollModifier(o,f){const d=this._optionsService.rawOptions.fastScrollModifier;return d==="alt"&&f.altKey||d==="ctrl"&&f.ctrlKey||d==="shift"&&f.shiftKey?o*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:o*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(o){this._lastTouchY=o.touches[0].pageY}handleTouchMove(o){const f=this._lastTouchY-o.touches[0].pageY;return this._lastTouchY=o.touches[0].pageY,f!==0&&(this._viewportElement.scrollTop+=f,this._bubbleScroll(o,f))}};l.Viewport=a=h([m(2,C.IBufferService),m(3,C.IOptionsService),m(4,S.ICharSizeService),m(5,S.IRenderService),m(6,S.ICoreBrowserService),m(7,S.IThemeService)],a)},3107:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,R=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(R=(w<3?g(R):w>3?g(o,f,R):g(o,f))||R);return w>3&&R&&Object.defineProperty(o,f,R),R},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const v=u(3656),S=u(4725),x=u(844),D=u(2585);let C=l.BufferDecorationRenderer=class extends x.Disposable{constructor(a,o,f,d){super(),this._screenElement=a,this._bufferService=o,this._decorationService=f,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,v.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(g=>this._removeDecoration(g))),this.register((0,x.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const a of this._decorationService.decorations)this._renderDecoration(a);this._dimensionsChanged=!1}_renderDecoration(a){this._refreshStyle(a),this._dimensionsChanged&&this._refreshXPosition(a)}_createElement(a){var o,f;const d=document.createElement("div");d.classList.add("xterm-decoration"),d.classList.toggle("xterm-decoration-top-layer",((o=a==null?void 0:a.options)===null||o===void 0?void 0:o.layer)==="top"),d.style.width=`${Math.round((a.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,d.style.height=(a.options.height||1)*this._renderService.dimensions.css.cell.height+"px",d.style.top=(a.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",d.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const g=(f=a.options.x)!==null&&f!==void 0?f:0;return g&&g>this._bufferService.cols&&(d.style.display="none"),this._refreshXPosition(a,d),d}_refreshStyle(a){const o=a.marker.line-this._bufferService.buffers.active.ydisp;if(o<0||o>=this._bufferService.rows)a.element&&(a.element.style.display="none",a.onRenderEmitter.fire(a.element));else{let f=this._decorationElements.get(a);f||(f=this._createElement(a),a.element=f,this._decorationElements.set(a,f),this._container.appendChild(f),a.onDispose(()=>{this._decorationElements.delete(a),f.remove()})),f.style.top=o*this._renderService.dimensions.css.cell.height+"px",f.style.display=this._altBufferIsActive?"none":"block",a.onRenderEmitter.fire(f)}}_refreshXPosition(a,o=a.element){var f;if(!o)return;const d=(f=a.options.x)!==null&&f!==void 0?f:0;(a.options.anchor||"left")==="right"?o.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":o.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(a){var o;(o=this._decorationElements.get(a))===null||o===void 0||o.remove(),this._decorationElements.delete(a),a.dispose()}};l.BufferDecorationRenderer=C=h([m(1,D.IBufferService),m(2,D.IDecorationService),m(3,S.IRenderService)],C)},5871:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(const h of this._zones)if(h.color===u.options.overviewRulerOptions.color&&h.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,u.marker.line))return;if(this._lineAdjacentToZone(h,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(h,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,h){return h>=u.startBufferLine&&h<=u.endBufferLine}_lineAdjacentToZone(u,h,m){return h>=u.startBufferLine-this._linePadding[m||"full"]&&h<=u.endBufferLine+this._linePadding[m||"full"]}_addLineToZone(u,h){u.startBufferLine=Math.min(u.startBufferLine,h),u.endBufferLine=Math.max(u.endBufferLine,h)}}},5744:function(L,l,u){var h=this&&this.__decorate||function(g,w,R,H){var b,B=arguments.length,I=B<3?w:H===null?H=Object.getOwnPropertyDescriptor(w,R):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(g,w,R,H);else for(var Y=g.length-1;Y>=0;Y--)(b=g[Y])&&(I=(B<3?b(I):B>3?b(w,R,I):b(w,R))||I);return B>3&&I&&Object.defineProperty(w,R,I),I},m=this&&this.__param||function(g,w){return function(R,H){w(R,H,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const v=u(5871),S=u(3656),x=u(4725),D=u(844),C=u(2585),a={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0};let d=l.OverviewRulerRenderer=class extends D.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(g,w,R,H,b,B,I){var Y;super(),this._viewportElement=g,this._screenElement=w,this._bufferService=R,this._decorationService=H,this._renderService=b,this._optionsService=B,this._coreBrowseService=I,this._colorZoneStore=new v.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(Y=this._viewportElement.parentElement)===null||Y===void 0||Y.insertBefore(this._canvas,this._viewportElement);const $=this._canvas.getContext("2d");if(!$)throw new Error("Ctx cannot be null");this._ctx=$,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,D.toDisposable)(()=>{var X;(X=this._canvas)===null||X===void 0||X.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,S.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const g=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);o.full=this._canvas.width,o.left=g,o.center=w,o.right=g,this._refreshDrawHeightConstants(),f.full=0,f.left=0,f.center=o.left,f.right=o.left+o.center}_refreshDrawHeightConstants(){a.full=Math.round(2*this._coreBrowseService.dpr);const g=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(g,12),6)*this._coreBrowseService.dpr);a.left=w,a.center=w,a.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const g=this._colorZoneStore.zones;for(const w of g)w.position!=="full"&&this._renderColorZone(w);for(const w of g)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(g){this._ctx.fillStyle=g.color,this._ctx.fillRect(f[g.position||"full"],Math.round((this._canvas.height-1)*(g.startBufferLine/this._bufferService.buffers.active.lines.length)-a[g.position||"full"]/2),o[g.position||"full"],Math.round((this._canvas.height-1)*((g.endBufferLine-g.startBufferLine)/this._bufferService.buffers.active.lines.length)+a[g.position||"full"]))}_queueRefresh(g,w){this._shouldUpdateDimensions=g||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};l.OverviewRulerRenderer=d=h([m(2,C.IBufferService),m(3,C.IDecorationService),m(4,x.IRenderService),m(5,C.IOptionsService),m(6,x.ICoreBrowserService)],d)},2950:function(L,l,u){var h=this&&this.__decorate||function(C,a,o,f){var d,g=arguments.length,w=g<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,o):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(C,a,o,f);else for(var R=C.length-1;R>=0;R--)(d=C[R])&&(w=(g<3?d(w):g>3?d(a,o,w):d(a,o))||w);return g>3&&w&&Object.defineProperty(a,o,w),w},m=this&&this.__param||function(C,a){return function(o,f){a(o,f,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const v=u(4725),S=u(2585),x=u(2584);let D=l.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(C,a,o,f,d,g){this._textarea=C,this._compositionView=a,this._bufferService=o,this._optionsService=f,this._coreService=d,this._renderService=g,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(C){this._compositionView.textContent=C.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(C){if(this._isComposing||this._isSendingComposition){if(C.keyCode===229||C.keyCode===16||C.keyCode===17||C.keyCode===18)return!1;this._finalizeComposition(!1)}return C.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(C){if(this._compositionView.classList.remove("active"),this._isComposing=!1,C){const a={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let o;this._isSendingComposition=!1,a.start+=this._dataAlreadySent.length,o=this._isComposing?this._textarea.value.substring(a.start,a.end):this._textarea.value.substring(a.start),o.length>0&&this._coreService.triggerDataEvent(o,!0)}},0)}else{this._isSendingComposition=!1;const a=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(a,!0)}}_handleAnyTextareaChanges(){const C=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const a=this._textarea.value,o=a.replace(C,"");this._dataAlreadySent=o,a.length>C.length?this._coreService.triggerDataEvent(o,!0):a.length<C.length?this._coreService.triggerDataEvent(`${x.C0.DEL}`,!0):a.length===C.length&&a!==C&&this._coreService.triggerDataEvent(a,!0)}},0)}updateCompositionElements(C){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const a=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),o=this._renderService.dimensions.css.cell.height,f=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,d=a*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=d+"px",this._compositionView.style.top=f+"px",this._compositionView.style.height=o+"px",this._compositionView.style.lineHeight=o+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const g=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=f+"px",this._textarea.style.width=Math.max(g.width,1)+"px",this._textarea.style.height=Math.max(g.height,1)+"px",this._textarea.style.lineHeight=g.height+"px"}C||setTimeout(()=>this.updateCompositionElements(!0),0)}}};l.CompositionHelper=D=h([m(2,S.IBufferService),m(3,S.IOptionsService),m(4,S.ICoreService),m(5,v.IRenderService)],D)},9806:(L,l)=>{function u(h,m,v){const S=v.getBoundingClientRect(),x=h.getComputedStyle(v),D=parseInt(x.getPropertyValue("padding-left")),C=parseInt(x.getPropertyValue("padding-top"));return[m.clientX-S.left-D,m.clientY-S.top-C]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=u,l.getCoords=function(h,m,v,S,x,D,C,a,o){if(!D)return;const f=u(h,m,v);return f?(f[0]=Math.ceil((f[0]+(o?C/2:0))/C),f[1]=Math.ceil(f[1]/a),f[0]=Math.min(Math.max(f[0],1),S+(o?1:0)),f[1]=Math.min(Math.max(f[1],1),x),f):void 0}},9504:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const h=u(2584);function m(a,o,f,d){const g=a-v(a,f),w=o-v(o,f),R=Math.abs(g-w)-function(H,b,B){let I=0;const Y=H-v(H,B),$=b-v(b,B);for(let X=0;X<Math.abs(Y-$);X++){const q=S(H,b)==="A"?-1:1,G=B.buffer.lines.get(Y+q*X);G!=null&&G.isWrapped&&I++}return I}(a,o,f);return C(R,D(S(a,o),d))}function v(a,o){let f=0,d=o.buffer.lines.get(a),g=d==null?void 0:d.isWrapped;for(;g&&a>=0&&a<o.rows;)f++,d=o.buffer.lines.get(--a),g=d==null?void 0:d.isWrapped;return f}function S(a,o){return a>o?"A":"B"}function x(a,o,f,d,g,w){let R=a,H=o,b="";for(;R!==f||H!==d;)R+=g?1:-1,g&&R>w.cols-1?(b+=w.buffer.translateBufferLineToString(H,!1,a,R),R=0,a=0,H++):!g&&R<0&&(b+=w.buffer.translateBufferLineToString(H,!1,0,a+1),R=w.cols-1,a=R,H--);return b+w.buffer.translateBufferLineToString(H,!1,a,R)}function D(a,o){const f=o?"O":"[";return h.C0.ESC+f+a}function C(a,o){a=Math.floor(a);let f="";for(let d=0;d<a;d++)f+=o;return f}l.moveToCellSequence=function(a,o,f,d){const g=f.buffer.x,w=f.buffer.y;if(!f.buffer.hasScrollback)return function(b,B,I,Y,$,X){return m(B,Y,$,X).length===0?"":C(x(b,B,b,B-v(B,$),!1,$).length,D("D",X))}(g,w,0,o,f,d)+m(w,o,f,d)+function(b,B,I,Y,$,X){let q;q=m(B,Y,$,X).length>0?Y-v(Y,$):B;const G=Y,z=function(P,M,N,E,T,F){let W;return W=m(N,E,T,F).length>0?E-v(E,T):M,P<N&&W<=E||P>=N&&W<E?"C":"D"}(b,B,I,Y,$,X);return C(x(b,q,I,G,z==="C",$).length,D(z,X))}(g,w,a,o,f,d);let R;if(w===o)return R=g>a?"D":"C",C(Math.abs(g-a),D(R,d));R=w>o?"D":"C";const H=Math.abs(w-o);return C(function(b,B){return B.cols-b}(w>o?a:g,f)+(H-1)*f.cols+1+((w>o?g:a)-1),D(R,d))}},1296:function(L,l,u){var h=this&&this.__decorate||function($,X,q,G){var z,P=arguments.length,M=P<3?X:G===null?G=Object.getOwnPropertyDescriptor(X,q):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate($,X,q,G);else for(var N=$.length-1;N>=0;N--)(z=$[N])&&(M=(P<3?z(M):P>3?z(X,q,M):z(X,q))||M);return P>3&&M&&Object.defineProperty(X,q,M),M},m=this&&this.__param||function($,X){return function(q,G){X(q,G,$)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const v=u(3787),S=u(2550),x=u(2223),D=u(6171),C=u(4725),a=u(8055),o=u(8460),f=u(844),d=u(2585),g="xterm-dom-renderer-owner-",w="xterm-rows",R="xterm-fg-",H="xterm-bg-",b="xterm-focus",B="xterm-selection";let I=1,Y=l.DomRenderer=class extends f.Disposable{constructor($,X,q,G,z,P,M,N,E,T){super(),this._element=$,this._screenElement=X,this._viewportElement=q,this._linkifier2=G,this._charSizeService=P,this._optionsService=M,this._bufferService=N,this._coreBrowserService=E,this._themeService=T,this._terminalClass=I++,this._rowElements=[],this.onRequestRedraw=this.register(new o.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(B),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,D.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(F=>this._injectCss(F))),this._injectCss(this._themeService.colors),this._rowFactory=z.createInstance(v.DomRendererRowFactory,document),this._element.classList.add(g+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(F=>this._handleLinkHover(F))),this.register(this._linkifier2.onHideLinkUnderline(F=>this._handleLinkLeave(F))),this.register((0,f.toDisposable)(()=>{this._element.classList.remove(g+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new S.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const $=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*$,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*$),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/$),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/$),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const q of this._rowElements)q.style.width=`${this.dimensions.css.canvas.width}px`,q.style.height=`${this.dimensions.css.cell.height}px`,q.style.lineHeight=`${this.dimensions.css.cell.height}px`,q.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const X=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=X,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss($){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let X=`${this._terminalSelector} .${w} { color: ${$.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;X+=`${this._terminalSelector} .${w} .xterm-dim { color: ${a.color.multiplyOpacity($.foreground,.5).css};}`,X+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,X+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",X+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${$.cursor.css};  color: ${$.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${$.cursor.css}; }}`,X+=`${this._terminalSelector} .${w}.${b} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${b} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${$.cursor.css}; color: ${$.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${$.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${$.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${$.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,X+=`${this._terminalSelector} .${B} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${B} div { position: absolute; background-color: ${$.selectionBackgroundOpaque.css};}${this._terminalSelector} .${B} div { position: absolute; background-color: ${$.selectionInactiveBackgroundOpaque.css};}`;for(const[q,G]of $.ansi.entries())X+=`${this._terminalSelector} .${R}${q} { color: ${G.css}; }${this._terminalSelector} .${R}${q}.xterm-dim { color: ${a.color.multiplyOpacity(G,.5).css}; }${this._terminalSelector} .${H}${q} { background-color: ${G.css}; }`;X+=`${this._terminalSelector} .${R}${x.INVERTED_DEFAULT_COLOR} { color: ${a.color.opaque($.background).css}; }${this._terminalSelector} .${R}${x.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${a.color.multiplyOpacity(a.color.opaque($.background),.5).css}; }${this._terminalSelector} .${H}${x.INVERTED_DEFAULT_COLOR} { background-color: ${$.foreground.css}; }`,this._themeStyleElement.textContent=X}_setDefaultSpacing(){const $=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${$}px`,this._rowFactory.defaultSpacing=$}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements($,X){for(let q=this._rowElements.length;q<=X;q++){const G=document.createElement("div");this._rowContainer.appendChild(G),this._rowElements.push(G)}for(;this._rowElements.length>X;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize($,X){this._refreshRowElements($,X),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(b)}handleFocus(){this._rowContainer.classList.add(b),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged($,X,q){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged($,X,q),this.renderRows(0,this._bufferService.rows-1),!$||!X)return;const G=$[1]-this._bufferService.buffer.ydisp,z=X[1]-this._bufferService.buffer.ydisp,P=Math.max(G,0),M=Math.min(z,this._bufferService.rows-1);if(P>=this._bufferService.rows||M<0)return;const N=document.createDocumentFragment();if(q){const E=$[0]>X[0];N.appendChild(this._createSelectionElement(P,E?X[0]:$[0],E?$[0]:X[0],M-P+1))}else{const E=G===P?$[0]:0,T=P===z?X[0]:this._bufferService.cols;N.appendChild(this._createSelectionElement(P,E,T));const F=M-P-1;if(N.appendChild(this._createSelectionElement(P+1,0,this._bufferService.cols,F)),P!==M){const W=z===M?X[0]:this._bufferService.cols;N.appendChild(this._createSelectionElement(M,0,W))}}this._selectionContainer.appendChild(N)}_createSelectionElement($,X,q,G=1){const z=document.createElement("div");return z.style.height=G*this.dimensions.css.cell.height+"px",z.style.top=$*this.dimensions.css.cell.height+"px",z.style.left=X*this.dimensions.css.cell.width+"px",z.style.width=this.dimensions.css.cell.width*(q-X)+"px",z}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const $ of this._rowElements)$.replaceChildren()}renderRows($,X){const q=this._bufferService.buffer,G=q.ybase+q.y,z=Math.min(q.x,this._bufferService.cols-1),P=this._optionsService.rawOptions.cursorBlink,M=this._optionsService.rawOptions.cursorStyle,N=this._optionsService.rawOptions.cursorInactiveStyle;for(let E=$;E<=X;E++){const T=E+q.ydisp,F=this._rowElements[E],W=q.lines.get(T);if(!F||!W)break;F.replaceChildren(...this._rowFactory.createRow(W,T,T===G,M,N,z,P,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${g}${this._terminalClass}`}_handleLinkHover($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!0)}_handleLinkLeave($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!1)}_setCellUnderline($,X,q,G,z,P){q<0&&($=0),G<0&&(X=0);const M=this._bufferService.rows-1;q=Math.max(Math.min(q,M),0),G=Math.max(Math.min(G,M),0),z=Math.min(z,this._bufferService.cols);const N=this._bufferService.buffer,E=N.ybase+N.y,T=Math.min(N.x,z-1),F=this._optionsService.rawOptions.cursorBlink,W=this._optionsService.rawOptions.cursorStyle,Z=this._optionsService.rawOptions.cursorInactiveStyle;for(let ae=q;ae<=G;++ae){const he=ae+N.ydisp,U=this._rowElements[ae],V=N.lines.get(he);if(!U||!V)break;U.replaceChildren(...this._rowFactory.createRow(V,he,he===E,W,Z,T,F,this.dimensions.css.cell.width,this._widthCache,P?ae===q?$:0:-1,P?(ae===G?X:z)-1:-1))}}};l.DomRenderer=Y=h([m(4,d.IInstantiationService),m(5,C.ICharSizeService),m(6,d.IOptionsService),m(7,d.IBufferService),m(8,C.ICoreBrowserService),m(9,C.IThemeService)],Y)},3787:function(L,l,u){var h=this&&this.__decorate||function(R,H,b,B){var I,Y=arguments.length,$=Y<3?H:B===null?B=Object.getOwnPropertyDescriptor(H,b):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(R,H,b,B);else for(var X=R.length-1;X>=0;X--)(I=R[X])&&($=(Y<3?I($):Y>3?I(H,b,$):I(H,b))||$);return Y>3&&$&&Object.defineProperty(H,b,$),$},m=this&&this.__param||function(R,H){return function(b,B){H(b,B,R)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=void 0;const v=u(2223),S=u(643),x=u(511),D=u(2585),C=u(8055),a=u(4725),o=u(4269),f=u(6171),d=u(3734);let g=l.DomRendererRowFactory=class{constructor(R,H,b,B,I,Y,$){this._document=R,this._characterJoinerService=H,this._optionsService=b,this._coreBrowserService=B,this._coreService=I,this._decorationService=Y,this._themeService=$,this._workCell=new x.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(R,H,b){this._selectionStart=R,this._selectionEnd=H,this._columnSelectMode=b}createRow(R,H,b,B,I,Y,$,X,q,G,z){const P=[],M=this._characterJoinerService.getJoinedCharacters(H),N=this._themeService.colors;let E,T=R.getNoBgTrimmedLength();b&&T<Y+1&&(T=Y+1);let F=0,W="",Z=0,ae=0,he=0,U=!1,V=0,ne=!1,oe=0;const pe=[],fe=G!==-1&&z!==-1;for(let De=0;De<T;De++){R.loadCell(De,this._workCell);let $e=this._workCell.getWidth();if($e===0)continue;let at=!1,yi=De,me=this._workCell;if(M.length>0&&De===M[0][0]){at=!0;const Ue=M.shift();me=new o.JoinedCellData(this._workCell,R.translateToString(!0,Ue[0],Ue[1]),Ue[1]-Ue[0]),yi=Ue[1]-1,$e=me.getWidth()}const Xi=this._isCellInSelection(De,H),gs=b&&De===Y,ps=fe&&De>=G&&De<=z;let Si=!1;this._decorationService.forEachDecorationAtCell(De,H,void 0,Ue=>{Si=!0});let ms=me.getChars()||S.WHITESPACE_CELL_CHAR;if(ms===" "&&(me.isUnderline()||me.isOverline())&&(ms=""),oe=$e*X-q.get(ms,me.isBold(),me.isItalic()),E){if(F&&(Xi&&ne||!Xi&&!ne&&me.bg===Z)&&(Xi&&ne&&N.selectionForeground||me.fg===ae)&&me.extended.ext===he&&ps===U&&oe===V&&!gs&&!at&&!Si){W+=ms,F++;continue}F&&(E.textContent=W),E=this._document.createElement("span"),F=0,W=""}else E=this._document.createElement("span");if(Z=me.bg,ae=me.fg,he=me.extended.ext,U=ps,V=oe,ne=Xi,at&&Y>=De&&Y<=yi&&(Y=De),!this._coreService.isCursorHidden&&gs){if(pe.push("xterm-cursor"),this._coreBrowserService.isFocused)$&&pe.push("xterm-cursor-blink"),pe.push(B==="bar"?"xterm-cursor-bar":B==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(I)switch(I){case"outline":pe.push("xterm-cursor-outline");break;case"block":pe.push("xterm-cursor-block");break;case"bar":pe.push("xterm-cursor-bar");break;case"underline":pe.push("xterm-cursor-underline")}}if(me.isBold()&&pe.push("xterm-bold"),me.isItalic()&&pe.push("xterm-italic"),me.isDim()&&pe.push("xterm-dim"),W=me.isInvisible()?S.WHITESPACE_CELL_CHAR:me.getChars()||S.WHITESPACE_CELL_CHAR,me.isUnderline()&&(pe.push(`xterm-underline-${me.extended.underlineStyle}`),W===" "&&(W=""),!me.isUnderlineColorDefault()))if(me.isUnderlineColorRGB())E.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(me.getUnderlineColor()).join(",")})`;else{let Ue=me.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&me.isBold()&&Ue<8&&(Ue+=8),E.style.textDecorationColor=N.ansi[Ue].css}me.isOverline()&&(pe.push("xterm-overline"),W===" "&&(W="")),me.isStrikethrough()&&pe.push("xterm-strikethrough"),ps&&(E.style.textDecoration="underline");let ut=me.getFgColor(),Gi=me.getFgColorMode(),Mt=me.getBgColor(),qt=me.getBgColorMode();const et=!!me.isInverse();if(et){const Ue=ut;ut=Mt,Mt=Ue;const ys=Gi;Gi=qt,qt=ys}let tt,it,Xt,Ki=!1;switch(this._decorationService.forEachDecorationAtCell(De,H,void 0,Ue=>{Ue.options.layer!=="top"&&Ki||(Ue.backgroundColorRGB&&(qt=50331648,Mt=Ue.backgroundColorRGB.rgba>>8&16777215,tt=Ue.backgroundColorRGB),Ue.foregroundColorRGB&&(Gi=50331648,ut=Ue.foregroundColorRGB.rgba>>8&16777215,it=Ue.foregroundColorRGB),Ki=Ue.options.layer==="top")}),!Ki&&Xi&&(tt=this._coreBrowserService.isFocused?N.selectionBackgroundOpaque:N.selectionInactiveBackgroundOpaque,Mt=tt.rgba>>8&16777215,qt=50331648,Ki=!0,N.selectionForeground&&(Gi=50331648,ut=N.selectionForeground.rgba>>8&16777215,it=N.selectionForeground)),Ki&&pe.push("xterm-decoration-top"),qt){case 16777216:case 33554432:Xt=N.ansi[Mt],pe.push(`xterm-bg-${Mt}`);break;case 50331648:Xt=C.rgba.toColor(Mt>>16,Mt>>8&255,255&Mt),this._addStyle(E,`background-color:#${w((Mt>>>0).toString(16),"0",6)}`);break;default:et?(Xt=N.foreground,pe.push(`xterm-bg-${v.INVERTED_DEFAULT_COLOR}`)):Xt=N.background}switch(tt||me.isDim()&&(tt=C.color.multiplyOpacity(Xt,.5)),Gi){case 16777216:case 33554432:me.isBold()&&ut<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ut+=8),this._applyMinimumContrast(E,Xt,N.ansi[ut],me,tt,void 0)||pe.push(`xterm-fg-${ut}`);break;case 50331648:const Ue=C.rgba.toColor(ut>>16&255,ut>>8&255,255&ut);this._applyMinimumContrast(E,Xt,Ue,me,tt,it)||this._addStyle(E,`color:#${w(ut.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(E,Xt,N.foreground,me,tt,void 0)||et&&pe.push(`xterm-fg-${v.INVERTED_DEFAULT_COLOR}`)}pe.length&&(E.className=pe.join(" "),pe.length=0),gs||at||Si?E.textContent=W:F++,oe!==this.defaultSpacing&&(E.style.letterSpacing=`${oe}px`),P.push(E),De=yi}return E&&F&&(E.textContent=W),P}_applyMinimumContrast(R,H,b,B,I,Y){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,f.excludeFromContrastRatioDemands)(B.getCode()))return!1;const $=this._getContrastCache(B);let X;if(I||Y||(X=$.getColor(H.rgba,b.rgba)),X===void 0){const q=this._optionsService.rawOptions.minimumContrastRatio/(B.isDim()?2:1);X=C.color.ensureContrastRatio(I||H,Y||b,q),$.setColor((I||H).rgba,(Y||b).rgba,X??null)}return!!X&&(this._addStyle(R,`color:${X.css}`),!0)}_getContrastCache(R){return R.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(R,H){R.setAttribute("style",`${R.getAttribute("style")||""}${H};`)}_isCellInSelection(R,H){const b=this._selectionStart,B=this._selectionEnd;return!(!b||!B)&&(this._columnSelectMode?b[0]<=B[0]?R>=b[0]&&H>=b[1]&&R<B[0]&&H<=B[1]:R<b[0]&&H>=b[1]&&R>=B[0]&&H<=B[1]:H>b[1]&&H<B[1]||b[1]===B[1]&&H===b[1]&&R>=b[0]&&R<B[0]||b[1]<B[1]&&H===B[1]&&R<B[0]||b[1]<B[1]&&H===b[1]&&R>=b[0])}};function w(R,H,b){for(;R.length<b;)R=H+R;return R}l.DomRendererRowFactory=g=h([m(1,a.ICharacterJoinerService),m(2,D.IOptionsService),m(3,a.ICoreBrowserService),m(4,D.ICoreService),m(5,D.IDecorationService),m(6,a.IThemeService)],g)},2550:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WidthCache=void 0,l.WidthCache=class{constructor(u){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=u.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const h=u.createElement("span"),m=u.createElement("span");m.style.fontWeight="bold";const v=u.createElement("span");v.style.fontStyle="italic";const S=u.createElement("span");S.style.fontWeight="bold",S.style.fontStyle="italic",this._measureElements=[h,m,v,S],this._container.appendChild(h),this._container.appendChild(m),this._container.appendChild(v),this._container.appendChild(S),u.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(u,h,m,v){u===this._font&&h===this._fontSize&&m===this._weight&&v===this._weightBold||(this._font=u,this._fontSize=h,this._weight=m,this._weightBold=v,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${m}`,this._measureElements[1].style.fontWeight=`${v}`,this._measureElements[2].style.fontWeight=`${m}`,this._measureElements[3].style.fontWeight=`${v}`,this.clear())}get(u,h,m){let v=0;if(!h&&!m&&u.length===1&&(v=u.charCodeAt(0))<256)return this._flat[v]!==-9999?this._flat[v]:this._flat[v]=this._measure(u,0);let S=u;h&&(S+="B"),m&&(S+="I");let x=this._holey.get(S);if(x===void 0){let D=0;h&&(D|=1),m&&(D|=2),x=this._measure(u,D),this._holey.set(S,x)}return x}_measure(u,h){const m=this._measureElements[h];return m.textContent=u.repeat(32),m.offsetWidth/32}}},2223:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const h=u(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(L,l)=>{function u(h){return 57508<=h&&h<=57558}Object.defineProperty(l,"__esModule",{value:!0}),l.createRenderDimensions=l.excludeFromContrastRatioDemands=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},l.isPowerlineGlyph=u,l.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},l.excludeFromContrastRatioDemands=function(h){return u(h)||function(m){return 9472<=m&&m<=9631}(h)},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const u=this.selectionStart,h=this.selectionEnd;return!(!u||!h)&&(u[1]>h[1]||u[1]===h[1]&&u[0]>h[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,R=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(R=(w<3?g(R):w>3?g(o,f,R):g(o,f))||R);return w>3&&R&&Object.defineProperty(o,f,R),R},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const v=u(2585),S=u(8460),x=u(844);let D=l.CharSizeService=class extends x.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(a,o,f){super(),this._optionsService=f,this.width=0,this.height=0,this._onCharSizeChange=this.register(new S.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new C(a,o,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())}};l.CharSizeService=D=h([m(2,v.IOptionsService)],D);class C{constructor(o,f,d){this._document=o,this._parentElement=f,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const o={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return o.width!==0&&o.height!==0&&(this._result.width=o.width/32,this._result.height=Math.ceil(o.height)),this._result}}},4269:function(L,l,u){var h=this&&this.__decorate||function(o,f,d,g){var w,R=arguments.length,H=R<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(o,f,d,g);else for(var b=o.length-1;b>=0;b--)(w=o[b])&&(H=(R<3?w(H):R>3?w(f,d,H):w(f,d))||H);return R>3&&H&&Object.defineProperty(f,d,H),H},m=this&&this.__param||function(o,f){return function(d,g){f(d,g,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const v=u(3734),S=u(643),x=u(511),D=u(2585);class C extends v.AttributeData{constructor(f,d,g){super(),this.content=0,this.combinedData="",this.fg=f.fg,this.bg=f.bg,this.combinedData=d,this._width=g}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(f){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.JoinedCellData=C;let a=l.CharacterJoinerService=class X_{constructor(f){this._bufferService=f,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new x.CellData}register(f){const d={id:this._nextCharacterJoinerId++,handler:f};return this._characterJoiners.push(d),d.id}deregister(f){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===f)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(f){if(this._characterJoiners.length===0)return[];const d=this._bufferService.buffer.lines.get(f);if(!d||d.length===0)return[];const g=[],w=d.translateToString(!0);let R=0,H=0,b=0,B=d.getFg(0),I=d.getBg(0);for(let Y=0;Y<d.getTrimmedLength();Y++)if(d.loadCell(Y,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==B||this._workCell.bg!==I){if(Y-R>1){const $=this._getJoinedRanges(w,b,H,d,R);for(let X=0;X<$.length;X++)g.push($[X])}R=Y,b=H,B=this._workCell.fg,I=this._workCell.bg}H+=this._workCell.getChars().length||S.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-R>1){const Y=this._getJoinedRanges(w,b,H,d,R);for(let $=0;$<Y.length;$++)g.push(Y[$])}return g}_getJoinedRanges(f,d,g,w,R){const H=f.substring(d,g);let b=[];try{b=this._characterJoiners[0].handler(H)}catch(B){console.error(B)}for(let B=1;B<this._characterJoiners.length;B++)try{const I=this._characterJoiners[B].handler(H);for(let Y=0;Y<I.length;Y++)X_._mergeRanges(b,I[Y])}catch(I){console.error(I)}return this._stringRangesToCellRanges(b,w,R),b}_stringRangesToCellRanges(f,d,g){let w=0,R=!1,H=0,b=f[w];if(b){for(let B=g;B<this._bufferService.cols;B++){const I=d.getWidth(B),Y=d.getString(B).length||S.WHITESPACE_CELL_CHAR.length;if(I!==0){if(!R&&b[0]<=H&&(b[0]=B,R=!0),b[1]<=H){if(b[1]=B,b=f[++w],!b)break;b[0]<=H?(b[0]=B,R=!0):R=!1}H+=Y}}b&&(b[1]=this._bufferService.cols)}}static _mergeRanges(f,d){let g=!1;for(let w=0;w<f.length;w++){const R=f[w];if(g){if(d[1]<=R[0])return f[w-1][1]=d[1],f;if(d[1]<=R[1])return f[w-1][1]=Math.max(d[1],R[1]),f.splice(w,1),f;f.splice(w,1),w--}else{if(d[1]<=R[0])return f.splice(w,0,d),f;if(d[1]<=R[1])return R[0]=Math.min(d[0],R[0]),f;d[0]<R[1]&&(R[0]=Math.min(d[0],R[0]),g=!0)}}return g?f[f.length-1][1]=d[1]:f.push(d),f}};l.CharacterJoinerService=a=h([m(0,D.IBufferService)],a)},5114:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0,l.CoreBrowserService=class{constructor(u,h){this._textarea=u,this.window=h,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(L,l,u){var h=this&&this.__decorate||function(D,C,a,o){var f,d=arguments.length,g=d<3?C:o===null?o=Object.getOwnPropertyDescriptor(C,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(D,C,a,o);else for(var w=D.length-1;w>=0;w--)(f=D[w])&&(g=(d<3?f(g):d>3?f(C,a,g):f(C,a))||g);return d>3&&g&&Object.defineProperty(C,a,g),g},m=this&&this.__param||function(D,C){return function(a,o){C(a,o,D)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const v=u(4725),S=u(9806);let x=l.MouseService=class{constructor(D,C){this._renderService=D,this._charSizeService=C}getCoords(D,C,a,o,f){return(0,S.getCoords)(window,D,C,a,o,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,f)}getMouseReportCoords(D,C){const a=(0,S.getCoordsRelativeToElement)(window,D,C);if(this._charSizeService.hasValidSize)return a[0]=Math.min(Math.max(a[0],0),this._renderService.dimensions.css.canvas.width-1),a[1]=Math.min(Math.max(a[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(a[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(a[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(a[0]),y:Math.floor(a[1])}}};l.MouseService=x=h([m(0,v.IRenderService),m(1,v.ICharSizeService)],x)},3230:function(L,l,u){var h=this&&this.__decorate||function(g,w,R,H){var b,B=arguments.length,I=B<3?w:H===null?H=Object.getOwnPropertyDescriptor(w,R):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(g,w,R,H);else for(var Y=g.length-1;Y>=0;Y--)(b=g[Y])&&(I=(B<3?b(I):B>3?b(w,R,I):b(w,R))||I);return B>3&&I&&Object.defineProperty(w,R,I),I},m=this&&this.__param||function(g,w){return function(R,H){w(R,H,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const v=u(3656),S=u(6193),x=u(5596),D=u(4725),C=u(8460),a=u(844),o=u(7226),f=u(2585);let d=l.RenderService=class extends a.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(g,w,R,H,b,B,I,Y){if(super(),this._rowCount=g,this._charSizeService=H,this._renderer=this.register(new a.MutableDisposable),this._pausedResizeTask=new o.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new C.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new C.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new C.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new C.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new S.RenderDebouncer(I.window,($,X)=>this._renderRows($,X)),this.register(this._renderDebouncer),this._screenDprMonitor=new x.ScreenDprMonitor(I.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(B.onResize(()=>this._fullRefresh())),this.register(B.buffers.onBufferActivate(()=>{var $;return($=this._renderer.value)===null||$===void 0?void 0:$.clear()})),this.register(R.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(b.onDecorationRegistered(()=>this._fullRefresh())),this.register(b.onDecorationRemoved(()=>this._fullRefresh())),this.register(R.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(B.cols,B.rows),this._fullRefresh()})),this.register(R.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(B.buffer.y,B.buffer.y,!0))),this.register((0,v.addDisposableDomListener)(I.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(Y.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in I.window){const $=new I.window.IntersectionObserver(X=>this._handleIntersectionChange(X[X.length-1]),{threshold:0});$.observe(w),this.register({dispose:()=>$.disconnect()})}}_handleIntersectionChange(g){this._isPaused=g.isIntersecting===void 0?g.intersectionRatio===0:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(g,w,R=!1){this._isPaused?this._needsFullRefresh=!0:(R||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,w,this._rowCount))}_renderRows(g,w){this._renderer.value&&(g=Math.min(g,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(g,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:g,end:w}),this._onRender.fire({start:g,end:w}),this._isNextRenderRedrawOnly=!0)}resize(g,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(g){this._renderer.value=g,this._renderer.value.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(g){return this._renderDebouncer.addRefreshCallback(g)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var g,w;this._renderer.value&&((w=(g=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(g),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(g,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(g,w)):this._renderer.value.handleResize(g,w),this._fullRefresh())}handleCharSizeChanged(){var g;(g=this._renderer.value)===null||g===void 0||g.handleCharSizeChanged()}handleBlur(){var g;(g=this._renderer.value)===null||g===void 0||g.handleBlur()}handleFocus(){var g;(g=this._renderer.value)===null||g===void 0||g.handleFocus()}handleSelectionChanged(g,w,R){var H;this._selectionState.start=g,this._selectionState.end=w,this._selectionState.columnSelectMode=R,(H=this._renderer.value)===null||H===void 0||H.handleSelectionChanged(g,w,R)}handleCursorMove(){var g;(g=this._renderer.value)===null||g===void 0||g.handleCursorMove()}clear(){var g;(g=this._renderer.value)===null||g===void 0||g.clear()}};l.RenderService=d=h([m(2,f.IOptionsService),m(3,D.ICharSizeService),m(4,f.IDecorationService),m(5,f.IBufferService),m(6,D.ICoreBrowserService),m(7,D.IThemeService)],d)},9312:function(L,l,u){var h=this&&this.__decorate||function(b,B,I,Y){var $,X=arguments.length,q=X<3?B:Y===null?Y=Object.getOwnPropertyDescriptor(B,I):Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(b,B,I,Y);else for(var G=b.length-1;G>=0;G--)($=b[G])&&(q=(X<3?$(q):X>3?$(B,I,q):$(B,I))||q);return X>3&&q&&Object.defineProperty(B,I,q),q},m=this&&this.__param||function(b,B){return function(I,Y){B(I,Y,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const v=u(9806),S=u(9504),x=u(456),D=u(4725),C=u(8460),a=u(844),o=u(6114),f=u(4841),d=u(511),g=u(2585),w="",R=new RegExp(w,"g");let H=l.SelectionService=class extends a.Disposable{constructor(b,B,I,Y,$,X,q,G,z){super(),this._element=b,this._screenElement=B,this._linkifier=I,this._bufferService=Y,this._coreService=$,this._mouseService=X,this._optionsService=q,this._renderService=G,this._coreBrowserService=z,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new d.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new C.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new C.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new C.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=P=>this._handleMouseMove(P),this._mouseUpListener=P=>this._handleMouseUp(P),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(P=>this._handleTrim(P)),this.register(this._bufferService.buffers.onBufferActivate(P=>this._handleBufferActivate(P))),this.enable(),this._model=new x.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,a.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const b=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;return!(!b||!B||b[0]===B[0]&&b[1]===B[1])}get selectionText(){const b=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;if(!b||!B)return"";const I=this._bufferService.buffer,Y=[];if(this._activeSelectionMode===3){if(b[0]===B[0])return"";const $=b[0]<B[0]?b[0]:B[0],X=b[0]<B[0]?B[0]:b[0];for(let q=b[1];q<=B[1];q++){const G=I.translateBufferLineToString(q,!0,$,X);Y.push(G)}}else{const $=b[1]===B[1]?B[0]:void 0;Y.push(I.translateBufferLineToString(b[1],!0,b[0],$));for(let X=b[1]+1;X<=B[1]-1;X++){const q=I.lines.get(X),G=I.translateBufferLineToString(X,!0);q!=null&&q.isWrapped?Y[Y.length-1]+=G:Y.push(G)}if(b[1]!==B[1]){const X=I.lines.get(B[1]),q=I.translateBufferLineToString(B[1],!0,0,B[0]);X&&X.isWrapped?Y[Y.length-1]+=q:Y.push(q)}}return Y.map($=>$.replace(R," ")).join(o.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(b){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),o.isLinux&&b&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(b){const B=this._getMouseBufferCoords(b),I=this._model.finalSelectionStart,Y=this._model.finalSelectionEnd;return!!(I&&Y&&B)&&this._areCoordsInSelection(B,I,Y)}isCellInSelection(b,B){const I=this._model.finalSelectionStart,Y=this._model.finalSelectionEnd;return!(!I||!Y)&&this._areCoordsInSelection([b,B],I,Y)}_areCoordsInSelection(b,B,I){return b[1]>B[1]&&b[1]<I[1]||B[1]===I[1]&&b[1]===B[1]&&b[0]>=B[0]&&b[0]<I[0]||B[1]<I[1]&&b[1]===I[1]&&b[0]<I[0]||B[1]<I[1]&&b[1]===B[1]&&b[0]>=B[0]}_selectWordAtCursor(b,B){var I,Y;const $=(Y=(I=this._linkifier.currentLink)===null||I===void 0?void 0:I.link)===null||Y===void 0?void 0:Y.range;if($)return this._model.selectionStart=[$.start.x-1,$.start.y-1],this._model.selectionStartLength=(0,f.getRangeLength)($,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const X=this._getMouseBufferCoords(b);return!!X&&(this._selectWordAt(X,B),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(b,B){this._model.clearSelection(),b=Math.max(b,0),B=Math.min(B,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,b],this._model.selectionEnd=[this._bufferService.cols,B],this.refresh(),this._onSelectionChange.fire()}_handleTrim(b){this._model.handleTrim(b)&&this.refresh()}_getMouseBufferCoords(b){const B=this._mouseService.getCoords(b,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(B)return B[0]--,B[1]--,B[1]+=this._bufferService.buffer.ydisp,B}_getMouseEventScrollAmount(b){let B=(0,v.getCoordsRelativeToElement)(this._coreBrowserService.window,b,this._screenElement)[1];const I=this._renderService.dimensions.css.canvas.height;return B>=0&&B<=I?0:(B>I&&(B-=I),B=Math.min(Math.max(B,-50),50),B/=50,B/Math.abs(B)+Math.round(14*B))}shouldForceSelection(b){return o.isMac?b.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:b.shiftKey}handleMouseDown(b){if(this._mouseDownTimeStamp=b.timeStamp,(b.button!==2||!this.hasSelection)&&b.button===0){if(!this._enabled){if(!this.shouldForceSelection(b))return;b.stopPropagation()}b.preventDefault(),this._dragScrollAmount=0,this._enabled&&b.shiftKey?this._handleIncrementalClick(b):b.detail===1?this._handleSingleClick(b):b.detail===2?this._handleDoubleClick(b):b.detail===3&&this._handleTripleClick(b),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(b){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(b))}_handleSingleClick(b){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(b)?3:0,this._model.selectionStart=this._getMouseBufferCoords(b),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const B=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);B&&B.length!==this._model.selectionStart[0]&&B.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(b){this._selectWordAtCursor(b,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(b){const B=this._getMouseBufferCoords(b);B&&(this._activeSelectionMode=2,this._selectLineAt(B[1]))}shouldColumnSelect(b){return b.altKey&&!(o.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(b){if(b.stopImmediatePropagation(),!this._model.selectionStart)return;const B=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(b),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(b),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const I=this._bufferService.buffer;if(this._model.selectionEnd[1]<I.lines.length){const Y=I.lines.get(this._model.selectionEnd[1]);Y&&Y.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}B&&B[0]===this._model.selectionEnd[0]&&B[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const b=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(b.ydisp+this._bufferService.rows,b.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=b.ydisp),this.refresh()}}_handleMouseUp(b){const B=b.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&B<500&&b.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const I=this._mouseService.getCoords(b,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(I&&I[0]!==void 0&&I[1]!==void 0){const Y=(0,S.moveToCellSequence)(I[0]-1,I[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(Y,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const b=this._model.finalSelectionStart,B=this._model.finalSelectionEnd,I=!(!b||!B||b[0]===B[0]&&b[1]===B[1]);I?b&&B&&(this._oldSelectionStart&&this._oldSelectionEnd&&b[0]===this._oldSelectionStart[0]&&b[1]===this._oldSelectionStart[1]&&B[0]===this._oldSelectionEnd[0]&&B[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(b,B,I)):this._oldHasSelection&&this._fireOnSelectionChange(b,B,I)}_fireOnSelectionChange(b,B,I){this._oldSelectionStart=b,this._oldSelectionEnd=B,this._oldHasSelection=I,this._onSelectionChange.fire()}_handleBufferActivate(b){this.clearSelection(),this._trimListener.dispose(),this._trimListener=b.activeBuffer.lines.onTrim(B=>this._handleTrim(B))}_convertViewportColToCharacterIndex(b,B){let I=B;for(let Y=0;B>=Y;Y++){const $=b.loadCell(Y,this._workCell).getChars().length;this._workCell.getWidth()===0?I--:$>1&&B!==Y&&(I+=$-1)}return I}setSelection(b,B,I){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[b,B],this._model.selectionStartLength=I,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(b){this._isClickInSelection(b)||(this._selectWordAtCursor(b,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(b,B,I=!0,Y=!0){if(b[0]>=this._bufferService.cols)return;const $=this._bufferService.buffer,X=$.lines.get(b[1]);if(!X)return;const q=$.translateBufferLineToString(b[1],!1);let G=this._convertViewportColToCharacterIndex(X,b[0]),z=G;const P=b[0]-G;let M=0,N=0,E=0,T=0;if(q.charAt(G)===" "){for(;G>0&&q.charAt(G-1)===" ";)G--;for(;z<q.length&&q.charAt(z+1)===" ";)z++}else{let Z=b[0],ae=b[0];X.getWidth(Z)===0&&(M++,Z--),X.getWidth(ae)===2&&(N++,ae++);const he=X.getString(ae).length;for(he>1&&(T+=he-1,z+=he-1);Z>0&&G>0&&!this._isCharWordSeparator(X.loadCell(Z-1,this._workCell));){X.loadCell(Z-1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===0?(M++,Z--):U>1&&(E+=U-1,G-=U-1),G--,Z--}for(;ae<X.length&&z+1<q.length&&!this._isCharWordSeparator(X.loadCell(ae+1,this._workCell));){X.loadCell(ae+1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===2?(N++,ae++):U>1&&(T+=U-1,z+=U-1),z++,ae++}}z++;let F=G+P-M+E,W=Math.min(this._bufferService.cols,z-G+M+N-E-T);if(B||q.slice(G,z).trim()!==""){if(I&&F===0&&X.getCodePoint(0)!==32){const Z=$.lines.get(b[1]-1);if(Z&&X.isWrapped&&Z.getCodePoint(this._bufferService.cols-1)!==32){const ae=this._getWordAt([this._bufferService.cols-1,b[1]-1],!1,!0,!1);if(ae){const he=this._bufferService.cols-ae.start;F-=he,W+=he}}}if(Y&&F+W===this._bufferService.cols&&X.getCodePoint(this._bufferService.cols-1)!==32){const Z=$.lines.get(b[1]+1);if(Z!=null&&Z.isWrapped&&Z.getCodePoint(0)!==32){const ae=this._getWordAt([0,b[1]+1],!1,!1,!0);ae&&(W+=ae.length)}}return{start:F,length:W}}}_selectWordAt(b,B){const I=this._getWordAt(b,B);if(I){for(;I.start<0;)I.start+=this._bufferService.cols,b[1]--;this._model.selectionStart=[I.start,b[1]],this._model.selectionStartLength=I.length}}_selectToWordAt(b){const B=this._getWordAt(b,!0);if(B){let I=b[1];for(;B.start<0;)B.start+=this._bufferService.cols,I--;if(!this._model.areSelectionValuesReversed())for(;B.start+B.length>this._bufferService.cols;)B.length-=this._bufferService.cols,I++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?B.start:B.start+B.length,I]}}_isCharWordSeparator(b){return b.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(b.getChars())>=0}_selectLineAt(b){const B=this._bufferService.buffer.getWrappedRangeForLine(b),I={start:{x:0,y:B.first},end:{x:this._bufferService.cols-1,y:B.last}};this._model.selectionStart=[0,B.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,f.getRangeLength)(I,this._bufferService.cols)}};l.SelectionService=H=h([m(3,g.IBufferService),m(4,g.ICoreService),m(5,D.IMouseService),m(6,g.IOptionsService),m(7,D.IRenderService),m(8,D.ICoreBrowserService)],H)},4725:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const h=u(8343);l.ICharSizeService=(0,h.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),l.IMouseService=(0,h.createDecorator)("MouseService"),l.IRenderService=(0,h.createDecorator)("RenderService"),l.ISelectionService=(0,h.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,h.createDecorator)("ThemeService")},6731:function(L,l,u){var h=this&&this.__decorate||function(H,b,B,I){var Y,$=arguments.length,X=$<3?b:I===null?I=Object.getOwnPropertyDescriptor(b,B):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(H,b,B,I);else for(var q=H.length-1;q>=0;q--)(Y=H[q])&&(X=($<3?Y(X):$>3?Y(b,B,X):Y(b,B))||X);return $>3&&X&&Object.defineProperty(b,B,X),X},m=this&&this.__param||function(H,b){return function(B,I){b(B,I,H)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const v=u(7239),S=u(8055),x=u(8460),D=u(844),C=u(2585),a=S.css.toColor("#ffffff"),o=S.css.toColor("#000000"),f=S.css.toColor("#ffffff"),d=S.css.toColor("#000000"),g={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const H=[S.css.toColor("#2e3436"),S.css.toColor("#cc0000"),S.css.toColor("#4e9a06"),S.css.toColor("#c4a000"),S.css.toColor("#3465a4"),S.css.toColor("#75507b"),S.css.toColor("#06989a"),S.css.toColor("#d3d7cf"),S.css.toColor("#555753"),S.css.toColor("#ef2929"),S.css.toColor("#8ae234"),S.css.toColor("#fce94f"),S.css.toColor("#729fcf"),S.css.toColor("#ad7fa8"),S.css.toColor("#34e2e2"),S.css.toColor("#eeeeec")],b=[0,95,135,175,215,255];for(let B=0;B<216;B++){const I=b[B/36%6|0],Y=b[B/6%6|0],$=b[B%6];H.push({css:S.channels.toCss(I,Y,$),rgba:S.channels.toRgba(I,Y,$)})}for(let B=0;B<24;B++){const I=8+10*B;H.push({css:S.channels.toCss(I,I,I),rgba:S.channels.toRgba(I,I,I)})}return H})());let w=l.ThemeService=class extends D.Disposable{get colors(){return this._colors}constructor(H){super(),this._optionsService=H,this._contrastCache=new v.ColorContrastCache,this._halfContrastCache=new v.ColorContrastCache,this._onChangeColors=this.register(new x.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:a,background:o,cursor:f,cursorAccent:d,selectionForeground:void 0,selectionBackgroundTransparent:g,selectionBackgroundOpaque:S.color.blend(o,g),selectionInactiveBackgroundTransparent:g,selectionInactiveBackgroundOpaque:S.color.blend(o,g),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(H={}){const b=this._colors;if(b.foreground=R(H.foreground,a),b.background=R(H.background,o),b.cursor=R(H.cursor,f),b.cursorAccent=R(H.cursorAccent,d),b.selectionBackgroundTransparent=R(H.selectionBackground,g),b.selectionBackgroundOpaque=S.color.blend(b.background,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundTransparent=R(H.selectionInactiveBackground,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundOpaque=S.color.blend(b.background,b.selectionInactiveBackgroundTransparent),b.selectionForeground=H.selectionForeground?R(H.selectionForeground,S.NULL_COLOR):void 0,b.selectionForeground===S.NULL_COLOR&&(b.selectionForeground=void 0),S.color.isOpaque(b.selectionBackgroundTransparent)&&(b.selectionBackgroundTransparent=S.color.opacity(b.selectionBackgroundTransparent,.3)),S.color.isOpaque(b.selectionInactiveBackgroundTransparent)&&(b.selectionInactiveBackgroundTransparent=S.color.opacity(b.selectionInactiveBackgroundTransparent,.3)),b.ansi=l.DEFAULT_ANSI_COLORS.slice(),b.ansi[0]=R(H.black,l.DEFAULT_ANSI_COLORS[0]),b.ansi[1]=R(H.red,l.DEFAULT_ANSI_COLORS[1]),b.ansi[2]=R(H.green,l.DEFAULT_ANSI_COLORS[2]),b.ansi[3]=R(H.yellow,l.DEFAULT_ANSI_COLORS[3]),b.ansi[4]=R(H.blue,l.DEFAULT_ANSI_COLORS[4]),b.ansi[5]=R(H.magenta,l.DEFAULT_ANSI_COLORS[5]),b.ansi[6]=R(H.cyan,l.DEFAULT_ANSI_COLORS[6]),b.ansi[7]=R(H.white,l.DEFAULT_ANSI_COLORS[7]),b.ansi[8]=R(H.brightBlack,l.DEFAULT_ANSI_COLORS[8]),b.ansi[9]=R(H.brightRed,l.DEFAULT_ANSI_COLORS[9]),b.ansi[10]=R(H.brightGreen,l.DEFAULT_ANSI_COLORS[10]),b.ansi[11]=R(H.brightYellow,l.DEFAULT_ANSI_COLORS[11]),b.ansi[12]=R(H.brightBlue,l.DEFAULT_ANSI_COLORS[12]),b.ansi[13]=R(H.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),b.ansi[14]=R(H.brightCyan,l.DEFAULT_ANSI_COLORS[14]),b.ansi[15]=R(H.brightWhite,l.DEFAULT_ANSI_COLORS[15]),H.extendedAnsi){const B=Math.min(b.ansi.length-16,H.extendedAnsi.length);for(let I=0;I<B;I++)b.ansi[I+16]=R(H.extendedAnsi[I],l.DEFAULT_ANSI_COLORS[I+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(H){this._restoreColor(H),this._onChangeColors.fire(this.colors)}_restoreColor(H){if(H!==void 0)switch(H){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[H]=this._restoreColors.ansi[H]}else for(let b=0;b<this._restoreColors.ansi.length;++b)this._colors.ansi[b]=this._restoreColors.ansi[b]}modifyColors(H){H(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function R(H,b){if(H!==void 0)try{return S.css.toColor(H)}catch{}return b}l.ThemeService=w=h([m(0,C.IOptionsService)],w)},6349:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const h=u(8460),m=u(844);class v extends m.Disposable{constructor(x){super(),this._maxLength=x,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(x){if(this._maxLength===x)return;const D=new Array(x);for(let C=0;C<Math.min(x,this.length);C++)D[C]=this._array[this._getCyclicIndex(C)];this._array=D,this._maxLength=x,this._startIndex=0}get length(){return this._length}set length(x){if(x>this._length)for(let D=this._length;D<x;D++)this._array[D]=void 0;this._length=x}get(x){return this._array[this._getCyclicIndex(x)]}set(x,D){this._array[this._getCyclicIndex(x)]=D}push(x){this._array[this._getCyclicIndex(this._length)]=x,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(x,D,...C){if(D){for(let a=x;a<this._length-D;a++)this._array[this._getCyclicIndex(a)]=this._array[this._getCyclicIndex(a+D)];this._length-=D,this.onDeleteEmitter.fire({index:x,amount:D})}for(let a=this._length-1;a>=x;a--)this._array[this._getCyclicIndex(a+C.length)]=this._array[this._getCyclicIndex(a)];for(let a=0;a<C.length;a++)this._array[this._getCyclicIndex(x+a)]=C[a];if(C.length&&this.onInsertEmitter.fire({index:x,amount:C.length}),this._length+C.length>this._maxLength){const a=this._length+C.length-this._maxLength;this._startIndex+=a,this._length=this._maxLength,this.onTrimEmitter.fire(a)}else this._length+=C.length}trimStart(x){x>this._length&&(x=this._length),this._startIndex+=x,this._length-=x,this.onTrimEmitter.fire(x)}shiftElements(x,D,C){if(!(D<=0)){if(x<0||x>=this._length)throw new Error("start argument out of range");if(x+C<0)throw new Error("Cannot shift elements in list beyond index 0");if(C>0){for(let o=D-1;o>=0;o--)this.set(x+o+C,this.get(x+o));const a=x+D+C-this._length;if(a>0)for(this._length+=a;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let a=0;a<D;a++)this.set(x+a+C,this.get(x+a))}}_getCyclicIndex(x){return(this._startIndex+x)%this._maxLength}}l.CircularList=v},1439:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function u(h,m=5){if(typeof h!="object")return h;const v=Array.isArray(h)?[]:{};for(const S in h)v[S]=m<=1?h[S]:h[S]&&u(h[S],m-1);return v}},8055:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;const h=u(6114);let m=0,v=0,S=0,x=0;var D,C,a,o,f;function d(w){const R=w.toString(16);return R.length<2?"0"+R:R}function g(w,R){return w<R?(R+.05)/(w+.05):(w+.05)/(R+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(R,H,b,B){return B!==void 0?`#${d(R)}${d(H)}${d(b)}${d(B)}`:`#${d(R)}${d(H)}${d(b)}`},w.toRgba=function(R,H,b,B=255){return(R<<24|H<<16|b<<8|B)>>>0}}(D||(l.channels=D={})),function(w){function R(H,b){return x=Math.round(255*b),[m,v,S]=f.toChannels(H.rgba),{css:D.toCss(m,v,S,x),rgba:D.toRgba(m,v,S,x)}}w.blend=function(H,b){if(x=(255&b.rgba)/255,x===1)return{css:b.css,rgba:b.rgba};const B=b.rgba>>24&255,I=b.rgba>>16&255,Y=b.rgba>>8&255,$=H.rgba>>24&255,X=H.rgba>>16&255,q=H.rgba>>8&255;return m=$+Math.round((B-$)*x),v=X+Math.round((I-X)*x),S=q+Math.round((Y-q)*x),{css:D.toCss(m,v,S),rgba:D.toRgba(m,v,S)}},w.isOpaque=function(H){return(255&H.rgba)==255},w.ensureContrastRatio=function(H,b,B){const I=f.ensureContrastRatio(H.rgba,b.rgba,B);if(I)return f.toColor(I>>24&255,I>>16&255,I>>8&255)},w.opaque=function(H){const b=(255|H.rgba)>>>0;return[m,v,S]=f.toChannels(b),{css:D.toCss(m,v,S),rgba:b}},w.opacity=R,w.multiplyOpacity=function(H,b){return x=255&H.rgba,R(H,x*b/255)},w.toColorRGB=function(H){return[H.rgba>>24&255,H.rgba>>16&255,H.rgba>>8&255]}}(C||(l.color=C={})),function(w){let R,H;if(!h.isNode){const b=document.createElement("canvas");b.width=1,b.height=1;const B=b.getContext("2d",{willReadFrequently:!0});B&&(R=B,R.globalCompositeOperation="copy",H=R.createLinearGradient(0,0,1,1))}w.toColor=function(b){if(b.match(/#[\da-f]{3,8}/i))switch(b.length){case 4:return m=parseInt(b.slice(1,2).repeat(2),16),v=parseInt(b.slice(2,3).repeat(2),16),S=parseInt(b.slice(3,4).repeat(2),16),f.toColor(m,v,S);case 5:return m=parseInt(b.slice(1,2).repeat(2),16),v=parseInt(b.slice(2,3).repeat(2),16),S=parseInt(b.slice(3,4).repeat(2),16),x=parseInt(b.slice(4,5).repeat(2),16),f.toColor(m,v,S,x);case 7:return{css:b,rgba:(parseInt(b.slice(1),16)<<8|255)>>>0};case 9:return{css:b,rgba:parseInt(b.slice(1),16)>>>0}}const B=b.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(B)return m=parseInt(B[1]),v=parseInt(B[2]),S=parseInt(B[3]),x=Math.round(255*(B[5]===void 0?1:parseFloat(B[5]))),f.toColor(m,v,S,x);if(!R||!H)throw new Error("css.toColor: Unsupported css format");if(R.fillStyle=H,R.fillStyle=b,typeof R.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(R.fillRect(0,0,1,1),[m,v,S,x]=R.getImageData(0,0,1,1).data,x!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:D.toRgba(m,v,S,x),css:b}}}(a||(l.css=a={})),function(w){function R(H,b,B){const I=H/255,Y=b/255,$=B/255;return .2126*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))+.7152*(Y<=.03928?Y/12.92:Math.pow((Y+.055)/1.055,2.4))+.0722*($<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4))}w.relativeLuminance=function(H){return R(H>>16&255,H>>8&255,255&H)},w.relativeLuminance2=R}(o||(l.rgb=o={})),function(w){function R(b,B,I){const Y=b>>24&255,$=b>>16&255,X=b>>8&255;let q=B>>24&255,G=B>>16&255,z=B>>8&255,P=g(o.relativeLuminance2(q,G,z),o.relativeLuminance2(Y,$,X));for(;P<I&&(q>0||G>0||z>0);)q-=Math.max(0,Math.ceil(.1*q)),G-=Math.max(0,Math.ceil(.1*G)),z-=Math.max(0,Math.ceil(.1*z)),P=g(o.relativeLuminance2(q,G,z),o.relativeLuminance2(Y,$,X));return(q<<24|G<<16|z<<8|255)>>>0}function H(b,B,I){const Y=b>>24&255,$=b>>16&255,X=b>>8&255;let q=B>>24&255,G=B>>16&255,z=B>>8&255,P=g(o.relativeLuminance2(q,G,z),o.relativeLuminance2(Y,$,X));for(;P<I&&(q<255||G<255||z<255);)q=Math.min(255,q+Math.ceil(.1*(255-q))),G=Math.min(255,G+Math.ceil(.1*(255-G))),z=Math.min(255,z+Math.ceil(.1*(255-z))),P=g(o.relativeLuminance2(q,G,z),o.relativeLuminance2(Y,$,X));return(q<<24|G<<16|z<<8|255)>>>0}w.ensureContrastRatio=function(b,B,I){const Y=o.relativeLuminance(b>>8),$=o.relativeLuminance(B>>8);if(g(Y,$)<I){if($<Y){const G=R(b,B,I),z=g(Y,o.relativeLuminance(G>>8));if(z<I){const P=H(b,B,I);return z>g(Y,o.relativeLuminance(P>>8))?G:P}return G}const X=H(b,B,I),q=g(Y,o.relativeLuminance(X>>8));if(q<I){const G=R(b,B,I);return q>g(Y,o.relativeLuminance(G>>8))?X:G}return X}},w.reduceLuminance=R,w.increaseLuminance=H,w.toChannels=function(b){return[b>>24&255,b>>16&255,b>>8&255,255&b]},w.toColor=function(b,B,I,Y){return{css:D.toCss(b,B,I,Y),rgba:D.toRgba(b,B,I,Y)}}}(f||(l.rgba=f={})),l.toPaddedHex=d,l.contrastRatio=g},8969:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const h=u(844),m=u(2585),v=u(4348),S=u(7866),x=u(744),D=u(7302),C=u(6975),a=u(8460),o=u(1753),f=u(1480),d=u(7994),g=u(9282),w=u(5435),R=u(5981),H=u(2660);let b=!1;class B extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new a.EventEmitter),this._onScroll.event(Y=>{var $;($=this._onScrollApi)===null||$===void 0||$.fire(Y.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(Y){for(const $ in Y)this.optionsService.options[$]=Y[$]}constructor(Y){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new a.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new a.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new a.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new a.EventEmitter),this._instantiationService=new v.InstantiationService,this.optionsService=this.register(new D.OptionsService(Y)),this._instantiationService.setService(m.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(x.BufferService)),this._instantiationService.setService(m.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(S.LogService)),this._instantiationService.setService(m.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(C.CoreService)),this._instantiationService.setService(m.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(o.CoreMouseService)),this._instantiationService.setService(m.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(f.UnicodeService)),this._instantiationService.setService(m.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(d.CharsetService),this._instantiationService.setService(m.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(H.OscLinkService),this._instantiationService.setService(m.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,a.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,a.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,a.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,a.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new R.WriteBuffer(($,X)=>this._inputHandler.parse($,X))),this.register((0,a.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(Y,$){this._writeBuffer.write(Y,$)}writeSync(Y,$){this._logService.logLevel<=m.LogLevelEnum.WARN&&!b&&(this._logService.warn("writeSync is unreliable and will be removed soon."),b=!0),this._writeBuffer.writeSync(Y,$)}resize(Y,$){isNaN(Y)||isNaN($)||(Y=Math.max(Y,x.MINIMUM_COLS),$=Math.max($,x.MINIMUM_ROWS),this._bufferService.resize(Y,$))}scroll(Y,$=!1){this._bufferService.scroll(Y,$)}scrollLines(Y,$,X){this._bufferService.scrollLines(Y,$,X)}scrollPages(Y){this.scrollLines(Y*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(Y){const $=Y-this._bufferService.buffer.ydisp;$!==0&&this.scrollLines($)}registerEscHandler(Y,$){return this._inputHandler.registerEscHandler(Y,$)}registerDcsHandler(Y,$){return this._inputHandler.registerDcsHandler(Y,$)}registerCsiHandler(Y,$){return this._inputHandler.registerCsiHandler(Y,$)}registerOscHandler(Y,$){return this._inputHandler.registerOscHandler(Y,$)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let Y=!1;const $=this.optionsService.rawOptions.windowsPty;$&&$.buildNumber!==void 0&&$.buildNumber!==void 0?Y=$.backend==="conpty"&&$.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(Y=!0),Y?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const Y=[];Y.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),Y.push(this.registerCsiHandler({final:"H"},()=>((0,g.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)(()=>{for(const $ of Y)$.dispose()})}}}l.CoreTerminal=B},8460:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=u=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===u)return void this._listeners.splice(h,1)}}})),this._event}fire(u,h){const m=[];for(let v=0;v<this._listeners.length;v++)m.push(this._listeners[v]);for(let v=0;v<m.length;v++)m[v].call(void 0,u,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(u,h){return u(m=>h.fire(m))}},5435:function(L,l,u){var h=this&&this.__decorate||function(P,M,N,E){var T,F=arguments.length,W=F<3?M:E===null?E=Object.getOwnPropertyDescriptor(M,N):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(P,M,N,E);else for(var Z=P.length-1;Z>=0;Z--)(T=P[Z])&&(W=(F<3?T(W):F>3?T(M,N,W):T(M,N))||W);return F>3&&W&&Object.defineProperty(M,N,W),W},m=this&&this.__param||function(P,M){return function(N,E){M(N,E,P)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const v=u(2584),S=u(7116),x=u(2015),D=u(844),C=u(482),a=u(8437),o=u(8460),f=u(643),d=u(511),g=u(3734),w=u(2585),R=u(6242),H=u(6351),b=u(5941),B={"(":0,")":1,"*":2,"+":3,"-":1,".":2},I=131072;function Y(P,M){if(P>24)return M.setWinLines||!1;switch(P){case 1:return!!M.restoreWin;case 2:return!!M.minimizeWin;case 3:return!!M.setWinPosition;case 4:return!!M.setWinSizePixels;case 5:return!!M.raiseWin;case 6:return!!M.lowerWin;case 7:return!!M.refreshWin;case 8:return!!M.setWinSizeChars;case 9:return!!M.maximizeWin;case 10:return!!M.fullscreenWin;case 11:return!!M.getWinState;case 13:return!!M.getWinPosition;case 14:return!!M.getWinSizePixels;case 15:return!!M.getScreenSizePixels;case 16:return!!M.getCellSizePixels;case 18:return!!M.getWinSizeChars;case 19:return!!M.getScreenSizeChars;case 20:return!!M.getIconTitle;case 21:return!!M.getWinTitle;case 22:return!!M.pushTitle;case 23:return!!M.popTitle;case 24:return!!M.setWinLines}return!1}var $;(function(P){P[P.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",P[P.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})($||(l.WindowsOptionsReportType=$={}));let X=0;class q extends D.Disposable{getAttrData(){return this._curAttrData}constructor(M,N,E,T,F,W,Z,ae,he=new x.EscapeSequenceParser){super(),this._bufferService=M,this._charsetService=N,this._coreService=E,this._logService=T,this._optionsService=F,this._oscLinkService=W,this._coreMouseService=Z,this._unicodeService=ae,this._parser=he,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new C.StringToUtf32,this._utf8Decoder=new C.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new o.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new o.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new o.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new o.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new o.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new o.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new o.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new o.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new o.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new o.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new o.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new o.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new G(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(U=>this._activeBuffer=U.activeBuffer)),this._parser.setCsiHandlerFallback((U,V)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(U),params:V.toArray()})}),this._parser.setEscHandlerFallback(U=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(U)})}),this._parser.setExecuteHandlerFallback(U=>{this._logService.debug("Unknown EXECUTE code: ",{code:U})}),this._parser.setOscHandlerFallback((U,V,ne)=>{this._logService.debug("Unknown OSC code: ",{identifier:U,action:V,data:ne})}),this._parser.setDcsHandlerFallback((U,V,ne)=>{V==="HOOK"&&(ne=ne.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(U),action:V,payload:ne})}),this._parser.setPrintHandler((U,V,ne)=>this.print(U,V,ne)),this._parser.registerCsiHandler({final:"@"},U=>this.insertChars(U)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},U=>this.scrollLeft(U)),this._parser.registerCsiHandler({final:"A"},U=>this.cursorUp(U)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},U=>this.scrollRight(U)),this._parser.registerCsiHandler({final:"B"},U=>this.cursorDown(U)),this._parser.registerCsiHandler({final:"C"},U=>this.cursorForward(U)),this._parser.registerCsiHandler({final:"D"},U=>this.cursorBackward(U)),this._parser.registerCsiHandler({final:"E"},U=>this.cursorNextLine(U)),this._parser.registerCsiHandler({final:"F"},U=>this.cursorPrecedingLine(U)),this._parser.registerCsiHandler({final:"G"},U=>this.cursorCharAbsolute(U)),this._parser.registerCsiHandler({final:"H"},U=>this.cursorPosition(U)),this._parser.registerCsiHandler({final:"I"},U=>this.cursorForwardTab(U)),this._parser.registerCsiHandler({final:"J"},U=>this.eraseInDisplay(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},U=>this.eraseInDisplay(U,!0)),this._parser.registerCsiHandler({final:"K"},U=>this.eraseInLine(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},U=>this.eraseInLine(U,!0)),this._parser.registerCsiHandler({final:"L"},U=>this.insertLines(U)),this._parser.registerCsiHandler({final:"M"},U=>this.deleteLines(U)),this._parser.registerCsiHandler({final:"P"},U=>this.deleteChars(U)),this._parser.registerCsiHandler({final:"S"},U=>this.scrollUp(U)),this._parser.registerCsiHandler({final:"T"},U=>this.scrollDown(U)),this._parser.registerCsiHandler({final:"X"},U=>this.eraseChars(U)),this._parser.registerCsiHandler({final:"Z"},U=>this.cursorBackwardTab(U)),this._parser.registerCsiHandler({final:"`"},U=>this.charPosAbsolute(U)),this._parser.registerCsiHandler({final:"a"},U=>this.hPositionRelative(U)),this._parser.registerCsiHandler({final:"b"},U=>this.repeatPrecedingCharacter(U)),this._parser.registerCsiHandler({final:"c"},U=>this.sendDeviceAttributesPrimary(U)),this._parser.registerCsiHandler({prefix:">",final:"c"},U=>this.sendDeviceAttributesSecondary(U)),this._parser.registerCsiHandler({final:"d"},U=>this.linePosAbsolute(U)),this._parser.registerCsiHandler({final:"e"},U=>this.vPositionRelative(U)),this._parser.registerCsiHandler({final:"f"},U=>this.hVPosition(U)),this._parser.registerCsiHandler({final:"g"},U=>this.tabClear(U)),this._parser.registerCsiHandler({final:"h"},U=>this.setMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"h"},U=>this.setModePrivate(U)),this._parser.registerCsiHandler({final:"l"},U=>this.resetMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"l"},U=>this.resetModePrivate(U)),this._parser.registerCsiHandler({final:"m"},U=>this.charAttributes(U)),this._parser.registerCsiHandler({final:"n"},U=>this.deviceStatus(U)),this._parser.registerCsiHandler({prefix:"?",final:"n"},U=>this.deviceStatusPrivate(U)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},U=>this.softReset(U)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},U=>this.setCursorStyle(U)),this._parser.registerCsiHandler({final:"r"},U=>this.setScrollRegion(U)),this._parser.registerCsiHandler({final:"s"},U=>this.saveCursor(U)),this._parser.registerCsiHandler({final:"t"},U=>this.windowOptions(U)),this._parser.registerCsiHandler({final:"u"},U=>this.restoreCursor(U)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},U=>this.insertColumns(U)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},U=>this.deleteColumns(U)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},U=>this.selectProtected(U)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},U=>this.requestMode(U,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},U=>this.requestMode(U,!1)),this._parser.setExecuteHandler(v.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(v.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(v.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(v.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(v.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(v.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(v.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(v.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(v.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(v.C1.IND,()=>this.index()),this._parser.setExecuteHandler(v.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(v.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new R.OscHandler(U=>(this.setTitle(U),this.setIconName(U),!0))),this._parser.registerOscHandler(1,new R.OscHandler(U=>this.setIconName(U))),this._parser.registerOscHandler(2,new R.OscHandler(U=>this.setTitle(U))),this._parser.registerOscHandler(4,new R.OscHandler(U=>this.setOrReportIndexedColor(U))),this._parser.registerOscHandler(8,new R.OscHandler(U=>this.setHyperlink(U))),this._parser.registerOscHandler(10,new R.OscHandler(U=>this.setOrReportFgColor(U))),this._parser.registerOscHandler(11,new R.OscHandler(U=>this.setOrReportBgColor(U))),this._parser.registerOscHandler(12,new R.OscHandler(U=>this.setOrReportCursorColor(U))),this._parser.registerOscHandler(104,new R.OscHandler(U=>this.restoreIndexedColor(U))),this._parser.registerOscHandler(110,new R.OscHandler(U=>this.restoreFgColor(U))),this._parser.registerOscHandler(111,new R.OscHandler(U=>this.restoreBgColor(U))),this._parser.registerOscHandler(112,new R.OscHandler(U=>this.restoreCursorColor(U))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const U in S.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:U},()=>this.selectCharset("("+U)),this._parser.registerEscHandler({intermediates:")",final:U},()=>this.selectCharset(")"+U)),this._parser.registerEscHandler({intermediates:"*",final:U},()=>this.selectCharset("*"+U)),this._parser.registerEscHandler({intermediates:"+",final:U},()=>this.selectCharset("+"+U)),this._parser.registerEscHandler({intermediates:"-",final:U},()=>this.selectCharset("-"+U)),this._parser.registerEscHandler({intermediates:".",final:U},()=>this.selectCharset("."+U)),this._parser.registerEscHandler({intermediates:"/",final:U},()=>this.selectCharset("/"+U));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(U=>(this._logService.error("Parsing error: ",U),U)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new H.DcsHandler((U,V)=>this.requestStatusString(U,V)))}_preserveStack(M,N,E,T){this._parseStack.paused=!0,this._parseStack.cursorStartX=M,this._parseStack.cursorStartY=N,this._parseStack.decodedLength=E,this._parseStack.position=T}_logSlowResolvingAsync(M){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([M,new Promise((N,E)=>setTimeout(()=>E("#SLOW_TIMEOUT"),5e3))]).catch(N=>{if(N!=="#SLOW_TIMEOUT")throw N;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(M,N){let E,T=this._activeBuffer.x,F=this._activeBuffer.y,W=0;const Z=this._parseStack.paused;if(Z){if(E=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,N))return this._logSlowResolvingAsync(E),E;T=this._parseStack.cursorStartX,F=this._parseStack.cursorStartY,this._parseStack.paused=!1,M.length>I&&(W=this._parseStack.position+I)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof M=="string"?` "${M}"`:` "${Array.prototype.map.call(M,ae=>String.fromCharCode(ae)).join("")}"`),typeof M=="string"?M.split("").map(ae=>ae.charCodeAt(0)):M),this._parseBuffer.length<M.length&&this._parseBuffer.length<I&&(this._parseBuffer=new Uint32Array(Math.min(M.length,I))),Z||this._dirtyRowTracker.clearRange(),M.length>I)for(let ae=W;ae<M.length;ae+=I){const he=ae+I<M.length?ae+I:M.length,U=typeof M=="string"?this._stringDecoder.decode(M.substring(ae,he),this._parseBuffer):this._utf8Decoder.decode(M.subarray(ae,he),this._parseBuffer);if(E=this._parser.parse(this._parseBuffer,U))return this._preserveStack(T,F,U,ae),this._logSlowResolvingAsync(E),E}else if(!Z){const ae=typeof M=="string"?this._stringDecoder.decode(M,this._parseBuffer):this._utf8Decoder.decode(M,this._parseBuffer);if(E=this._parser.parse(this._parseBuffer,ae))return this._preserveStack(T,F,ae,0),this._logSlowResolvingAsync(E),E}this._activeBuffer.x===T&&this._activeBuffer.y===F||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(M,N,E){let T,F;const W=this._charsetService.charset,Z=this._optionsService.rawOptions.screenReaderMode,ae=this._bufferService.cols,he=this._coreService.decPrivateModes.wraparound,U=this._coreService.modes.insertMode,V=this._curAttrData;let ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&E-N>0&&ne.getWidth(this._activeBuffer.x-1)===2&&ne.setCellFromCodePoint(this._activeBuffer.x-1,0,1,V.fg,V.bg,V.extended);for(let oe=N;oe<E;++oe){if(T=M[oe],F=this._unicodeService.wcwidth(T),T<127&&W){const pe=W[String.fromCharCode(T)];pe&&(T=pe.charCodeAt(0))}if(Z&&this._onA11yChar.fire((0,C.stringFromCodePoint)(T)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),F||!this._activeBuffer.x){if(this._activeBuffer.x+F-1>=ae){if(he){for(;this._activeBuffer.x<ae;)ne.setCellFromCodePoint(this._activeBuffer.x++,0,1,V.fg,V.bg,V.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ae-1,F===2)continue}if(U&&(ne.insertCells(this._activeBuffer.x,F,this._activeBuffer.getNullCell(V),V),ne.getWidth(ae-1)===2&&ne.setCellFromCodePoint(ae-1,f.NULL_CELL_CODE,f.NULL_CELL_WIDTH,V.fg,V.bg,V.extended)),ne.setCellFromCodePoint(this._activeBuffer.x++,T,F,V.fg,V.bg,V.extended),F>0)for(;--F;)ne.setCellFromCodePoint(this._activeBuffer.x++,0,0,V.fg,V.bg,V.extended)}else ne.getWidth(this._activeBuffer.x-1)?ne.addCodepointToCell(this._activeBuffer.x-1,T):ne.addCodepointToCell(this._activeBuffer.x-2,T)}E-N>0&&(ne.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ae&&E-N>0&&ne.getWidth(this._activeBuffer.x)===0&&!ne.hasContent(this._activeBuffer.x)&&ne.setCellFromCodePoint(this._activeBuffer.x,0,1,V.fg,V.bg,V.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(M,N){return M.final!=="t"||M.prefix||M.intermediates?this._parser.registerCsiHandler(M,N):this._parser.registerCsiHandler(M,E=>!Y(E.params[0],this._optionsService.rawOptions.windowOptions)||N(E))}registerDcsHandler(M,N){return this._parser.registerDcsHandler(M,new H.DcsHandler(N))}registerEscHandler(M,N){return this._parser.registerEscHandler(M,N)}registerOscHandler(M,N){return this._parser.registerOscHandler(M,new R.OscHandler(N))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var M;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||M===void 0)&&M.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);N.hasWidth(this._activeBuffer.x)&&!N.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const M=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-M),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(M=this._bufferService.cols-1){this._activeBuffer.x=Math.min(M,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(M,N){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=M,this._activeBuffer.y=this._activeBuffer.scrollTop+N):(this._activeBuffer.x=M,this._activeBuffer.y=N),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(M,N){this._restrictCursor(),this._setCursor(this._activeBuffer.x+M,this._activeBuffer.y+N)}cursorUp(M){const N=this._activeBuffer.y-this._activeBuffer.scrollTop;return N>=0?this._moveCursor(0,-Math.min(N,M.params[0]||1)):this._moveCursor(0,-(M.params[0]||1)),!0}cursorDown(M){const N=this._activeBuffer.scrollBottom-this._activeBuffer.y;return N>=0?this._moveCursor(0,Math.min(N,M.params[0]||1)):this._moveCursor(0,M.params[0]||1),!0}cursorForward(M){return this._moveCursor(M.params[0]||1,0),!0}cursorBackward(M){return this._moveCursor(-(M.params[0]||1),0),!0}cursorNextLine(M){return this.cursorDown(M),this._activeBuffer.x=0,!0}cursorPrecedingLine(M){return this.cursorUp(M),this._activeBuffer.x=0,!0}cursorCharAbsolute(M){return this._setCursor((M.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(M){return this._setCursor(M.length>=2?(M.params[1]||1)-1:0,(M.params[0]||1)-1),!0}charPosAbsolute(M){return this._setCursor((M.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(M){return this._moveCursor(M.params[0]||1,0),!0}linePosAbsolute(M){return this._setCursor(this._activeBuffer.x,(M.params[0]||1)-1),!0}vPositionRelative(M){return this._moveCursor(0,M.params[0]||1),!0}hVPosition(M){return this.cursorPosition(M),!0}tabClear(M){const N=M.params[0];return N===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:N===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(M){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let N=M.params[0]||1;for(;N--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(M){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let N=M.params[0]||1;for(;N--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(M){const N=M.params[0];return N===1&&(this._curAttrData.bg|=536870912),N!==2&&N!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(M,N,E,T=!1,F=!1){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);W.replaceCells(N,E,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),F),T&&(W.isWrapped=!1)}_resetBufferLine(M,N=!1){const E=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);E&&(E.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),N),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+M),E.isWrapped=!1)}eraseInDisplay(M,N=!1){let E;switch(this._restrictCursor(this._bufferService.cols),M.params[0]){case 0:for(E=this._activeBuffer.y,this._dirtyRowTracker.markDirty(E),this._eraseInBufferLine(E++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,N);E<this._bufferService.rows;E++)this._resetBufferLine(E,N);this._dirtyRowTracker.markDirty(E);break;case 1:for(E=this._activeBuffer.y,this._dirtyRowTracker.markDirty(E),this._eraseInBufferLine(E,0,this._activeBuffer.x+1,!0,N),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(E+1).isWrapped=!1);E--;)this._resetBufferLine(E,N);this._dirtyRowTracker.markDirty(0);break;case 2:for(E=this._bufferService.rows,this._dirtyRowTracker.markDirty(E-1);E--;)this._resetBufferLine(E,N);this._dirtyRowTracker.markDirty(0);break;case 3:const T=this._activeBuffer.lines.length-this._bufferService.rows;T>0&&(this._activeBuffer.lines.trimStart(T),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-T,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-T,0),this._onScroll.fire(0))}return!0}eraseInLine(M,N=!1){switch(this._restrictCursor(this._bufferService.cols),M.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,N);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,N);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,N)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(M){this._restrictCursor();let N=M.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=this._activeBuffer.ybase+this._activeBuffer.y,T=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-T+1;for(;N--;)this._activeBuffer.lines.splice(F-1,1),this._activeBuffer.lines.splice(E,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(M){this._restrictCursor();let N=M.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=this._activeBuffer.ybase+this._activeBuffer.y;let T;for(T=this._bufferService.rows-1-this._activeBuffer.scrollBottom,T=this._bufferService.rows-1+this._activeBuffer.ybase-T;N--;)this._activeBuffer.lines.splice(E,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(M){this._restrictCursor();const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.insertCells(this._activeBuffer.x,M.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(M){this._restrictCursor();const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.deleteCells(this._activeBuffer.x,M.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(M){let N=M.params[0]||1;for(;N--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(M){let N=M.params[0]||1;for(;N--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(a.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=M.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);T.deleteCells(0,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=M.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);T.insertCells(0,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=M.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);T.insertCells(this._activeBuffer.x,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=M.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);T.deleteCells(this._activeBuffer.x,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(M){this._restrictCursor();const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(M.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(M){if(!this._parser.precedingCodepoint)return!0;const N=M.params[0]||1,E=new Uint32Array(N);for(let T=0;T<N;++T)E[T]=this._parser.precedingCodepoint;return this.print(E,0,E.length),!0}sendDeviceAttributesPrimary(M){return M.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(v.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(v.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(M){return M.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(v.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(v.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(M.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(v.C0.ESC+"[>83;40003;0c")),!0}_is(M){return(this._optionsService.rawOptions.termName+"").indexOf(M)===0}setMode(M){for(let N=0;N<M.length;N++)switch(M.params[N]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(M){for(let N=0;N<M.length;N++)switch(M.params[N]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,S.DEFAULT_CHARSET),this._charsetService.setgCharset(1,S.DEFAULT_CHARSET),this._charsetService.setgCharset(2,S.DEFAULT_CHARSET),this._charsetService.setgCharset(3,S.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(M){for(let N=0;N<M.length;N++)switch(M.params[N]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(M){for(let N=0;N<M.length;N++)switch(M.params[N]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),M.params[N]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(M,N){const E=this._coreService.decPrivateModes,{activeProtocol:T,activeEncoding:F}=this._coreMouseService,W=this._coreService,{buffers:Z,cols:ae}=this._bufferService,{active:he,alt:U}=Z,V=this._optionsService.rawOptions,ne=De=>De?1:2,oe=M.params[0];return pe=oe,fe=N?oe===2?4:oe===4?ne(W.modes.insertMode):oe===12?3:oe===20?ne(V.convertEol):0:oe===1?ne(E.applicationCursorKeys):oe===3?V.windowOptions.setWinLines?ae===80?2:ae===132?1:0:0:oe===6?ne(E.origin):oe===7?ne(E.wraparound):oe===8?3:oe===9?ne(T==="X10"):oe===12?ne(V.cursorBlink):oe===25?ne(!W.isCursorHidden):oe===45?ne(E.reverseWraparound):oe===66?ne(E.applicationKeypad):oe===67?4:oe===1e3?ne(T==="VT200"):oe===1002?ne(T==="DRAG"):oe===1003?ne(T==="ANY"):oe===1004?ne(E.sendFocus):oe===1005?4:oe===1006?ne(F==="SGR"):oe===1015?4:oe===1016?ne(F==="SGR_PIXELS"):oe===1048?1:oe===47||oe===1047||oe===1049?ne(he===U):oe===2004?ne(E.bracketedPasteMode):0,W.triggerDataEvent(`${v.C0.ESC}[${N?"":"?"}${pe};${fe}$y`),!0;var pe,fe}_updateAttrColor(M,N,E,T,F){return N===2?(M|=50331648,M&=-16777216,M|=g.AttributeData.fromColorRGB([E,T,F])):N===5&&(M&=-50331904,M|=33554432|255&E),M}_extractColor(M,N,E){const T=[0,0,-1,0,0,0];let F=0,W=0;do{if(T[W+F]=M.params[N+W],M.hasSubParams(N+W)){const Z=M.getSubParams(N+W);let ae=0;do T[1]===5&&(F=1),T[W+ae+1+F]=Z[ae];while(++ae<Z.length&&ae+W+1+F<T.length);break}if(T[1]===5&&W+F>=2||T[1]===2&&W+F>=5)break;T[1]&&(F=1)}while(++W+N<M.length&&W+F<T.length);for(let Z=2;Z<T.length;++Z)T[Z]===-1&&(T[Z]=0);switch(T[0]){case 38:E.fg=this._updateAttrColor(E.fg,T[1],T[3],T[4],T[5]);break;case 48:E.bg=this._updateAttrColor(E.bg,T[1],T[3],T[4],T[5]);break;case 58:E.extended=E.extended.clone(),E.extended.underlineColor=this._updateAttrColor(E.extended.underlineColor,T[1],T[3],T[4],T[5])}return W}_processUnderline(M,N){N.extended=N.extended.clone(),(!~M||M>5)&&(M=1),N.extended.underlineStyle=M,N.fg|=268435456,M===0&&(N.fg&=-268435457),N.updateExtended()}_processSGR0(M){M.fg=a.DEFAULT_ATTR_DATA.fg,M.bg=a.DEFAULT_ATTR_DATA.bg,M.extended=M.extended.clone(),M.extended.underlineStyle=0,M.extended.underlineColor&=-67108864,M.updateExtended()}charAttributes(M){if(M.length===1&&M.params[0]===0)return this._processSGR0(this._curAttrData),!0;const N=M.length;let E;const T=this._curAttrData;for(let F=0;F<N;F++)E=M.params[F],E>=30&&E<=37?(T.fg&=-50331904,T.fg|=16777216|E-30):E>=40&&E<=47?(T.bg&=-50331904,T.bg|=16777216|E-40):E>=90&&E<=97?(T.fg&=-50331904,T.fg|=16777224|E-90):E>=100&&E<=107?(T.bg&=-50331904,T.bg|=16777224|E-100):E===0?this._processSGR0(T):E===1?T.fg|=134217728:E===3?T.bg|=67108864:E===4?(T.fg|=268435456,this._processUnderline(M.hasSubParams(F)?M.getSubParams(F)[0]:1,T)):E===5?T.fg|=536870912:E===7?T.fg|=67108864:E===8?T.fg|=1073741824:E===9?T.fg|=2147483648:E===2?T.bg|=134217728:E===21?this._processUnderline(2,T):E===22?(T.fg&=-134217729,T.bg&=-134217729):E===23?T.bg&=-67108865:E===24?(T.fg&=-268435457,this._processUnderline(0,T)):E===25?T.fg&=-536870913:E===27?T.fg&=-67108865:E===28?T.fg&=-1073741825:E===29?T.fg&=2147483647:E===39?(T.fg&=-67108864,T.fg|=16777215&a.DEFAULT_ATTR_DATA.fg):E===49?(T.bg&=-67108864,T.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):E===38||E===48||E===58?F+=this._extractColor(M,F,T):E===53?T.bg|=1073741824:E===55?T.bg&=-1073741825:E===59?(T.extended=T.extended.clone(),T.extended.underlineColor=-1,T.updateExtended()):E===100?(T.fg&=-67108864,T.fg|=16777215&a.DEFAULT_ATTR_DATA.fg,T.bg&=-67108864,T.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",E);return!0}deviceStatus(M){switch(M.params[0]){case 5:this._coreService.triggerDataEvent(`${v.C0.ESC}[0n`);break;case 6:const N=this._activeBuffer.y+1,E=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${v.C0.ESC}[${N};${E}R`)}return!0}deviceStatusPrivate(M){if(M.params[0]===6){const N=this._activeBuffer.y+1,E=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${v.C0.ESC}[?${N};${E}R`)}return!0}softReset(M){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(M){const N=M.params[0]||1;switch(N){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const E=N%2==1;return this._optionsService.options.cursorBlink=E,!0}setScrollRegion(M){const N=M.params[0]||1;let E;return(M.length<2||(E=M.params[1])>this._bufferService.rows||E===0)&&(E=this._bufferService.rows),E>N&&(this._activeBuffer.scrollTop=N-1,this._activeBuffer.scrollBottom=E-1,this._setCursor(0,0)),!0}windowOptions(M){if(!Y(M.params[0],this._optionsService.rawOptions.windowOptions))return!0;const N=M.length>1?M.params[1]:0;switch(M.params[0]){case 14:N!==2&&this._onRequestWindowsOptionsReport.fire($.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire($.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${v.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:N!==0&&N!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),N!==0&&N!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:N!==0&&N!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),N!==0&&N!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(M){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(M){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(M){return this._windowTitle=M,this._onTitleChange.fire(M),!0}setIconName(M){return this._iconName=M,!0}setOrReportIndexedColor(M){const N=[],E=M.split(";");for(;E.length>1;){const T=E.shift(),F=E.shift();if(/^\d+$/.exec(T)){const W=parseInt(T);if(z(W))if(F==="?")N.push({type:0,index:W});else{const Z=(0,b.parseColor)(F);Z&&N.push({type:1,index:W,color:Z})}}}return N.length&&this._onColor.fire(N),!0}setHyperlink(M){const N=M.split(";");return!(N.length<2)&&(N[1]?this._createHyperlink(N[0],N[1]):!N[0]&&this._finishHyperlink())}_createHyperlink(M,N){this._getCurrentLinkId()&&this._finishHyperlink();const E=M.split(":");let T;const F=E.findIndex(W=>W.startsWith("id="));return F!==-1&&(T=E[F].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:T,uri:N}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(M,N){const E=M.split(";");for(let T=0;T<E.length&&!(N>=this._specialColors.length);++T,++N)if(E[T]==="?")this._onColor.fire([{type:0,index:this._specialColors[N]}]);else{const F=(0,b.parseColor)(E[T]);F&&this._onColor.fire([{type:1,index:this._specialColors[N],color:F}])}return!0}setOrReportFgColor(M){return this._setOrReportSpecialColor(M,0)}setOrReportBgColor(M){return this._setOrReportSpecialColor(M,1)}setOrReportCursorColor(M){return this._setOrReportSpecialColor(M,2)}restoreIndexedColor(M){if(!M)return this._onColor.fire([{type:2}]),!0;const N=[],E=M.split(";");for(let T=0;T<E.length;++T)if(/^\d+$/.exec(E[T])){const F=parseInt(E[T]);z(F)&&N.push({type:2,index:F})}return N.length&&this._onColor.fire(N),!0}restoreFgColor(M){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(M){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(M){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,S.DEFAULT_CHARSET),!0}selectCharset(M){return M.length!==2?(this.selectDefaultCharset(),!0):(M[0]==="/"||this._charsetService.setgCharset(B[M[0]],S.CHARSETS[M[1]]||S.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const M=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,M,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(M){return this._charsetService.setgLevel(M),!0}screenAlignmentPattern(){const M=new d.CellData;M.content=4194373,M.fg=this._curAttrData.fg,M.bg=this._curAttrData.bg,this._setCursor(0,0);for(let N=0;N<this._bufferService.rows;++N){const E=this._activeBuffer.ybase+this._activeBuffer.y+N,T=this._activeBuffer.lines.get(E);T&&(T.fill(M),T.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(M,N){const E=this._bufferService.buffer,T=this._optionsService.rawOptions;return(F=>(this._coreService.triggerDataEvent(`${v.C0.ESC}${F}${v.C0.ESC}\\`),!0))(M==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:M==='"p'?'P1$r61;1"p':M==="r"?`P1$r${E.scrollTop+1};${E.scrollBottom+1}r`:M==="m"?"P1$r0m":M===" q"?`P1$r${{block:2,underline:4,bar:6}[T.cursorStyle]-(T.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(M,N){this._dirtyRowTracker.markRangeDirty(M,N)}}l.InputHandler=q;let G=class{constructor(P){this._bufferService=P,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(P){P<this.start?this.start=P:P>this.end&&(this.end=P)}markRangeDirty(P,M){P>M&&(X=P,P=M,M=X),P<this.start&&(this.start=P),M>this.end&&(this.end=M)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function z(P){return 0<=P&&P<256}G=h([m(0,w.IBufferService)],G)},844:(L,l)=>{function u(h){for(const m of h)m.dispose();h.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const m=this._disposables.indexOf(h);m!==-1&&this._disposables.splice(m,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var m;this._isDisposed||h===this._value||((m=this._value)===null||m===void 0||m.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}},l.toDisposable=function(h){return{dispose:h}},l.disposeArray=u,l.getDisposeArrayDisposable=function(h){return{dispose:()=>u(h)}}},1505:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(m,v,S){this._data[m]||(this._data[m]={}),this._data[m][v]=S}get(m,v){return this._data[m]?this._data[m][v]:void 0}clear(){this._data={}}}l.TwoKeyMap=u,l.FourKeyMap=class{constructor(){this._data=new u}set(h,m,v,S,x){this._data.get(h,m)||this._data.set(h,m,new u),this._data.get(h,m).set(v,S,x)}get(h,m,v,S){var x;return(x=this._data.get(h,m))===null||x===void 0?void 0:x.get(v,S)}clear(){this._data.clear()}}},6114:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof navigator>"u";const u=l.isNode?"node":navigator.userAgent,h=l.isNode?"node":navigator.platform;l.isFirefox=u.includes("Firefox"),l.isLegacyEdge=u.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(u),l.getSafariVersion=function(){if(!l.isSafari)return 0;const m=u.match(/Version\/(\d+)/);return m===null||m.length<2?0:parseInt(m[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),l.isIpad=h==="iPad",l.isIphone=h==="iPhone",l.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),l.isLinux=h.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(u)},6106:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let u=0;l.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(u=this._search(this._getKey(h)),this._array.splice(u,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const m=this._getKey(h);if(m===void 0||(u=this._search(m),u===-1)||this._getKey(this._array[u])!==m)return!1;do if(this._array[u]===h)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===m);return!1}*getKeyIterator(h){if(this._array.length!==0&&(u=this._search(h),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===h))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===h)}forEachByKey(h,m){if(this._array.length!==0&&(u=this._search(h),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===h))do m(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===h)}values(){return[...this._array].values()}_search(h){let m=0,v=this._array.length-1;for(;v>=m;){let S=m+v>>1;const x=this._getKey(this._array[S]);if(x>h)v=S-1;else{if(!(x<h)){for(;S>0&&this._getKey(this._array[S-1])===h;)S--;return S}m=S+1}}return m}}},7226:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const h=u(6114);class m{constructor(){this._tasks=[],this._i=0}enqueue(x){this._tasks.push(x),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(x){this._idleCallback=void 0;let D=0,C=0,a=x.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(D=Date.now(),this._tasks[this._i]()||this._i++,D=Math.max(1,Date.now()-D),C=Math.max(D,C),o=x.timeRemaining(),1.5*C>o)return a-D<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(a-D))}ms`),void this._start();a=o}this.clear()}}class v extends m{_requestCallback(x){return setTimeout(()=>x(this._createDeadline(16)))}_cancelCallback(x){clearTimeout(x)}_createDeadline(x){const D=Date.now()+x;return{timeRemaining:()=>Math.max(0,D-Date.now())}}}l.PriorityTaskQueue=v,l.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends m{_requestCallback(S){return requestIdleCallback(S)}_cancelCallback(S){cancelIdleCallback(S)}}:v,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(S){this._queue.clear(),this._queue.enqueue(S)}flush(){this._queue.flush()}}},9282:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const h=u(643);l.updateWindowsModeWrappedState=function(m){const v=m.buffer.lines.get(m.buffer.ybase+m.buffer.y-1),S=v==null?void 0:v.get(m.cols-1),x=m.buffer.lines.get(m.buffer.ybase+m.buffer.y);x&&S&&(x.isWrapped=S[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&S[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(v){return[v>>>16&255,v>>>8&255,255&v]}static fromColorRGB(v){return(255&v[0])<<16|(255&v[1])<<8|255&v[2]}clone(){const v=new u;return v.fg=this.fg,v.bg=this.bg,v.extended=this.extended.clone(),v}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}l.AttributeData=u;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(v){this._ext=v}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(v){this._ext&=-469762049,this._ext|=v<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(v){this._ext&=-67108864,this._ext|=67108863&v}get urlId(){return this._urlId}set urlId(v){this._urlId=v}constructor(v=0,S=0){this._ext=0,this._urlId=0,this._ext=v,this._urlId=S}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}l.ExtendedAttrs=h},9092:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const h=u(6349),m=u(7226),v=u(3734),S=u(8437),x=u(4634),D=u(511),C=u(643),a=u(4863),o=u(7116);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(f,d,g){this._hasScrollback=f,this._optionsService=d,this._bufferService=g,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=S.DEFAULT_ATTR_DATA.clone(),this.savedCharset=o.DEFAULT_CHARSET,this.markers=[],this._nullCell=D.CellData.fromCharData([0,C.NULL_CELL_CHAR,C.NULL_CELL_WIDTH,C.NULL_CELL_CODE]),this._whitespaceCell=D.CellData.fromCharData([0,C.WHITESPACE_CELL_CHAR,C.WHITESPACE_CELL_WIDTH,C.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new m.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(f){return f?(this._nullCell.fg=f.fg,this._nullCell.bg=f.bg,this._nullCell.extended=f.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new v.ExtendedAttrs),this._nullCell}getWhitespaceCell(f){return f?(this._whitespaceCell.fg=f.fg,this._whitespaceCell.bg=f.bg,this._whitespaceCell.extended=f.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new v.ExtendedAttrs),this._whitespaceCell}getBlankLine(f,d){return new S.BufferLine(this._bufferService.cols,this.getNullCell(f),d)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const f=this.ybase+this.y-this.ydisp;return f>=0&&f<this._rows}_getCorrectBufferLength(f){if(!this._hasScrollback)return f;const d=f+this._optionsService.rawOptions.scrollback;return d>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:d}fillViewportRows(f){if(this.lines.length===0){f===void 0&&(f=S.DEFAULT_ATTR_DATA);let d=this._rows;for(;d--;)this.lines.push(this.getBlankLine(f))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(f,d){const g=this.getNullCell(S.DEFAULT_ATTR_DATA);let w=0;const R=this._getCorrectBufferLength(d);if(R>this.lines.maxLength&&(this.lines.maxLength=R),this.lines.length>0){if(this._cols<f)for(let b=0;b<this.lines.length;b++)w+=+this.lines.get(b).resize(f,g);let H=0;if(this._rows<d)for(let b=this._rows;b<d;b++)this.lines.length<d+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new S.BufferLine(f,g)):this.ybase>0&&this.lines.length<=this.ybase+this.y+H+1?(this.ybase--,H++,this.ydisp>0&&this.ydisp--):this.lines.push(new S.BufferLine(f,g)));else for(let b=this._rows;b>d;b--)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(R<this.lines.maxLength){const b=this.lines.length-R;b>0&&(this.lines.trimStart(b),this.ybase=Math.max(this.ybase-b,0),this.ydisp=Math.max(this.ydisp-b,0),this.savedY=Math.max(this.savedY-b,0)),this.lines.maxLength=R}this.x=Math.min(this.x,f-1),this.y=Math.min(this.y,d-1),H&&(this.y+=H),this.savedX=Math.min(this.savedX,f-1),this.scrollTop=0}if(this.scrollBottom=d-1,this._isReflowEnabled&&(this._reflow(f,d),this._cols>f))for(let H=0;H<this.lines.length;H++)w+=+this.lines.get(H).resize(f,g);this._cols=f,this._rows=d,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let f=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,f=!1);let d=0;for(;this._memoryCleanupPosition<this.lines.length;)if(d+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),d>100)return!0;return f}get _isReflowEnabled(){const f=this._optionsService.rawOptions.windowsPty;return f&&f.buildNumber?this._hasScrollback&&f.backend==="conpty"&&f.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(f,d){this._cols!==f&&(f>this._cols?this._reflowLarger(f,d):this._reflowSmaller(f,d))}_reflowLarger(f,d){const g=(0,x.reflowLargerGetLinesToRemove)(this.lines,this._cols,f,this.ybase+this.y,this.getNullCell(S.DEFAULT_ATTR_DATA));if(g.length>0){const w=(0,x.reflowLargerCreateNewLayout)(this.lines,g);(0,x.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(f,d,w.countRemoved)}}_reflowLargerAdjustViewport(f,d,g){const w=this.getNullCell(S.DEFAULT_ATTR_DATA);let R=g;for(;R-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<d&&this.lines.push(new S.BufferLine(f,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-g,0)}_reflowSmaller(f,d){const g=this.getNullCell(S.DEFAULT_ATTR_DATA),w=[];let R=0;for(let H=this.lines.length-1;H>=0;H--){let b=this.lines.get(H);if(!b||!b.isWrapped&&b.getTrimmedLength()<=f)continue;const B=[b];for(;b.isWrapped&&H>0;)b=this.lines.get(--H),B.unshift(b);const I=this.ybase+this.y;if(I>=H&&I<H+B.length)continue;const Y=B[B.length-1].getTrimmedLength(),$=(0,x.reflowSmallerGetNewLineLengths)(B,this._cols,f),X=$.length-B.length;let q;q=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+X):Math.max(0,this.lines.length-this.lines.maxLength+X);const G=[];for(let T=0;T<X;T++){const F=this.getBlankLine(S.DEFAULT_ATTR_DATA,!0);G.push(F)}G.length>0&&(w.push({start:H+B.length+R,newLines:G}),R+=G.length),B.push(...G);let z=$.length-1,P=$[z];P===0&&(z--,P=$[z]);let M=B.length-X-1,N=Y;for(;M>=0;){const T=Math.min(N,P);if(B[z]===void 0)break;if(B[z].copyCellsFrom(B[M],N-T,P-T,T,!0),P-=T,P===0&&(z--,P=$[z]),N-=T,N===0){M--;const F=Math.max(M,0);N=(0,x.getWrappedLineTrimmedLength)(B,F,this._cols)}}for(let T=0;T<B.length;T++)$[T]<f&&B[T].setCell($[T],g);let E=X-q;for(;E-- >0;)this.ybase===0?this.y<d-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+R)-d&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+X,this.ybase+d-1)}if(w.length>0){const H=[],b=[];for(let z=0;z<this.lines.length;z++)b.push(this.lines.get(z));const B=this.lines.length;let I=B-1,Y=0,$=w[Y];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+R);let X=0;for(let z=Math.min(this.lines.maxLength-1,B+R-1);z>=0;z--)if($&&$.start>I+X){for(let P=$.newLines.length-1;P>=0;P--)this.lines.set(z--,$.newLines[P]);z++,H.push({index:I+1,amount:$.newLines.length}),X+=$.newLines.length,$=w[++Y]}else this.lines.set(z,b[I--]);let q=0;for(let z=H.length-1;z>=0;z--)H[z].index+=q,this.lines.onInsertEmitter.fire(H[z]),q+=H[z].amount;const G=Math.max(0,B+R-this.lines.maxLength);G>0&&this.lines.onTrimEmitter.fire(G)}}translateBufferLineToString(f,d,g=0,w){const R=this.lines.get(f);return R?R.translateToString(d,g,w):""}getWrappedRangeForLine(f){let d=f,g=f;for(;d>0&&this.lines.get(d).isWrapped;)d--;for(;g+1<this.lines.length&&this.lines.get(g+1).isWrapped;)g++;return{first:d,last:g}}setupTabStops(f){for(f!=null?this.tabs[f]||(f=this.prevStop(f)):(this.tabs={},f=0);f<this._cols;f+=this._optionsService.rawOptions.tabStopWidth)this.tabs[f]=!0}prevStop(f){for(f==null&&(f=this.x);!this.tabs[--f]&&f>0;);return f>=this._cols?this._cols-1:f<0?0:f}nextStop(f){for(f==null&&(f=this.x);!this.tabs[++f]&&f<this._cols;);return f>=this._cols?this._cols-1:f<0?0:f}clearMarkers(f){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].line===f&&(this.markers[d].dispose(),this.markers.splice(d--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].dispose(),this.markers.splice(f--,1);this._isClearing=!1}addMarker(f){const d=new a.Marker(f);return this.markers.push(d),d.register(this.lines.onTrim(g=>{d.line-=g,d.line<0&&d.dispose()})),d.register(this.lines.onInsert(g=>{d.line>=g.index&&(d.line+=g.amount)})),d.register(this.lines.onDelete(g=>{d.line>=g.index&&d.line<g.index+g.amount&&d.dispose(),d.line>g.index&&(d.line-=g.amount)})),d.register(d.onDispose(()=>this._removeMarker(d))),d}_removeMarker(f){this._isClearing||this.markers.splice(this.markers.indexOf(f),1)}}},8437:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const h=u(3734),m=u(511),v=u(643),S=u(482);l.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let x=0;class D{constructor(a,o,f=!1){this.isWrapped=f,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*a);const d=o||m.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]);for(let g=0;g<a;++g)this.setCell(g,d);this.length=a}get(a){const o=this._data[3*a+0],f=2097151&o;return[this._data[3*a+1],2097152&o?this._combined[a]:f?(0,S.stringFromCodePoint)(f):"",o>>22,2097152&o?this._combined[a].charCodeAt(this._combined[a].length-1):f]}set(a,o){this._data[3*a+1]=o[v.CHAR_DATA_ATTR_INDEX],o[v.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[a]=o[1],this._data[3*a+0]=2097152|a|o[v.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*a+0]=o[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|o[v.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(a){return this._data[3*a+0]>>22}hasWidth(a){return 12582912&this._data[3*a+0]}getFg(a){return this._data[3*a+1]}getBg(a){return this._data[3*a+2]}hasContent(a){return 4194303&this._data[3*a+0]}getCodePoint(a){const o=this._data[3*a+0];return 2097152&o?this._combined[a].charCodeAt(this._combined[a].length-1):2097151&o}isCombined(a){return 2097152&this._data[3*a+0]}getString(a){const o=this._data[3*a+0];return 2097152&o?this._combined[a]:2097151&o?(0,S.stringFromCodePoint)(2097151&o):""}isProtected(a){return 536870912&this._data[3*a+2]}loadCell(a,o){return x=3*a,o.content=this._data[x+0],o.fg=this._data[x+1],o.bg=this._data[x+2],2097152&o.content&&(o.combinedData=this._combined[a]),268435456&o.bg&&(o.extended=this._extendedAttrs[a]),o}setCell(a,o){2097152&o.content&&(this._combined[a]=o.combinedData),268435456&o.bg&&(this._extendedAttrs[a]=o.extended),this._data[3*a+0]=o.content,this._data[3*a+1]=o.fg,this._data[3*a+2]=o.bg}setCellFromCodePoint(a,o,f,d,g,w){268435456&g&&(this._extendedAttrs[a]=w),this._data[3*a+0]=o|f<<22,this._data[3*a+1]=d,this._data[3*a+2]=g}addCodepointToCell(a,o){let f=this._data[3*a+0];2097152&f?this._combined[a]+=(0,S.stringFromCodePoint)(o):(2097151&f?(this._combined[a]=(0,S.stringFromCodePoint)(2097151&f)+(0,S.stringFromCodePoint)(o),f&=-2097152,f|=2097152):f=o|4194304,this._data[3*a+0]=f)}insertCells(a,o,f,d){if((a%=this.length)&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs),o<this.length-a){const g=new m.CellData;for(let w=this.length-a-o-1;w>=0;--w)this.setCell(a+o+w,this.loadCell(a+w,g));for(let w=0;w<o;++w)this.setCell(a+w,f)}else for(let g=a;g<this.length;++g)this.setCell(g,f);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs)}deleteCells(a,o,f,d){if(a%=this.length,o<this.length-a){const g=new m.CellData;for(let w=0;w<this.length-a-o;++w)this.setCell(a+w,this.loadCell(a+o+w,g));for(let w=this.length-o;w<this.length;++w)this.setCell(w,f)}else for(let g=a;g<this.length;++g)this.setCell(g,f);a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs),this.getWidth(a)!==0||this.hasContent(a)||this.setCellFromCodePoint(a,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs)}replaceCells(a,o,f,d,g=!1){if(g)for(a&&this.getWidth(a-1)===2&&!this.isProtected(a-1)&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&!this.isProtected(o)&&this.setCellFromCodePoint(o,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs);a<o&&a<this.length;)this.isProtected(a)||this.setCell(a,f),a++;else for(a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs);a<o&&a<this.length;)this.setCell(a++,f)}resize(a,o){if(a===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const f=3*a;if(a>this.length){if(this._data.buffer.byteLength>=4*f)this._data=new Uint32Array(this._data.buffer,0,f);else{const d=new Uint32Array(f);d.set(this._data),this._data=d}for(let d=this.length;d<a;++d)this.setCell(d,o)}else{this._data=this._data.subarray(0,f);const d=Object.keys(this._combined);for(let w=0;w<d.length;w++){const R=parseInt(d[w],10);R>=a&&delete this._combined[R]}const g=Object.keys(this._extendedAttrs);for(let w=0;w<g.length;w++){const R=parseInt(g[w],10);R>=a&&delete this._extendedAttrs[R]}}return this.length=a,4*f*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const a=new Uint32Array(this._data.length);return a.set(this._data),this._data=a,1}return 0}fill(a,o=!1){if(o)for(let f=0;f<this.length;++f)this.isProtected(f)||this.setCell(f,a);else{this._combined={},this._extendedAttrs={};for(let f=0;f<this.length;++f)this.setCell(f,a)}}copyFrom(a){this.length!==a.length?this._data=new Uint32Array(a._data):this._data.set(a._data),this.length=a.length,this._combined={};for(const o in a._combined)this._combined[o]=a._combined[o];this._extendedAttrs={};for(const o in a._extendedAttrs)this._extendedAttrs[o]=a._extendedAttrs[o];this.isWrapped=a.isWrapped}clone(){const a=new D(0);a._data=new Uint32Array(this._data),a.length=this.length;for(const o in this._combined)a._combined[o]=this._combined[o];for(const o in this._extendedAttrs)a._extendedAttrs[o]=this._extendedAttrs[o];return a.isWrapped=this.isWrapped,a}getTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0])return a+(this._data[3*a+0]>>22);return 0}getNoBgTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0]||50331648&this._data[3*a+2])return a+(this._data[3*a+0]>>22);return 0}copyCellsFrom(a,o,f,d,g){const w=a._data;if(g)for(let H=d-1;H>=0;H--){for(let b=0;b<3;b++)this._data[3*(f+H)+b]=w[3*(o+H)+b];268435456&w[3*(o+H)+2]&&(this._extendedAttrs[f+H]=a._extendedAttrs[o+H])}else for(let H=0;H<d;H++){for(let b=0;b<3;b++)this._data[3*(f+H)+b]=w[3*(o+H)+b];268435456&w[3*(o+H)+2]&&(this._extendedAttrs[f+H]=a._extendedAttrs[o+H])}const R=Object.keys(a._combined);for(let H=0;H<R.length;H++){const b=parseInt(R[H],10);b>=o&&(this._combined[b-o+f]=a._combined[b])}}translateToString(a=!1,o=0,f=this.length){a&&(f=Math.min(f,this.getTrimmedLength()));let d="";for(;o<f;){const g=this._data[3*o+0],w=2097151&g;d+=2097152&g?this._combined[o]:w?(0,S.stringFromCodePoint)(w):v.WHITESPACE_CELL_CHAR,o+=g>>22||1}return d}}l.BufferLine=D},4841:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(u,h){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return h*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(L,l)=>{function u(h,m,v){if(m===h.length-1)return h[m].getTrimmedLength();const S=!h[m].hasContent(v-1)&&h[m].getWidth(v-1)===1,x=h[m+1].getWidth(0)===2;return S&&x?v-1:v}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(h,m,v,S,x){const D=[];for(let C=0;C<h.length-1;C++){let a=C,o=h.get(++a);if(!o.isWrapped)continue;const f=[h.get(C)];for(;a<h.length&&o.isWrapped;)f.push(o),o=h.get(++a);if(S>=C&&S<a){C+=f.length-1;continue}let d=0,g=u(f,d,m),w=1,R=0;for(;w<f.length;){const b=u(f,w,m),B=b-R,I=v-g,Y=Math.min(B,I);f[d].copyCellsFrom(f[w],R,g,Y,!1),g+=Y,g===v&&(d++,g=0),R+=Y,R===b&&(w++,R=0),g===0&&d!==0&&f[d-1].getWidth(v-1)===2&&(f[d].copyCellsFrom(f[d-1],v-1,g++,1,!1),f[d-1].setCell(v-1,x))}f[d].replaceCells(g,v,x);let H=0;for(let b=f.length-1;b>0&&(b>d||f[b].getTrimmedLength()===0);b--)H++;H>0&&(D.push(C+f.length-H),D.push(H)),C+=f.length-1}return D},l.reflowLargerCreateNewLayout=function(h,m){const v=[];let S=0,x=m[S],D=0;for(let C=0;C<h.length;C++)if(x===C){const a=m[++S];h.onDeleteEmitter.fire({index:C-D,amount:a}),C+=a-1,D+=a,x=m[++S]}else v.push(C);return{layout:v,countRemoved:D}},l.reflowLargerApplyNewLayout=function(h,m){const v=[];for(let S=0;S<m.length;S++)v.push(h.get(m[S]));for(let S=0;S<v.length;S++)h.set(S,v[S]);h.length=m.length},l.reflowSmallerGetNewLineLengths=function(h,m,v){const S=[],x=h.map((o,f)=>u(h,f,m)).reduce((o,f)=>o+f);let D=0,C=0,a=0;for(;a<x;){if(x-a<v){S.push(x-a);break}D+=v;const o=u(h,C,m);D>o&&(D-=o,C++);const f=h[C].getWidth(D-1)===2;f&&D--;const d=f?v-1:v;S.push(d),a+=d}return S},l.getWrappedLineTrimmedLength=u},5295:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const h=u(8460),m=u(844),v=u(9092);class S extends m.Disposable{constructor(D,C){super(),this._optionsService=D,this._bufferService=C,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new v.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new v.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(D){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(D),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(D,C){this._normal.resize(D,C),this._alt.resize(D,C),this.setupTabStops(D)}setupTabStops(D){this._normal.setupTabStops(D),this._alt.setupTabStops(D)}}l.BufferSet=S},511:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const h=u(482),m=u(643),v=u(3734);class S extends v.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new v.ExtendedAttrs,this.combinedData=""}static fromCharData(D){const C=new S;return C.setFromCharData(D),C}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(D){this.fg=D[m.CHAR_DATA_ATTR_INDEX],this.bg=0;let C=!1;if(D[m.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(D[m.CHAR_DATA_CHAR_INDEX].length===2){const a=D[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=a&&a<=56319){const o=D[m.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=o&&o<=57343?this.content=1024*(a-55296)+o-56320+65536|D[m.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=D[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|D[m.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=D[m.CHAR_DATA_CHAR_INDEX],this.content=2097152|D[m.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=S},643:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const h=u(8460),m=u(844);class v{get id(){return this._id}constructor(x){this.line=x,this.isDisposed=!1,this._disposables=[],this._id=v._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,m.disposeArray)(this._disposables),this._disposables.length=0)}register(x){return this._disposables.push(x),x}}l.Marker=v,v._nextId=1},7116:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},l.CHARSETS.A={"#":""},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},l.CHARSETS.C=l.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.E=l.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},l.CHARSETS.H=l.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(L,l)=>{var u,h,m;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,function(v){v.NUL="\0",v.SOH="",v.STX="",v.ETX="",v.EOT="",v.ENQ="",v.ACK="",v.BEL="\x07",v.BS="\b",v.HT="	",v.LF=`
`,v.VT="\v",v.FF="\f",v.CR="\r",v.SO="",v.SI="",v.DLE="",v.DC1="",v.DC2="",v.DC3="",v.DC4="",v.NAK="",v.SYN="",v.ETB="",v.CAN="",v.EM="",v.SUB="",v.ESC="\x1B",v.FS="",v.GS="",v.RS="",v.US="",v.SP=" ",v.DEL=""}(u||(l.C0=u={})),function(v){v.PAD="",v.HOP="",v.BPH="",v.NBH="",v.IND="",v.NEL="",v.SSA="",v.ESA="",v.HTS="",v.HTJ="",v.VTS="",v.PLD="",v.PLU="",v.RI="",v.SS2="",v.SS3="",v.DCS="",v.PU1="",v.PU2="",v.STS="",v.CCH="",v.MW="",v.SPA="",v.EPA="",v.SOS="",v.SGCI="",v.SCI="",v.CSI="",v.ST="",v.OSC="",v.PM="",v.APC=""}(h||(l.C1=h={})),function(v){v.ST=`${u.ESC}\\`}(m||(l.C1_ESCAPED=m={}))},7399:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const h=u(2584),m={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(v,S,x,D){const C={type:0,cancel:!1,key:void 0},a=(v.shiftKey?1:0)|(v.altKey?2:0)|(v.ctrlKey?4:0)|(v.metaKey?8:0);switch(v.keyCode){case 0:v.key==="UIKeyInputUpArrow"?C.key=S?h.C0.ESC+"OA":h.C0.ESC+"[A":v.key==="UIKeyInputLeftArrow"?C.key=S?h.C0.ESC+"OD":h.C0.ESC+"[D":v.key==="UIKeyInputRightArrow"?C.key=S?h.C0.ESC+"OC":h.C0.ESC+"[C":v.key==="UIKeyInputDownArrow"&&(C.key=S?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:if(v.altKey){C.key=h.C0.ESC+h.C0.DEL;break}C.key=h.C0.DEL;break;case 9:if(v.shiftKey){C.key=h.C0.ESC+"[Z";break}C.key=h.C0.HT,C.cancel=!0;break;case 13:C.key=v.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,C.cancel=!0;break;case 27:C.key=h.C0.ESC,v.altKey&&(C.key=h.C0.ESC+h.C0.ESC),C.cancel=!0;break;case 37:if(v.metaKey)break;a?(C.key=h.C0.ESC+"[1;"+(a+1)+"D",C.key===h.C0.ESC+"[1;3D"&&(C.key=h.C0.ESC+(x?"b":"[1;5D"))):C.key=S?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(v.metaKey)break;a?(C.key=h.C0.ESC+"[1;"+(a+1)+"C",C.key===h.C0.ESC+"[1;3C"&&(C.key=h.C0.ESC+(x?"f":"[1;5C"))):C.key=S?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(v.metaKey)break;a?(C.key=h.C0.ESC+"[1;"+(a+1)+"A",x||C.key!==h.C0.ESC+"[1;3A"||(C.key=h.C0.ESC+"[1;5A")):C.key=S?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(v.metaKey)break;a?(C.key=h.C0.ESC+"[1;"+(a+1)+"B",x||C.key!==h.C0.ESC+"[1;3B"||(C.key=h.C0.ESC+"[1;5B")):C.key=S?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:v.shiftKey||v.ctrlKey||(C.key=h.C0.ESC+"[2~");break;case 46:C.key=a?h.C0.ESC+"[3;"+(a+1)+"~":h.C0.ESC+"[3~";break;case 36:C.key=a?h.C0.ESC+"[1;"+(a+1)+"H":S?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:C.key=a?h.C0.ESC+"[1;"+(a+1)+"F":S?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:v.shiftKey?C.type=2:v.ctrlKey?C.key=h.C0.ESC+"[5;"+(a+1)+"~":C.key=h.C0.ESC+"[5~";break;case 34:v.shiftKey?C.type=3:v.ctrlKey?C.key=h.C0.ESC+"[6;"+(a+1)+"~":C.key=h.C0.ESC+"[6~";break;case 112:C.key=a?h.C0.ESC+"[1;"+(a+1)+"P":h.C0.ESC+"OP";break;case 113:C.key=a?h.C0.ESC+"[1;"+(a+1)+"Q":h.C0.ESC+"OQ";break;case 114:C.key=a?h.C0.ESC+"[1;"+(a+1)+"R":h.C0.ESC+"OR";break;case 115:C.key=a?h.C0.ESC+"[1;"+(a+1)+"S":h.C0.ESC+"OS";break;case 116:C.key=a?h.C0.ESC+"[15;"+(a+1)+"~":h.C0.ESC+"[15~";break;case 117:C.key=a?h.C0.ESC+"[17;"+(a+1)+"~":h.C0.ESC+"[17~";break;case 118:C.key=a?h.C0.ESC+"[18;"+(a+1)+"~":h.C0.ESC+"[18~";break;case 119:C.key=a?h.C0.ESC+"[19;"+(a+1)+"~":h.C0.ESC+"[19~";break;case 120:C.key=a?h.C0.ESC+"[20;"+(a+1)+"~":h.C0.ESC+"[20~";break;case 121:C.key=a?h.C0.ESC+"[21;"+(a+1)+"~":h.C0.ESC+"[21~";break;case 122:C.key=a?h.C0.ESC+"[23;"+(a+1)+"~":h.C0.ESC+"[23~";break;case 123:C.key=a?h.C0.ESC+"[24;"+(a+1)+"~":h.C0.ESC+"[24~";break;default:if(!v.ctrlKey||v.shiftKey||v.altKey||v.metaKey)if(x&&!D||!v.altKey||v.metaKey)!x||v.altKey||v.ctrlKey||v.shiftKey||!v.metaKey?v.key&&!v.ctrlKey&&!v.altKey&&!v.metaKey&&v.keyCode>=48&&v.key.length===1?C.key=v.key:v.key&&v.ctrlKey&&(v.key==="_"&&(C.key=h.C0.US),v.key==="@"&&(C.key=h.C0.NUL)):v.keyCode===65&&(C.type=1);else{const o=m[v.keyCode],f=o==null?void 0:o[v.shiftKey?1:0];if(f)C.key=h.C0.ESC+f;else if(v.keyCode>=65&&v.keyCode<=90){const d=v.ctrlKey?v.keyCode-64:v.keyCode+32;let g=String.fromCharCode(d);v.shiftKey&&(g=g.toUpperCase()),C.key=h.C0.ESC+g}else if(v.keyCode===32)C.key=h.C0.ESC+(v.ctrlKey?h.C0.NUL:" ");else if(v.key==="Dead"&&v.code.startsWith("Key")){let d=v.code.slice(3,4);v.shiftKey||(d=d.toLowerCase()),C.key=h.C0.ESC+d,C.cancel=!0}}else v.keyCode>=65&&v.keyCode<=90?C.key=String.fromCharCode(v.keyCode-64):v.keyCode===32?C.key=h.C0.NUL:v.keyCode>=51&&v.keyCode<=55?C.key=String.fromCharCode(v.keyCode-51+27):v.keyCode===56?C.key=h.C0.DEL:v.keyCode===219?C.key=h.C0.ESC:v.keyCode===220?C.key=h.C0.FS:v.keyCode===221&&(C.key=h.C0.GS)}return C}},482:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},l.utf32ToString=function(u,h=0,m=u.length){let v="";for(let S=h;S<m;++S){let x=u[S];x>65535?(x-=65536,v+=String.fromCharCode(55296+(x>>10))+String.fromCharCode(x%1024+56320)):v+=String.fromCharCode(x)}return v},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,h){const m=u.length;if(!m)return 0;let v=0,S=0;if(this._interim){const x=u.charCodeAt(S++);56320<=x&&x<=57343?h[v++]=1024*(this._interim-55296)+x-56320+65536:(h[v++]=this._interim,h[v++]=x),this._interim=0}for(let x=S;x<m;++x){const D=u.charCodeAt(x);if(55296<=D&&D<=56319){if(++x>=m)return this._interim=D,v;const C=u.charCodeAt(x);56320<=C&&C<=57343?h[v++]=1024*(D-55296)+C-56320+65536:(h[v++]=D,h[v++]=C)}else D!==65279&&(h[v++]=D)}return v}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,h){const m=u.length;if(!m)return 0;let v,S,x,D,C=0,a=0,o=0;if(this.interim[0]){let g=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let R,H=0;for(;(R=63&this.interim[++H])&&H<4;)w<<=6,w|=R;const b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,B=b-H;for(;o<B;){if(o>=m)return 0;if(R=u[o++],(192&R)!=128){o--,g=!0;break}this.interim[H++]=R,w<<=6,w|=63&R}g||(b===2?w<128?o--:h[C++]=w:b===3?w<2048||w>=55296&&w<=57343||w===65279||(h[C++]=w):w<65536||w>1114111||(h[C++]=w)),this.interim.fill(0)}const f=m-4;let d=o;for(;d<m;){for(;!(!(d<f)||128&(v=u[d])||128&(S=u[d+1])||128&(x=u[d+2])||128&(D=u[d+3]));)h[C++]=v,h[C++]=S,h[C++]=x,h[C++]=D,d+=4;if(v=u[d++],v<128)h[C++]=v;else if((224&v)==192){if(d>=m)return this.interim[0]=v,C;if(S=u[d++],(192&S)!=128){d--;continue}if(a=(31&v)<<6|63&S,a<128){d--;continue}h[C++]=a}else if((240&v)==224){if(d>=m)return this.interim[0]=v,C;if(S=u[d++],(192&S)!=128){d--;continue}if(d>=m)return this.interim[0]=v,this.interim[1]=S,C;if(x=u[d++],(192&x)!=128){d--;continue}if(a=(15&v)<<12|(63&S)<<6|63&x,a<2048||a>=55296&&a<=57343||a===65279)continue;h[C++]=a}else if((248&v)==240){if(d>=m)return this.interim[0]=v,C;if(S=u[d++],(192&S)!=128){d--;continue}if(d>=m)return this.interim[0]=v,this.interim[1]=S,C;if(x=u[d++],(192&x)!=128){d--;continue}if(d>=m)return this.interim[0]=v,this.interim[1]=S,this.interim[2]=x,C;if(D=u[d++],(192&D)!=128){d--;continue}if(a=(7&v)<<18|(63&S)<<12|(63&x)<<6|63&D,a<65536||a>1114111)continue;h[C++]=a}}return C}}},225:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let m;l.UnicodeV6=class{constructor(){if(this.version="6",!m){m=new Uint8Array(65536),m.fill(1),m[0]=0,m.fill(0,1,32),m.fill(0,127,160),m.fill(2,4352,4448),m[9001]=2,m[9002]=2,m.fill(2,11904,42192),m[12351]=1,m.fill(2,44032,55204),m.fill(2,63744,64256),m.fill(2,65040,65050),m.fill(2,65072,65136),m.fill(2,65280,65377),m.fill(2,65504,65511);for(let v=0;v<u.length;++v)m.fill(0,u[v][0],u[v][1]+1)}}wcwidth(v){return v<32?0:v<127?1:v<65536?m[v]:function(S,x){let D,C=0,a=x.length-1;if(S<x[0][0]||S>x[a][1])return!1;for(;a>=C;)if(D=C+a>>1,S>x[D][1])C=D+1;else{if(!(S<x[D][0]))return!0;a=D-1}return!1}(v,h)?0:v>=131072&&v<=196605||v>=196608&&v<=262141?2:1}}},5981:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const h=u(8460),m=u(844);class v extends m.Disposable{constructor(x){super(),this._action=x,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(x,D){if(D!==void 0&&this._syncCalls>D)return void(this._syncCalls=0);if(this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let C;for(this._isSyncWriting=!0;C=this._writeBuffer.shift();){this._action(C);const a=this._callbacks.shift();a&&a()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(x,D){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(D),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(D)}_innerWrite(x=0,D=!0){const C=x||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const a=this._writeBuffer[this._bufferOffset],o=this._action(a,D);if(o){const d=g=>Date.now()-C>=12?setTimeout(()=>this._innerWrite(0,g)):this._innerWrite(C,g);return void o.catch(g=>(queueMicrotask(()=>{throw g}),Promise.resolve(!1))).then(d)}const f=this._callbacks[this._bufferOffset];if(f&&f(),this._bufferOffset++,this._pendingData-=a.length,Date.now()-C>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}l.WriteBuffer=v},5941:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function m(v,S){const x=v.toString(16),D=x.length<2?"0"+x:x;switch(S){case 4:return x[0];case 8:return D;case 12:return(D+D).slice(0,3);default:return D+D}}l.parseColor=function(v){if(!v)return;let S=v.toLowerCase();if(S.indexOf("rgb:")===0){S=S.slice(4);const x=u.exec(S);if(x){const D=x[1]?15:x[4]?255:x[7]?4095:65535;return[Math.round(parseInt(x[1]||x[4]||x[7]||x[10],16)/D*255),Math.round(parseInt(x[2]||x[5]||x[8]||x[11],16)/D*255),Math.round(parseInt(x[3]||x[6]||x[9]||x[12],16)/D*255)]}}else if(S.indexOf("#")===0&&(S=S.slice(1),h.exec(S)&&[3,6,9,12].includes(S.length))){const x=S.length/3,D=[0,0,0];for(let C=0;C<3;++C){const a=parseInt(S.slice(x*C,x*C+x),16);D[C]=x===1?a<<4:x===2?a:x===3?a>>4:a>>8}return D}},l.toRgbString=function(v,S=16){const[x,D,C]=v;return`rgb:${m(x,S)}/${m(D,S)}/${m(C,S)}`}},5770:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const h=u(482),m=u(8742),v=u(5770),S=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=S,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=S}registerHandler(D,C){this._handlers[D]===void 0&&(this._handlers[D]=[]);const a=this._handlers[D];return a.push(C),{dispose:()=>{const o=a.indexOf(C);o!==-1&&a.splice(o,1)}}}clearHandler(D){this._handlers[D]&&delete this._handlers[D]}setHandlerFallback(D){this._handlerFb=D}reset(){if(this._active.length)for(let D=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;D>=0;--D)this._active[D].unhook(!1);this._stack.paused=!1,this._active=S,this._ident=0}hook(D,C){if(this.reset(),this._ident=D,this._active=this._handlers[D]||S,this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].hook(C);else this._handlerFb(this._ident,"HOOK",C)}put(D,C,a){if(this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].put(D,C,a);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(D,C,a))}unhook(D,C=!0){if(this._active.length){let a=!1,o=this._active.length-1,f=!1;if(this._stack.paused&&(o=this._stack.loopPosition-1,a=C,f=this._stack.fallThrough,this._stack.paused=!1),!f&&a===!1){for(;o>=0&&(a=this._active[o].unhook(D),a!==!0);o--)if(a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!1,a;o--}for(;o>=0;o--)if(a=this._active[o].unhook(!1),a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!0,a}else this._handlerFb(this._ident,"UNHOOK",D);this._active=S,this._ident=0}};const x=new m.Params;x.addParam(0),l.DcsHandler=class{constructor(D){this._handler=D,this._data="",this._params=x,this._hitLimit=!1}hook(D){this._params=D.length>1||D.params[0]?D.clone():x,this._data="",this._hitLimit=!1}put(D,C,a){this._hitLimit||(this._data+=(0,h.utf32ToString)(D,C,a),this._data.length>v.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(D){let C=!1;if(this._hitLimit)C=!1;else if(D&&(C=this._handler(this._data,this._params),C instanceof Promise))return C.then(a=>(this._params=x,this._data="",this._hitLimit=!1,a));return this._params=x,this._data="",this._hitLimit=!1,C}}},2015:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const h=u(844),m=u(8742),v=u(6242),S=u(6351);class x{constructor(o){this.table=new Uint8Array(o)}setDefault(o,f){this.table.fill(o<<4|f)}add(o,f,d,g){this.table[f<<8|o]=d<<4|g}addMany(o,f,d,g){for(let w=0;w<o.length;w++)this.table[f<<8|o[w]]=d<<4|g}}l.TransitionTable=x;const D=160;l.VT500_TRANSITION_TABLE=function(){const a=new x(4095),o=Array.apply(null,Array(256)).map((H,b)=>b),f=(H,b)=>o.slice(H,b),d=f(32,127),g=f(0,24);g.push(25),g.push.apply(g,f(28,32));const w=f(0,14);let R;for(R in a.setDefault(1,0),a.addMany(d,0,2,0),w)a.addMany([24,26,153,154],R,3,0),a.addMany(f(128,144),R,3,0),a.addMany(f(144,152),R,3,0),a.add(156,R,0,0),a.add(27,R,11,1),a.add(157,R,4,8),a.addMany([152,158,159],R,0,7),a.add(155,R,11,3),a.add(144,R,11,9);return a.addMany(g,0,3,0),a.addMany(g,1,3,1),a.add(127,1,0,1),a.addMany(g,8,0,8),a.addMany(g,3,3,3),a.add(127,3,0,3),a.addMany(g,4,3,4),a.add(127,4,0,4),a.addMany(g,6,3,6),a.addMany(g,5,3,5),a.add(127,5,0,5),a.addMany(g,2,3,2),a.add(127,2,0,2),a.add(93,1,4,8),a.addMany(d,8,5,8),a.add(127,8,5,8),a.addMany([156,27,24,26,7],8,6,0),a.addMany(f(28,32),8,0,8),a.addMany([88,94,95],1,0,7),a.addMany(d,7,0,7),a.addMany(g,7,0,7),a.add(156,7,0,0),a.add(127,7,0,7),a.add(91,1,11,3),a.addMany(f(64,127),3,7,0),a.addMany(f(48,60),3,8,4),a.addMany([60,61,62,63],3,9,4),a.addMany(f(48,60),4,8,4),a.addMany(f(64,127),4,7,0),a.addMany([60,61,62,63],4,0,6),a.addMany(f(32,64),6,0,6),a.add(127,6,0,6),a.addMany(f(64,127),6,0,0),a.addMany(f(32,48),3,9,5),a.addMany(f(32,48),5,9,5),a.addMany(f(48,64),5,0,6),a.addMany(f(64,127),5,7,0),a.addMany(f(32,48),4,9,5),a.addMany(f(32,48),1,9,2),a.addMany(f(32,48),2,9,2),a.addMany(f(48,127),2,10,0),a.addMany(f(48,80),1,10,0),a.addMany(f(81,88),1,10,0),a.addMany([89,90,92],1,10,0),a.addMany(f(96,127),1,10,0),a.add(80,1,11,9),a.addMany(g,9,0,9),a.add(127,9,0,9),a.addMany(f(28,32),9,0,9),a.addMany(f(32,48),9,9,12),a.addMany(f(48,60),9,8,10),a.addMany([60,61,62,63],9,9,10),a.addMany(g,11,0,11),a.addMany(f(32,128),11,0,11),a.addMany(f(28,32),11,0,11),a.addMany(g,10,0,10),a.add(127,10,0,10),a.addMany(f(28,32),10,0,10),a.addMany(f(48,60),10,8,10),a.addMany([60,61,62,63],10,0,11),a.addMany(f(32,48),10,9,12),a.addMany(g,12,0,12),a.add(127,12,0,12),a.addMany(f(28,32),12,0,12),a.addMany(f(32,48),12,9,12),a.addMany(f(48,64),12,0,11),a.addMany(f(64,127),12,12,13),a.addMany(f(64,127),10,12,13),a.addMany(f(64,127),9,12,13),a.addMany(g,13,13,13),a.addMany(d,13,13,13),a.add(127,13,0,13),a.addMany([27,156,24,26],13,14,0),a.add(D,0,2,0),a.add(D,8,5,8),a.add(D,6,0,6),a.add(D,11,0,11),a.add(D,13,13,13),a}();class C extends h.Disposable{constructor(o=l.VT500_TRANSITION_TABLE){super(),this._transitions=o,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new m.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(f,d,g)=>{},this._executeHandlerFb=f=>{},this._csiHandlerFb=(f,d)=>{},this._escHandlerFb=f=>{},this._errorHandlerFb=f=>f,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new v.OscParser),this._dcsParser=this.register(new S.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(o,f=[64,126]){let d=0;if(o.prefix){if(o.prefix.length>1)throw new Error("only one byte as prefix supported");if(d=o.prefix.charCodeAt(0),d&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(o.intermediates){if(o.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<o.intermediates.length;++w){const R=o.intermediates.charCodeAt(w);if(32>R||R>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=R}}if(o.final.length!==1)throw new Error("final must be a single byte");const g=o.final.charCodeAt(0);if(f[0]>g||g>f[1])throw new Error(`final must be in range ${f[0]} .. ${f[1]}`);return d<<=8,d|=g,d}identToString(o){const f=[];for(;o;)f.push(String.fromCharCode(255&o)),o>>=8;return f.reverse().join("")}setPrintHandler(o){this._printHandler=o}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(o,f){const d=this._identifier(o,[48,126]);this._escHandlers[d]===void 0&&(this._escHandlers[d]=[]);const g=this._escHandlers[d];return g.push(f),{dispose:()=>{const w=g.indexOf(f);w!==-1&&g.splice(w,1)}}}clearEscHandler(o){this._escHandlers[this._identifier(o,[48,126])]&&delete this._escHandlers[this._identifier(o,[48,126])]}setEscHandlerFallback(o){this._escHandlerFb=o}setExecuteHandler(o,f){this._executeHandlers[o.charCodeAt(0)]=f}clearExecuteHandler(o){this._executeHandlers[o.charCodeAt(0)]&&delete this._executeHandlers[o.charCodeAt(0)]}setExecuteHandlerFallback(o){this._executeHandlerFb=o}registerCsiHandler(o,f){const d=this._identifier(o);this._csiHandlers[d]===void 0&&(this._csiHandlers[d]=[]);const g=this._csiHandlers[d];return g.push(f),{dispose:()=>{const w=g.indexOf(f);w!==-1&&g.splice(w,1)}}}clearCsiHandler(o){this._csiHandlers[this._identifier(o)]&&delete this._csiHandlers[this._identifier(o)]}setCsiHandlerFallback(o){this._csiHandlerFb=o}registerDcsHandler(o,f){return this._dcsParser.registerHandler(this._identifier(o),f)}clearDcsHandler(o){this._dcsParser.clearHandler(this._identifier(o))}setDcsHandlerFallback(o){this._dcsParser.setHandlerFallback(o)}registerOscHandler(o,f){return this._oscParser.registerHandler(o,f)}clearOscHandler(o){this._oscParser.clearHandler(o)}setOscHandlerFallback(o){this._oscParser.setHandlerFallback(o)}setErrorHandler(o){this._errorHandler=o}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(o,f,d,g,w){this._parseStack.state=o,this._parseStack.handlers=f,this._parseStack.handlerPos=d,this._parseStack.transition=g,this._parseStack.chunkPos=w}parse(o,f,d){let g,w=0,R=0,H=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,H=this._parseStack.chunkPos+1;else{if(d===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const b=this._parseStack.handlers;let B=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(d===!1&&B>-1){for(;B>=0&&(g=b[B](this._params),g!==!0);B--)if(g instanceof Promise)return this._parseStack.handlerPos=B,g}this._parseStack.handlers=[];break;case 4:if(d===!1&&B>-1){for(;B>=0&&(g=b[B](),g!==!0);B--)if(g instanceof Promise)return this._parseStack.handlerPos=B,g}this._parseStack.handlers=[];break;case 6:if(w=o[this._parseStack.chunkPos],g=this._dcsParser.unhook(w!==24&&w!==26,d),g)return g;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=o[this._parseStack.chunkPos],g=this._oscParser.end(w!==24&&w!==26,d),g)return g;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,H=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let b=H;b<f;++b){switch(w=o[b],R=this._transitions.table[this.currentState<<8|(w<160?w:D)],R>>4){case 2:for(let X=b+1;;++X){if(X>=f||(w=o[X])<32||w>126&&w<D){this._printHandler(o,b,X),b=X-1;break}if(++X>=f||(w=o[X])<32||w>126&&w<D){this._printHandler(o,b,X),b=X-1;break}if(++X>=f||(w=o[X])<32||w>126&&w<D){this._printHandler(o,b,X),b=X-1;break}if(++X>=f||(w=o[X])<32||w>126&&w<D){this._printHandler(o,b,X),b=X-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:b,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const B=this._csiHandlers[this._collect<<8|w];let I=B?B.length-1:-1;for(;I>=0&&(g=B[I](this._params),g!==!0);I--)if(g instanceof Promise)return this._preserveStack(3,B,I,R,b),g;I<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++b<f&&(w=o[b])>47&&w<60);b--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const Y=this._escHandlers[this._collect<<8|w];let $=Y?Y.length-1:-1;for(;$>=0&&(g=Y[$](),g!==!0);$--)if(g instanceof Promise)return this._preserveStack(4,Y,$,R,b),g;$<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let X=b+1;;++X)if(X>=f||(w=o[X])===24||w===26||w===27||w>127&&w<D){this._dcsParser.put(o,b,X),b=X-1;break}break;case 14:if(g=this._dcsParser.unhook(w!==24&&w!==26),g)return this._preserveStack(6,[],0,R,b),g;w===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let X=b+1;;X++)if(X>=f||(w=o[X])<32||w>127&&w<D){this._oscParser.put(o,b,X),b=X-1;break}break;case 6:if(g=this._oscParser.end(w!==24&&w!==26),g)return this._preserveStack(5,[],0,R,b),g;w===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&R}}}l.EscapeSequenceParser=C},6242:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const h=u(5770),m=u(482),v=[];l.OscParser=class{constructor(){this._state=0,this._active=v,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(S,x){this._handlers[S]===void 0&&(this._handlers[S]=[]);const D=this._handlers[S];return D.push(x),{dispose:()=>{const C=D.indexOf(x);C!==-1&&D.splice(C,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}reset(){if(this._state===2)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].end(!1);this._stack.paused=!1,this._active=v,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||v,this._active.length)for(let S=this._active.length-1;S>=0;S--)this._active[S].start();else this._handlerFb(this._id,"START")}_put(S,x,D){if(this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].put(S,x,D);else this._handlerFb(this._id,"PUT",(0,m.utf32ToString)(S,x,D))}start(){this.reset(),this._state=1}put(S,x,D){if(this._state!==3){if(this._state===1)for(;x<D;){const C=S[x++];if(C===59){this._state=2,this._start();break}if(C<48||57<C)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+C-48}this._state===2&&D-x>0&&this._put(S,x,D)}}end(S,x=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let D=!1,C=this._active.length-1,a=!1;if(this._stack.paused&&(C=this._stack.loopPosition-1,D=x,a=this._stack.fallThrough,this._stack.paused=!1),!a&&D===!1){for(;C>=0&&(D=this._active[C].end(S),D!==!0);C--)if(D instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!1,D;C--}for(;C>=0;C--)if(D=this._active[C].end(!1),D instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!0,D}else this._handlerFb(this._id,"END",S);this._active=v,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(S){this._handler=S,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(S,x,D){this._hitLimit||(this._data+=(0,m.utf32ToString)(S,x,D),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(S){let x=!1;if(this._hitLimit)x=!1;else if(S&&(x=this._handler(this._data),x instanceof Promise))return x.then(D=>(this._data="",this._hitLimit=!1,D));return this._data="",this._hitLimit=!1,x}}},8742:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const u=2147483647;class h{static fromArray(v){const S=new h;if(!v.length)return S;for(let x=Array.isArray(v[0])?1:0;x<v.length;++x){const D=v[x];if(Array.isArray(D))for(let C=0;C<D.length;++C)S.addSubParam(D[C]);else S.addParam(D)}return S}constructor(v=32,S=32){if(this.maxLength=v,this.maxSubParamsLength=S,S>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(v),this.length=0,this._subParams=new Int32Array(S),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(v),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const v=new h(this.maxLength,this.maxSubParamsLength);return v.params.set(this.params),v.length=this.length,v._subParams.set(this._subParams),v._subParamsLength=this._subParamsLength,v._subParamsIdx.set(this._subParamsIdx),v._rejectDigits=this._rejectDigits,v._rejectSubDigits=this._rejectSubDigits,v._digitIsSub=this._digitIsSub,v}toArray(){const v=[];for(let S=0;S<this.length;++S){v.push(this.params[S]);const x=this._subParamsIdx[S]>>8,D=255&this._subParamsIdx[S];D-x>0&&v.push(Array.prototype.slice.call(this._subParams,x,D))}return v}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(v){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(v<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=v>u?u:v}}addSubParam(v){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(v<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=v>u?u:v,this._subParamsIdx[this.length-1]++}}hasSubParams(v){return(255&this._subParamsIdx[v])-(this._subParamsIdx[v]>>8)>0}getSubParams(v){const S=this._subParamsIdx[v]>>8,x=255&this._subParamsIdx[v];return x-S>0?this._subParams.subarray(S,x):null}getSubParamsAll(){const v={};for(let S=0;S<this.length;++S){const x=this._subParamsIdx[S]>>8,D=255&this._subParamsIdx[S];D-x>0&&(v[S]=this._subParams.slice(x,D))}return v}addDigit(v){let S;if(this._rejectDigits||!(S=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const x=this._digitIsSub?this._subParams:this.params,D=x[S-1];x[S-1]=~D?Math.min(10*D+v,u):v}}l.Params=h},5741:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,h){const m={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(m),h.dispose=()=>this._wrappedAddonDispose(m),h.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let h=-1;for(let m=0;m<this._addons.length;m++)if(this._addons[m]===u){h=m;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(h,1)}}},8771:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const h=u(3785),m=u(511);l.BufferApiView=class{constructor(v,S){this._buffer=v,this.type=S}init(v){return this._buffer=v,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(v){const S=this._buffer.lines.get(v);if(S)return new h.BufferLineApiView(S)}getNullCell(){return new m.CellData}}},3785:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const h=u(511);l.BufferLineApiView=class{constructor(m){this._line=m}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(m,v){if(!(m<0||m>=this._line.length))return v?(this._line.loadCell(m,v),v):this._line.loadCell(m,new h.CellData)}translateToString(m,v,S){return this._line.translateToString(m,v,S)}}},8285:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const h=u(8771),m=u(8460),v=u(844);class S extends v.Disposable{constructor(D){super(),this._core=D,this._onBufferChange=this.register(new m.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}l.BufferNamespaceApi=S},7975:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,h){return this._core.registerCsiHandler(u,m=>h(m.toArray()))}addCsiHandler(u,h){return this.registerCsiHandler(u,h)}registerDcsHandler(u,h){return this._core.registerDcsHandler(u,(m,v)=>h(m,v.toArray()))}addDcsHandler(u,h){return this.registerDcsHandler(u,h)}registerEscHandler(u,h){return this._core.registerEscHandler(u,h)}addEscHandler(u,h){return this.registerEscHandler(u,h)}registerOscHandler(u,h){return this._core.registerOscHandler(u,h)}addOscHandler(u,h){return this.registerOscHandler(u,h)}}},7090:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,R=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(R=(w<3?g(R):w>3?g(o,f,R):g(o,f))||R);return w>3&&R&&Object.defineProperty(o,f,R),R},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const v=u(8460),S=u(844),x=u(5295),D=u(2585);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let C=l.BufferService=class extends S.Disposable{get buffer(){return this.buffers.active}constructor(a){super(),this.isUserScrolling=!1,this._onResize=this.register(new v.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new v.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(a.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(a.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new x.BufferSet(a,this))}resize(a,o){this.cols=a,this.rows=o,this.buffers.resize(a,o),this._onResize.fire({cols:a,rows:o})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(a,o=!1){const f=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===a.fg&&d.getBg(0)===a.bg||(d=f.getBlankLine(a,o),this._cachedBlankLine=d),d.isWrapped=o;const g=f.ybase+f.scrollTop,w=f.ybase+f.scrollBottom;if(f.scrollTop===0){const R=f.lines.isFull;w===f.lines.length-1?R?f.lines.recycle().copyFrom(d):f.lines.push(d.clone()):f.lines.splice(w+1,0,d.clone()),R?this.isUserScrolling&&(f.ydisp=Math.max(f.ydisp-1,0)):(f.ybase++,this.isUserScrolling||f.ydisp++)}else{const R=w-g+1;f.lines.shiftElements(g+1,R-1,-1),f.lines.set(w,d.clone())}this.isUserScrolling||(f.ydisp=f.ybase),this._onScroll.fire(f.ydisp)}scrollLines(a,o,f){const d=this.buffer;if(a<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else a+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const g=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+a,d.ybase),0),g!==d.ydisp&&(o||this._onScroll.fire(d.ydisp))}};l.BufferService=C=h([m(0,D.IOptionsService)],C)},7994:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,h){this._charsets[u]=h,this.glevel===u&&(this.charset=h)}}},1753:function(L,l,u){var h=this&&this.__decorate||function(d,g,w,R){var H,b=arguments.length,B=b<3?g:R===null?R=Object.getOwnPropertyDescriptor(g,w):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(d,g,w,R);else for(var I=d.length-1;I>=0;I--)(H=d[I])&&(B=(b<3?H(B):b>3?H(g,w,B):H(g,w))||B);return b>3&&B&&Object.defineProperty(g,w,B),B},m=this&&this.__param||function(d,g){return function(w,R){g(w,R,d)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const v=u(2585),S=u(8460),x=u(844),D={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:d=>d.button!==4&&d.action===1&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)},VT200:{events:19,restrict:d=>d.action!==32},DRAG:{events:23,restrict:d=>d.action!==32||d.button!==3},ANY:{events:31,restrict:d=>!0}};function C(d,g){let w=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return d.button===4?(w|=64,w|=d.action):(w|=3&d.button,4&d.button&&(w|=64),8&d.button&&(w|=128),d.action===32?w|=32:d.action!==0||g||(w|=3)),w}const a=String.fromCharCode,o={DEFAULT:d=>{const g=[C(d,!1)+32,d.col+32,d.row+32];return g[0]>255||g[1]>255||g[2]>255?"":`\x1B[M${a(g[0])}${a(g[1])}${a(g[2])}`},SGR:d=>{const g=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${C(d,!0)};${d.col};${d.row}${g}`},SGR_PIXELS:d=>{const g=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${C(d,!0)};${d.x};${d.y}${g}`}};let f=l.CoreMouseService=class extends x.Disposable{constructor(d,g){super(),this._bufferService=d,this._coreService=g,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new S.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(D))this.addProtocol(w,D[w]);for(const w of Object.keys(o))this.addEncoding(w,o[w]);this.reset()}addProtocol(d,g){this._protocols[d]=g}addEncoding(d,g){this._encodings[d]=g}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(d){if(!this._protocols[d])throw new Error(`unknown protocol "${d}"`);this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(d){if(!this._encodings[d])throw new Error(`unknown encoding "${d}"`);this._activeEncoding=d}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||d.button===4&&d.action===32||d.button===3&&d.action!==32||d.button!==4&&(d.action===2||d.action===3)||(d.col++,d.row++,d.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,d,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(d))return!1;const g=this._encodings[this._activeEncoding](d);return g&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(g):this._coreService.triggerDataEvent(g,!0)),this._lastEvent=d,!0}explainEvents(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}}_equalEvents(d,g,w){if(w){if(d.x!==g.x||d.y!==g.y)return!1}else if(d.col!==g.col||d.row!==g.row)return!1;return d.button===g.button&&d.action===g.action&&d.ctrl===g.ctrl&&d.alt===g.alt&&d.shift===g.shift}};l.CoreMouseService=f=h([m(0,v.IBufferService),m(1,v.ICoreService)],f)},6975:function(L,l,u){var h=this&&this.__decorate||function(f,d,g,w){var R,H=arguments.length,b=H<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,g):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,d,g,w);else for(var B=f.length-1;B>=0;B--)(R=f[B])&&(b=(H<3?R(b):H>3?R(d,g,b):R(d,g))||b);return H>3&&b&&Object.defineProperty(d,g,b),b},m=this&&this.__param||function(f,d){return function(g,w){d(g,w,f)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const v=u(1439),S=u(8460),x=u(844),D=u(2585),C=Object.freeze({insertMode:!1}),a=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let o=l.CoreService=class extends x.Disposable{constructor(f,d,g){super(),this._bufferService=f,this._logService=d,this._optionsService=g,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new S.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new S.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new S.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new S.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,v.clone)(C),this.decPrivateModes=(0,v.clone)(a)}reset(){this.modes=(0,v.clone)(C),this.decPrivateModes=(0,v.clone)(a)}triggerDataEvent(f,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const g=this._bufferService.buffer;d&&this._optionsService.rawOptions.scrollOnUserInput&&g.ybase!==g.ydisp&&this._onRequestScrollToBottom.fire(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${f}"`,()=>f.split("").map(w=>w.charCodeAt(0))),this._onData.fire(f)}triggerBinaryEvent(f){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${f}"`,()=>f.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(f))}};l.CoreService=o=h([m(0,D.IBufferService),m(1,D.ILogService),m(2,D.IOptionsService)],o)},9074:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const h=u(8055),m=u(8460),v=u(844),S=u(6106);let x=0,D=0;class C extends v.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new S.SortedList(f=>f==null?void 0:f.marker.line),this._onDecorationRegistered=this.register(new m.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new m.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,v.toDisposable)(()=>this.reset()))}registerDecoration(f){if(f.marker.isDisposed)return;const d=new a(f);if(d){const g=d.marker.onDispose(()=>d.dispose());d.onDispose(()=>{d&&(this._decorations.delete(d)&&this._onDecorationRemoved.fire(d),g.dispose())}),this._decorations.insert(d),this._onDecorationRegistered.fire(d)}return d}reset(){for(const f of this._decorations.values())f.dispose();this._decorations.clear()}*getDecorationsAtCell(f,d,g){var w,R,H;let b=0,B=0;for(const I of this._decorations.getKeyIterator(d))b=(w=I.options.x)!==null&&w!==void 0?w:0,B=b+((R=I.options.width)!==null&&R!==void 0?R:1),f>=b&&f<B&&(!g||((H=I.options.layer)!==null&&H!==void 0?H:"bottom")===g)&&(yield I)}forEachDecorationAtCell(f,d,g,w){this._decorations.forEachByKey(d,R=>{var H,b,B;x=(H=R.options.x)!==null&&H!==void 0?H:0,D=x+((b=R.options.width)!==null&&b!==void 0?b:1),f>=x&&f<D&&(!g||((B=R.options.layer)!==null&&B!==void 0?B:"bottom")===g)&&w(R)})}}l.DecorationService=C;class a extends v.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(f){super(),this.options=f,this.onRenderEmitter=this.register(new m.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new m.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=f.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const h=u(2585),m=u(8343);class v{constructor(...x){this._entries=new Map;for(const[D,C]of x)this.set(D,C)}set(x,D){const C=this._entries.get(x);return this._entries.set(x,D),C}forEach(x){for(const[D,C]of this._entries.entries())x(D,C)}has(x){return this._entries.has(x)}get(x){return this._entries.get(x)}}l.ServiceCollection=v,l.InstantiationService=class{constructor(){this._services=new v,this._services.set(h.IInstantiationService,this)}setService(S,x){this._services.set(S,x)}getService(S){return this._services.get(S)}createInstance(S,...x){const D=(0,m.getServiceDependencies)(S).sort((o,f)=>o.index-f.index),C=[];for(const o of D){const f=this._services.get(o.id);if(!f)throw new Error(`[createInstance] ${S.name} depends on UNKNOWN service ${o.id}.`);C.push(f)}const a=D.length>0?D[0].index:x.length;if(x.length!==a)throw new Error(`[createInstance] First service dependency of ${S.name} at position ${a+1} conflicts with ${x.length} static arguments`);return new S(...x,...C)}}},7866:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,R=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(R=(w<3?g(R):w>3?g(o,f,R):g(o,f))||R);return w>3&&R&&Object.defineProperty(o,f,R),R},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.traceCall=l.setTraceLogger=l.LogService=void 0;const v=u(844),S=u(2585),x={trace:S.LogLevelEnum.TRACE,debug:S.LogLevelEnum.DEBUG,info:S.LogLevelEnum.INFO,warn:S.LogLevelEnum.WARN,error:S.LogLevelEnum.ERROR,off:S.LogLevelEnum.OFF};let D,C=l.LogService=class extends v.Disposable{get logLevel(){return this._logLevel}constructor(a){super(),this._optionsService=a,this._logLevel=S.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),D=this}_updateLogLevel(){this._logLevel=x[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(a){for(let o=0;o<a.length;o++)typeof a[o]=="function"&&(a[o]=a[o]())}_log(a,o,f){this._evalLazyOptionalParams(f),a.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+o,...f)}trace(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.TRACE&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.trace.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,a,o)}debug(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.DEBUG&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.debug.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,a,o)}info(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.INFO&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.info.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.info,a,o)}warn(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.WARN&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.warn.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.warn,a,o)}error(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.ERROR&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.error.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.error,a,o)}};l.LogService=C=h([m(0,S.IOptionsService)],C),l.setTraceLogger=function(a){D=a},l.traceCall=function(a,o,f){if(typeof f.value!="function")throw new Error("not supported");const d=f.value;f.value=function(...g){if(D.logLevel!==S.LogLevelEnum.TRACE)return d.apply(this,g);D.trace(`GlyphRenderer#${d.name}(${g.map(R=>JSON.stringify(R)).join(", ")})`);const w=d.apply(this,g);return D.trace(`GlyphRenderer#${d.name} return`,w),w}}},7302:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const h=u(8460),m=u(844),v=u(6114);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:v.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const S=["normal","bold","100","200","300","400","500","600","700","800","900"];class x extends m.Disposable{constructor(C){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const a=Object.assign({},l.DEFAULT_OPTIONS);for(const o in C)if(o in a)try{const f=C[o];a[o]=this._sanitizeAndValidateOption(o,f)}catch(f){console.error(f)}this.rawOptions=a,this.options=Object.assign({},a),this._setupOptions()}onSpecificOptionChange(C,a){return this.onOptionChange(o=>{o===C&&a(this.rawOptions[C])})}onMultipleOptionChange(C,a){return this.onOptionChange(o=>{C.indexOf(o)!==-1&&a()})}_setupOptions(){const C=o=>{if(!(o in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);return this.rawOptions[o]},a=(o,f)=>{if(!(o in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);f=this._sanitizeAndValidateOption(o,f),this.rawOptions[o]!==f&&(this.rawOptions[o]=f,this._onOptionChange.fire(o))};for(const o in this.rawOptions){const f={get:C.bind(this,o),set:a.bind(this,o)};Object.defineProperty(this.options,o,f)}}_sanitizeAndValidateOption(C,a){switch(C){case"cursorStyle":if(a||(a=l.DEFAULT_OPTIONS[C]),!function(o){return o==="block"||o==="underline"||o==="bar"}(a))throw new Error(`"${a}" is not a valid value for ${C}`);break;case"wordSeparator":a||(a=l.DEFAULT_OPTIONS[C]);break;case"fontWeight":case"fontWeightBold":if(typeof a=="number"&&1<=a&&a<=1e3)break;a=S.includes(a)?a:l.DEFAULT_OPTIONS[C];break;case"cursorWidth":a=Math.floor(a);case"lineHeight":case"tabStopWidth":if(a<1)throw new Error(`${C} cannot be less than 1, value: ${a}`);break;case"minimumContrastRatio":a=Math.max(1,Math.min(21,Math.round(10*a)/10));break;case"scrollback":if((a=Math.min(a,4294967295))<0)throw new Error(`${C} cannot be less than 0, value: ${a}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(a<=0)throw new Error(`${C} cannot be less than or equal to 0, value: ${a}`);break;case"rows":case"cols":if(!a&&a!==0)throw new Error(`${C} must be numeric, value: ${a}`);break;case"windowsPty":a=a??{}}return a}}l.OptionsService=x},2660:function(L,l,u){var h=this&&this.__decorate||function(x,D,C,a){var o,f=arguments.length,d=f<3?D:a===null?a=Object.getOwnPropertyDescriptor(D,C):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(x,D,C,a);else for(var g=x.length-1;g>=0;g--)(o=x[g])&&(d=(f<3?o(d):f>3?o(D,C,d):o(D,C))||d);return f>3&&d&&Object.defineProperty(D,C,d),d},m=this&&this.__param||function(x,D){return function(C,a){D(C,a,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const v=u(2585);let S=l.OscLinkService=class{constructor(x){this._bufferService=x,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(x){const D=this._bufferService.buffer;if(x.id===void 0){const g=D.addMarker(D.ybase+D.y),w={data:x,id:this._nextId++,lines:[g]};return g.onDispose(()=>this._removeMarkerFromLink(w,g)),this._dataByLinkId.set(w.id,w),w.id}const C=x,a=this._getEntryIdKey(C),o=this._entriesWithId.get(a);if(o)return this.addLineToLink(o.id,D.ybase+D.y),o.id;const f=D.addMarker(D.ybase+D.y),d={id:this._nextId++,key:this._getEntryIdKey(C),data:C,lines:[f]};return f.onDispose(()=>this._removeMarkerFromLink(d,f)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(x,D){const C=this._dataByLinkId.get(x);if(C&&C.lines.every(a=>a.line!==D)){const a=this._bufferService.buffer.addMarker(D);C.lines.push(a),a.onDispose(()=>this._removeMarkerFromLink(C,a))}}getLinkData(x){var D;return(D=this._dataByLinkId.get(x))===null||D===void 0?void 0:D.data}_getEntryIdKey(x){return`${x.id};;${x.uri}`}_removeMarkerFromLink(x,D){const C=x.lines.indexOf(D);C!==-1&&(x.lines.splice(C,1),x.lines.length===0&&(x.data.id!==void 0&&this._entriesWithId.delete(x.key),this._dataByLinkId.delete(x.id)))}};l.OscLinkService=S=h([m(0,v.IBufferService)],S)},8343:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0;const u="di$target",h="di$dependencies";l.serviceRegistry=new Map,l.getServiceDependencies=function(m){return m[h]||[]},l.createDecorator=function(m){if(l.serviceRegistry.has(m))return l.serviceRegistry.get(m);const v=function(S,x,D){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(C,a,o){a[u]===a?a[h].push({id:C,index:o}):(a[h]=[{id:C,index:o}],a[u]=a)})(v,S,D)};return v.toString=()=>m,l.serviceRegistry.set(m,v),v}},2585:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const h=u(8343);var m;l.IBufferService=(0,h.createDecorator)("BufferService"),l.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),l.ICoreService=(0,h.createDecorator)("CoreService"),l.ICharsetService=(0,h.createDecorator)("CharsetService"),l.IInstantiationService=(0,h.createDecorator)("InstantiationService"),function(v){v[v.TRACE=0]="TRACE",v[v.DEBUG=1]="DEBUG",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.OFF=5]="OFF"}(m||(l.LogLevelEnum=m={})),l.ILogService=(0,h.createDecorator)("LogService"),l.IOptionsService=(0,h.createDecorator)("OptionsService"),l.IOscLinkService=(0,h.createDecorator)("OscLinkService"),l.IUnicodeService=(0,h.createDecorator)("UnicodeService"),l.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const h=u(8460),m=u(225);l.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const v=new m.UnicodeV6;this.register(v),this._active=v.version,this._activeProvider=v}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(v){if(!this._providers[v])throw new Error(`unknown Unicode version "${v}"`);this._active=v,this._activeProvider=this._providers[v],this._onChange.fire(v)}register(v){this._providers[v.version]=v}wcwidth(v){return this._activeProvider.wcwidth(v)}getStringCellWidth(v){let S=0;const x=v.length;for(let D=0;D<x;++D){let C=v.charCodeAt(D);if(55296<=C&&C<=56319){if(++D>=x)return S+this.wcwidth(C);const a=v.charCodeAt(D);56320<=a&&a<=57343?C=1024*(C-55296)+a-56320+65536:S+=this.wcwidth(a)}S+=this.wcwidth(C)}return S}}}},y={};function A(L){var l=y[L];if(l!==void 0)return l.exports;var u=y[L]={exports:{}};return p[L].call(u.exports,u,u.exports,A),u.exports}var k={};return(()=>{var L=k;Object.defineProperty(L,"__esModule",{value:!0}),L.Terminal=void 0;const l=A(9042),u=A(3236),h=A(844),m=A(5741),v=A(8285),S=A(7975),x=A(7090),D=["cols","rows"];class C extends h.Disposable{constructor(o){super(),this._core=this.register(new u.Terminal(o)),this._addonManager=this.register(new m.AddonManager),this._publicOptions=Object.assign({},this._core.options);const f=g=>this._core.options[g],d=(g,w)=>{this._checkReadonlyOptions(g),this._core.options[g]=w};for(const g in this._core.options){const w={get:f.bind(this,g),set:d.bind(this,g)};Object.defineProperty(this._publicOptions,g,w)}}_checkReadonlyOptions(o){if(D.includes(o))throw new Error(`Option "${o}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new S.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new x.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new v.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const o=this._core.coreService.decPrivateModes;let f="none";switch(this._core.coreMouseService.activeProtocol){case"X10":f="x10";break;case"VT200":f="vt200";break;case"DRAG":f="drag";break;case"ANY":f="any"}return{applicationCursorKeysMode:o.applicationCursorKeys,applicationKeypadMode:o.applicationKeypad,bracketedPasteMode:o.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:f,originMode:o.origin,reverseWraparoundMode:o.reverseWraparound,sendFocusMode:o.sendFocus,wraparoundMode:o.wraparound}}get options(){return this._publicOptions}set options(o){for(const f in o)this._publicOptions[f]=o[f]}blur(){this._core.blur()}focus(){this._core.focus()}resize(o,f){this._verifyIntegers(o,f),this._core.resize(o,f)}open(o){this._core.open(o)}attachCustomKeyEventHandler(o){this._core.attachCustomKeyEventHandler(o)}registerLinkProvider(o){return this._core.registerLinkProvider(o)}registerCharacterJoiner(o){return this._checkProposedApi(),this._core.registerCharacterJoiner(o)}deregisterCharacterJoiner(o){this._checkProposedApi(),this._core.deregisterCharacterJoiner(o)}registerMarker(o=0){return this._verifyIntegers(o),this._core.registerMarker(o)}registerDecoration(o){var f,d,g;return this._checkProposedApi(),this._verifyPositiveIntegers((f=o.x)!==null&&f!==void 0?f:0,(d=o.width)!==null&&d!==void 0?d:0,(g=o.height)!==null&&g!==void 0?g:0),this._core.registerDecoration(o)}hasSelection(){return this._core.hasSelection()}select(o,f,d){this._verifyIntegers(o,f,d),this._core.select(o,f,d)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(o,f){this._verifyIntegers(o,f),this._core.selectLines(o,f)}dispose(){super.dispose()}scrollLines(o){this._verifyIntegers(o),this._core.scrollLines(o)}scrollPages(o){this._verifyIntegers(o),this._core.scrollPages(o)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(o){this._verifyIntegers(o),this._core.scrollToLine(o)}clear(){this._core.clear()}write(o,f){this._core.write(o,f)}writeln(o,f){this._core.write(o),this._core.write(`\r
`,f)}paste(o){this._core.paste(o)}refresh(o,f){this._verifyIntegers(o,f),this._core.refresh(o,f)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(o){this._addonManager.loadAddon(this,o)}static get strings(){return l}_verifyIntegers(...o){for(const f of o)if(f===1/0||isNaN(f)||f%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...o){for(const f of o)if(f&&(f===1/0||isNaN(f)||f%1!=0||f<0))throw new Error("This API only accepts positive integers")}}L.Terminal=C})(),k})())}(wc)),wc.exports}var By=My(),xc={exports:{}},d_;function Ly(){return d_||(d_=1,function(r,c){(function(p,y){r.exports=y()})(self,()=>(()=>{var p={};return(()=>{var y=p;Object.defineProperty(y,"__esModule",{value:!0}),y.FitAddon=void 0,y.FitAddon=class{activate(A){this._terminal=A}dispose(){}fit(){const A=this.proposeDimensions();if(!A||!this._terminal||isNaN(A.cols)||isNaN(A.rows))return;const k=this._terminal._core;this._terminal.rows===A.rows&&this._terminal.cols===A.cols||(k._renderService.clear(),this._terminal.resize(A.cols,A.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const A=this._terminal._core,k=A._renderService.dimensions;if(k.css.cell.width===0||k.css.cell.height===0)return;const L=this._terminal.options.scrollback===0?0:A.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(l.getPropertyValue("height")),h=Math.max(0,parseInt(l.getPropertyValue("width"))),m=window.getComputedStyle(this._terminal.element),v=u-(parseInt(m.getPropertyValue("padding-top"))+parseInt(m.getPropertyValue("padding-bottom"))),S=h-(parseInt(m.getPropertyValue("padding-right"))+parseInt(m.getPropertyValue("padding-left")))-L;return{cols:Math.max(2,Math.floor(S/k.css.cell.width)),rows:Math.max(1,Math.floor(v/k.css.cell.height))}}}})(),p})())}(xc)),xc.exports}var Oy=Ly();const Qa="/DFA_editor/assets/download-CBidcN7E.png";function un(r,c={nodes:[],links:[]}){const p=r.trim().split(`
`).map(C=>C.trim()).filter(Boolean),y=new Map,A=new Map,k=new Map,L=new Map,l=new Set;let u=null;const h=[];p.forEach((C,a)=>{var X,q,G;const o=C.trim().split(/\s+/),f=o[0].toLowerCase(),d=(X=o[1])==null?void 0:X.toLowerCase().trim();switch(f){case"cnode":{if(!d)return{...c,errors:["Usage: cnode [>]?<id>[, [>]?<id>]"]};const z=d.split(",").map(M=>M.trim()).filter(Boolean);z.filter(M=>M.startsWith(">")).length>1?h.push("Only one initial node may be marked with >."):z.forEach(M=>{const N=M.startsWith(">"),E=N?M.slice(1):M,T=L.has(E);if(!T&&(c.nodes.some(W=>W.id===E)||k.has(E))){if(N){const W=k.get(E)||c.nodes.find(Z=>Z.id===E);W&&(W.isInitial=!0),u=E}return}else T&&L.delete(E),k.set(E,{id:E,shape:N?"image":"circle",imageUrl:N?Qa:null,isInitial:N,isFinal:!1}),N&&(u=E)});return}case"dnode":{d?d.split(",").map(P=>P.trim()).filter(Boolean).forEach(P=>{if(c.nodes.some(N=>N.id===P)||k.has(P)||Array.from(A.keys()).some(N=>{const[E,T]=N.split("|");return E===P||T===P})){L.set(P,a),y.has(P)&&y.delete(P);const N=[];for(let[E,T]of A.entries()){const[F,W]=E.split("|");if(F===P||W===P){if(y.has(F)){const Z=y.get(F);for(let ae of T)Z.delete(ae)}N.push(E)}}N.forEach(E=>A.delete(E)),u===P&&(u=null)}else h.push(`Cannot delete "${P}"  node does not exist`)}):h.push("Usage: dnode <id>[,<id>]");return}case"initial":{const z=(q=o[1])==null?void 0:q.trim();if(!z){h.push('Invalid syntax; expected "initial S"');return}if(L.has(z)){h.push(`Cannot set "${z}" as initial  node was deleted`);return}let P=k.get(z)||c.nodes.find(M=>M.id===z);if(P||(P={id:z,isInitial:!1,isFinal:!1,shape:"circle",imageUrl:null},k.set(z,P)),P.isFinal){h.push(`Cannot set final "${z}" as initial`);return}c.nodes.forEach(M=>{M.isInitial&&M.id!==z&&k.set(M.id,{...M,isInitial:!1})}),k.forEach((M,N)=>{M.isInitial&&N!==z&&k.set(N,{...M,isInitial:!1})}),u=z;return}case"final":{d?d.split(",").map(P=>P.trim()).filter(Boolean).forEach(P=>{if(L.has(P))h.push(`Cannot mark "${P}" as final  node was deleted`);else{const M=k.get(P)||c.nodes.find(W=>W.id===P),N=l.has(P),E=u===P;if(!M&&!N){h.push(`Cannot mark "${P}" as final  node does not exist`);return}const T=M??{id:P,shape:"circle",imageUrl:null,isInitial:E,isFinal:!1};if(E){h.push(`Cannot mark initial node "${P}" as final`);return}if(T!=null&&T.isFinal)return;const F={...T,isFinal:!0};k.set(P,F)}}):h.push("Usage: final <id>[,<id>]");return}case"unfinal":{d?d.split(",").map(P=>P.trim()).filter(Boolean).forEach(P=>{if(L.has(P))h.push(`Cannot mark "${P}" as non-final  node was deleted`);else{const M=k.get(P)||c.nodes.find(W=>W.id===P),N=l.has(P),E=u===P;if(!M&&!N){h.push(`Cannot mark "${P}" as non-final  node does not exist`);return}const T=M??{id:P,shape:"circle",imageUrl:null,isInitial:E,isFinal:!1};if(E){h.push(`Cannot mark initial node "${P}" as non-final`);return}if(!(T!=null&&T.isFinal))return;const F={...T,isFinal:!1};k.set(P,F)}}):h.push("Usage: unfinal <id>[,<id>]");return}case"dtrans":{const z=C.trim().split(/\s+/),[P,M,N,E]=z;if(!M||!N){h.push("Usage: dtrans <from> <to> [label]");return}const T=`${M}|${N}`;if(!A.has(T)){h.push(`No edge from "${M}" to "${N}" exists.`);return}if(E){const F=A.get(T);F.has(E)?(F.delete(E),(G=y.get(M))==null||G.delete(E),F.size===0&&A.delete(T)):h.push(`Label "${E}" does not exist on edge from "${M}" to "${N}".`)}else{const F=A.get(T);A.delete(T),F.forEach(W=>{var Z;(Z=y.get(M))==null||Z.delete(W)})}return}case"chtrans":{const z=C.trim().split(/\s+/),[P,M,N,E]=z;if(!M||!N||!E){h.push("Usage: chtrans <from> <to> <label1,label2,...>");return}const T=`${M}|${N}`;if(!A.has(T)){h.push(`No edge from "${M}" to "${N}" exists.`);return}const F=E.split(",").map(ae=>ae.trim()).filter(Boolean),W=y.get(M)||new Set;for(const ae of F)for(const he of A.keys())he.startsWith(M+"|")&&he!==T&&A.get(he).has(ae)&&h.push(`Changing transition would violate determinism: "${M}" already has "${ae}" transition`);const Z=A.get(T);Z.forEach(ae=>W.delete(ae)),Z.clear();for(const ae of F)Z.add(ae),W.add(ae);return}}const[g,w,R]=C.split(/\s+/)||[];if(!g||!w||!R){h.push("Command not found: Use '$manual' or '$help' or '$?' to see the list of commands");return}const H=g.replace(/^>/,"");l.add(H),l.add(w),L.get(H)!==void 0&&L.get(H)<a&&L.delete(H),L.get(w)!==void 0&&L.get(w)<a&&L.delete(w),g.startsWith(">")&&(L.has(H)?h.push(`Cannot assign "${H}" as initial  node was previously deleted`):u===null||u===H?u=H:h.push(`Multiple Initial states detected: "${u}" already set as initial state`)),y.has(H)||y.set(H,new Set);const b=y.get(H),B=`${H}|${w}`;A.has(B)||A.set(B,new Set);const I=A.get(B),Y=R.split(",").map(z=>z.trim()).filter(Boolean),$=new Set;Y.forEach(z=>{if($.has(z)){h.push(`Duplicate label "${z}" in transition from "${H}" to "${w}"`);return}if($.add(z),I.has(z)){h.push(`Duplicate label "${z}" already exists on transition from "${H}" to "${w}"`);return}if(b.has(z)){h.push(`Duplicate input "${z}" from state "${H}" (DFA requires determinism)`);return}I.add(z),b.add(z)})});const m=[];for(let[C,a]of A){const[o,f]=C.split("|");L.has(o)||L.has(f)||m.push({source:o,target:f,label:[...a].join(",")})}const v=new Map;c.nodes.filter(C=>!L.has(C.id)).forEach(C=>v.set(C.id,{...C})),k.forEach(C=>{L.has(C.id)||v.set(C.id,C)}),l.forEach(C=>{!L.has(C)&&!v.has(C)&&v.set(C,{id:C,shape:"circle",imageUrl:null,isInitial:!1,isFinal:!1})});for(const C of v.values())C.isInitial&&(C.isInitial=!1,C.shape="circle",C.imageUrl=null,C.fx=null,C.fy=null);for(const C of v.values())C.id===u&&!L.has(C.id)?(C.isInitial=!0,C.shape="image",C.imageUrl=Qa):(C.isInitial=!1,C.shape="circle",C.imageUrl=null);const S=[];Array.from(v.values()).some(C=>C.isInitial)||S.push("DFA requires one initial state, but none is defined.");const x=[...new Set(m.flatMap(C=>(C.label||"").split(",").map(a=>a.trim()).filter(Boolean)))],D=new Map;m.forEach(C=>{(C.label||"").split(",").map(o=>o.trim()).filter(Boolean).forEach(o=>{D.has(C.source)||D.set(C.source,new Set),D.get(C.source).add(o)})});for(const C of v.values()){const a=D.get(C.id)||new Set;for(const o of x)a.has(o)||S.push(`Node "${C.id}" is missing transition for label "${o}" (DFA requires totality)`)}return k.clear(),{nodes:Array.from(v.values()),links:m,errors:h,reminders:S}}function ky(r,c,p){var a,o,f,d;const y=new Set(r.links.flatMap(g=>(g.label||"").split(",").map(w=>w.trim()).filter(Boolean))),A=new Set(c.links.flatMap(g=>(g.label||"").split(",").map(w=>w.trim()).filter(Boolean)));if([...y].some(g=>!A.has(g))||[...A].some(g=>!y.has(g)))throw new Error("Alphabets differ  cannot build product");const k=[...y],L=__(r.links),l=__(c.links),u=(a=r.nodes.find(g=>g.isInitial))==null?void 0:a.id,h=(o=c.nodes.find(g=>g.isInitial))==null?void 0:o.id;if(!u||!h)throw new Error("Both DFAs need an initial state");const m=new Set(r.nodes.filter(g=>g.isFinal).map(g=>g.id)),v=new Set(c.nodes.filter(g=>g.isFinal).map(g=>g.id)),S=new Map,x=[],D=`${u}|${h}`;S.set(D,{id:D,isInitial:!0,isFinal:p===""?m.has(u)&&v.has(h):m.has(u)||v.has(h),shape:"image",imageUrl:Qa});const C=[D];for(;C.length;){const g=C.shift(),[w,R]=g.split("|");for(const H of k){const b=(f=L[w])==null?void 0:f[H],B=(d=l[R])==null?void 0:d[H];if(b==null||B==null)throw new Error(`Non-total input DFA: missing transition on "${H}" from ${b==null?w:R}`);const I=`${b}|${B}`;S.has(I)||(S.set(I,{id:I,isInitial:!1,isFinal:p===""?m.has(b)&&v.has(B):m.has(b)||v.has(B)}),C.push(I)),x.push({source:g,target:I,label:H})}}return{nodes:[...S.values()],links:x}}function __(r){const c={};return r.forEach(p=>{var k,L;const y=typeof p.source=="string"?p.source:(k=p.source)==null?void 0:k.id,A=typeof p.target=="string"?p.target:(L=p.target)==null?void 0:L.id;(p.label||"").split(",").map(l=>l.trim()).filter(Boolean).forEach(l=>{c[y]??(c[y]={}),c[y][l]=A})}),c}class Hy{constructor(){this.nodes=[],this.unique=new Map,this.cache=new Map,this.FALSE=this.mkConst(!1),this.TRUE=this.mkConst(!0)}mkConst(c){const p=this.nodes.length;return this.nodes.push({var:Number.POSITIVE_INFINITY,lo:p,hi:p,bit:c}),p}mk(c,p,y){if(p===y)return p;const A=`${c},${p},${y}`;if(this.unique.has(A))return this.unique.get(A);const k=this.nodes.length;return this.unique.set(A,k),this.nodes.push({var:c,lo:p,hi:y}),k}ite(c,p,y){if(p===y||c===this.TRUE)return p;if(c===this.FALSE)return y;const A=`I,${c},${p},${y}`;if(this.cache.has(A))return this.cache.get(A);const k=Math.min(this.nodes[c].var,this.nodes[p].var,this.nodes[y].var),L=this.low(c,k),l=this.high(c,k),u=this.low(p,k),h=this.high(p,k),m=this.low(y,k),v=this.high(y,k),S=this.ite(l,h,v),x=this.ite(L,u,m),D=this.mk(k,x,S);return this.cache.set(A,D),D}low(c,p){return this.nodes[c].var===p?this.nodes[c].lo:c}high(c,p){return this.nodes[c].var===p?this.nodes[c].hi:c}and(c,p){return this.ite(c,p,this.FALSE)}or(c,p){return this.ite(c,this.TRUE,p)}not(c){return this.ite(c,this.FALSE,this.TRUE)}exists(c,p){const y=`E,${c},${[...p].sort().join(",")}`;if(this.cache.has(y))return this.cache.get(y);let A;if(c<=1)A=c;else{const{var:k,lo:L,hi:l}=this.nodes[c],u=this.exists(L,p),h=this.exists(l,p);p.has(k)?A=this.or(u,h):A=this.mk(k,u,h)}return this.cache.set(y,A),A}rename(c,p){if(c<=1)return c;const y=[...p.entries()].map(([S,x])=>`${S}:${x}`).join("|"),A=`R,${c},${y}`;if(this.cache.has(A))return this.cache.get(A);const{var:k,lo:L,hi:l}=this.nodes[c],u=this.rename(L,p),h=this.rename(l,p),m=p.has(k)?p.get(k):k,v=this.mk(m,u,h);return this.cache.set(A,v),v}lit(c,p){return p?this.mk(c,this.FALSE,this.TRUE):this.mk(c,this.TRUE,this.FALSE)}toDot(c){let p=`digraph BDD{
  rankdir=TB;
`;const y=new Set,A=k=>{if(y.has(k)||k==null||this.nodes[k]==null)return;y.add(k);const{var:L,lo:l,hi:u}=this.nodes[k];p+=`  ${k} [label="x${L}"];
`,p+=`  ${k} -> ${l} [style=dashed];
`,p+=`  ${k} -> ${u} [style=solid];
`,A(l),A(u)};return p+=`  0 [shape=box,label="0"];  1 [shape=box,label="1"];
`,A(c),p+`}
`}}function Ny(r,c){const A=new Map,k=new Set,L=h=>{if(h<=1||k.has(h))return;k.add(h);const{var:m,lo:v,hi:S}=c.nodes[h];A.has(m)||A.set(m,[]),A.get(m).push(h),L(v),L(S)};L(r);const l=[];for(const[h,m]of[...A.entries()].sort((v,S)=>v[0]-S[0]))m.forEach((v,S)=>l.push({id:`n${v}`,label:`x${h}`,x:90*S,y:120*h}));l.push({id:"0",label:"0",x:-90*2,y:120*(A.size+1),shape:"box"}),l.push({id:"1",label:"1",x:0,y:120*(A.size+1),shape:"box"});const u=[];return l.forEach(h=>{const m=parseInt(h.id.slice(1));if(isNaN(m))return;const{lo:v,hi:S}=c.nodes[m];u.push({source:`n${m}`,target:v<=1?`${v}`:`n${v}`,style:"dashed"}),u.push({source:`n${m}`,target:S<=1?`${S}`:`n${S}`,style:"solid"})}),{nodes:l,links:u}}function v_(r){var X;const c=new Hy,p=r.nodes.map(q=>q.id),y=new Map(p.map((q,G)=>[q,G])),A=p.length,k=Math.max(1,Math.ceil(Math.log2(A))),L=[...new Set(r.links.flatMap(q=>(q.label||"").split(",").map(G=>G.trim()).filter(Boolean)))],l=new Map(L.map((q,G)=>[q,G])),u=Math.max(1,L.length),h=Math.max(0,Math.ceil(Math.log2(u))),m=Array.from({length:k},(q,G)=>G),v=m.length,S=Array.from({length:h},(q,G)=>v+G),x=v+S.length,D=Array.from({length:k},(q,G)=>x+G),C=(q,G)=>c.lit?c.lit(q,G):G?c.mk(q,c.FALSE,c.TRUE):c.mk(q,c.TRUE,c.FALSE),a=(q,G)=>{let z=c.TRUE;for(let P=0;P<q.length;P++){const M=G>>P&1;z=c.and(z,C(q[P],M))}return z},o=q=>a(m,y.get(q)),f=q=>h===0?c.TRUE:a(S,l.get(q)),d=q=>a(D,y.get(q));let g=c.FALSE;for(const q of r.links){const G=typeof q.source=="string"?q.source:q.source.id,z=typeof q.target=="string"?q.target:q.target.id,P=(q.label||"").split(",").map(M=>M.trim()).filter(Boolean);for(const M of P){const N=c.and(c.and(o(G),f(M)),d(z));g=c.or(g,N)}}const w=(X=r.nodes.find(q=>q.isInitial))==null?void 0:X.id,R=w?o(w):c.FALSE;let H=c.FALSE;for(const q of r.nodes.filter(G=>G.isFinal))H=c.or(H,o(q.id));const b=new Set([...m,...S]),B=new Map(D.map((q,G)=>[q,m[G]])),I=q=>{const G=c.and(q,g),z=c.exists(G,b);return c.rename(z,B)},Y=q=>{let G=R;for(const z of q){const P=f(z),M=c.and(G,c.and(g,P)),N=c.exists(M,b);G=c.rename(N,B)}return G};return{mgr:c,I:R,F:H,T:g,xBits:m,aBits:S,xpBits:D,encState:o,encSym:f,post:I,acceptsWord:q=>{const G=Y(q);return c.and(G,H)!==c.FALSE}}}const we=window.__TERM_SINGLETON__||(window.__TERM_SINGLETON__={term:null,fit:null,keySub:null,didInitPrompt:!1,rawLines:[],history:[],mode:"dfa",prevDfa:null,undoStack:[],dfaLeft:null,dfaRight:null});function zy({graphData:r,setGraphData:c,onReset:p,setViewMode:y}){const A=Te.useRef(null),k=Te.useRef(null),L=Te.useRef(null),l=Te.useRef(null),u=Te.useRef(null),h=Te.useRef(""),m=Te.useRef([]),v=Te.useRef([]),S=Te.useRef(!1),x=Te.useRef(r),D=Te.useRef(null),C=Te.useRef([]),a=Te.useRef("dfa");return Te.useEffect(()=>{x.current=r},[r]),Te.useEffect(()=>{var d;if(we.term||(we.term=new By.Terminal({cursorBlink:!0,rows:10,scrollback:2e3,theme:{background:"#1e1e1e",foreground:"#ffffff"}}),we.fit=new Oy.FitAddon,we.term.loadAddon(we.fit)),k.current=we.term,L.current=we.fit,A.current){A.current.innerHTML="",k.current.open(A.current);try{L.current.fit()}catch{}k.current.focus()}m.current=we.rawLines,D.current=we.prevDfa,C.current=we.undoStack,a.current=we.mode||"dfa",we.didInitPrompt||(o(),we.didInitPrompt=!0);try{(d=we.keySub)==null||d.dispose()}catch{}we.keySub=k.current.onKey(({key:g,domEvent:w})=>{var b,B;if(S.current)return;const R=k.current,H=!w.altKey&&!w.ctrlKey&&!w.metaKey;if(w.key==="Enter"){R.write(`\r
`);const I=h.current.trim(),Y=I.trim().split(/\s+/),$=(Y[0]||"").toLowerCase(),X=Y[1]||"";h.current="";const{nodes:q,links:G}=x.current,z=(N,E)=>{const T=new Set(["cnode","dnode","initial","final","unfinal","dtrans","chtrans","complement","union","intersect"]);if(T.has(N))return!0;if(!N||!N.startsWith("$")){const F=(E||"").split(/\s+/);return F.length>=3&&!T.has(F[0])}return!1},P=()=>{R.writeln("\x1B[31mCannot edit BDDs (read-only). Type 'back' to return to DFA view.\x1B[0m"),o()},M=()=>{const{nodes:N,links:E,errors:T}=un(m.current.join(`
`));T!=null&&T.length?T.forEach(F=>R.writeln(`\x1B[31m${F}\x1B[0m`)):(c({nodes:N,links:E}),a.current="dfa",R.writeln("\x1B[35mReturned to DFA view.\x1B[0m")),o()};switch($){case"reset":{if(S.current)return;S.current=!0,R.writeln("\x1B[33mAre you sure? This will clear all progress. Press Y to confirm, any other key to cancel.\x1B[0m");const N=k.current.onKey(({key:E})=>{N.dispose(),S.current=!1,E.toLowerCase()==="y"?(p(),m.current=[],we.rawLines=[],h.current="",v.current=[],a.current="dfa",we.mode="dfa",D.current=null,C.current=[],we.prevDfa=null,we.undoStack=[],y==null||y("dfa"),k.current.clear()):R.writeln("\x1B[33mReset cancelled.\x1B[0m"),o()});return}case"manual":case"help":case"?":{Uy(k.current),o();return}case"back":{if(D.current){c(D.current),D.current=null,we.prevDfa=null,a.current="dfa",we.mode="dfa",y==null||y("dfa"),k.current.writeln("\x1B[35mReturned to DFA view.\x1B[0m"),o();return}M(),a.current="dfa",y==null||y("dfa");return}case"undo":{if(a.current==="bdd")return P();if(C.current.length===0)R.writeln("\x1B[33mNothing to undo\x1B[0m");else{const N=C.current.pop();c(N),m.current=ja(N),we.rawLines=m.current,we.undoStack=C.current;try{const E=m.current.join(`
`),{reminders:T=[],errors:F=[]}=un(E,N);F.forEach(W=>R.writeln(`\x1B[31m${W}\x1B[0m`)),T.forEach(W=>R.writeln(`\x1B[33m${W}\x1B[0m`))}catch(E){R.writeln(`\x1B[31mUndo check failed: ${E.message}\x1B[0m`)}v.current.push({type:"command",text:"$ undo"})}o();return}case"allstates":{if(a.current==="bdd")return P();q.length===0?R.writeln("\x1B[31mNo states defined.\x1B[0m"):R.writeln(`\x1B[33mQ = {${q.map(N=>N.id).join(", ")}}\x1B[0m`),o();return}case"allfinal":{if(a.current==="bdd")return P();const N=q.filter(E=>E.isFinal);N.length===0?R.writeln("\x1B[31mNo final states defined.\x1B[0m"):R.writeln(`\x1B[33mF = {${N.map(E=>E.id).join(", ")}}\x1B[0m`),o();return}case"allinitial":{if(a.current==="bdd")return P();const N=q.filter(E=>E.isInitial);N.length===0?R.writeln("\x1B[31mNo initial state defined.\x1B[0m"):R.writeln(`\x1B[33mq = ${N[0].id}\x1B[0m`),o();return}case"alphabet":{if(a.current==="bdd")return P();const N=new Set;G.forEach(E=>(E.label||"").split(",").map(T=>T.trim()).forEach(T=>T&&N.add(T))),N.size===0?R.writeln("\x1B[31mNo alphabet defined yet.\x1B[0m"):R.writeln(`\x1B[33m = {${[...N].join(", ")}}\x1B[0m`),o();return}case"alltransitions":{if(a.current==="bdd")return P();G.length===0?R.writeln("\x1B[31mNo transitions defined.\x1B[0m"):G.forEach(N=>{(N.label||"").split(",").map(T=>T.trim()).filter(Boolean).forEach(T=>{const F=typeof N.source=="string"?N.source:N.source.id,W=typeof N.target=="string"?N.target:N.target.id;R.writeln(`\x1B[33m(${F}, ${T})  ${W}\x1B[0m`)})}),o();return}case"save":{const N=X||(a.current==="bdd"?"bdd":"dfa");if(a.current==="dfa"){const E=x.current,{reminders:T}=un(m.current.join(`
`),E);if(T.length){T.forEach(W=>R.writeln(`\x1B[31m${W}\x1B[0m`)),R.writeln("\x1B[31mCannot save  DFA is incomplete.\x1B[0m"),o();return}const F=JSON.stringify({nodes:E.nodes,links:E.links},null,2);g_(F,`${N}.json`),R.writeln(`\x1B[33mDFA saved to "${N}.json"\x1B[0m`)}else{const E=JSON.stringify({nodes:q,links:G},null,2);g_(E,`${N}.json`),R.writeln(`\x1B[33mBDD graph saved to "${N}.json"\x1B[0m`)}o();return}case"load":{const N=((b=Y[1])==null?void 0:b.toLowerCase())??"left",E=document.createElement("input");E.type="file",E.accept=".json",E.onchange=async T=>{const F=T.target.files[0];if(F){try{const W=await F.text(),Z=JSON.parse(W),ae=Array.isArray(Z==null?void 0:Z.nodes)&&Z.nodes.some(V=>"isInitial"in V),he=Z.nodes??[],U=Z.links??[];if(ae){const V=he.map(ne=>({...ne,isPinned:ne.isPinned||!1,fx:ne.fx??null,fy:ne.fy??null,shape:ne.isInitial?"image":"circle",imageUrl:ne.isInitial?Qa:null}));c({nodes:V,links:U}),a.current="dfa",N==="left"&&(l.current={nodes:V,links:U}),N==="right"&&(u.current={nodes:V,links:U}),m.current=ja({nodes:V,links:U}),we.rawLines=m.current,a.current="dfa",we.mode="dfa",D.current=null,we.prevDfa=null,y==null||y("dfa"),R.writeln(`\x1B[33mDFA loaded from "${F.name}"\x1B[0m`)}else c({nodes:he,links:U}),a.current="bdd",we.mode="bdd",D.current=null,we.prevDfa=null,y==null||y("bdd"),R.writeln(`\x1B[33mGraph (BDD/Generic) loaded from "${F.name}"\x1B[0m`)}catch(W){R.writeln(`\x1B[31mFailed to load file: ${W.message}\x1B[0m`)}o()}},E.click();return}case"intersect":case"union":{if(a.current==="bdd")return P();if(!l.current||!u.current){k.current.writeln("\x1B[31mLoad two DFAs first (left & right)\x1B[0m");break}const N=$==="intersect"?"":"",E=ky(l.current,u.current,N);c(E),a.current="dfa",we.mode="dfa",v.current.push({type:"command",text:`$ ${$}`}),m.current=ja(E),we.rawLines=m.current,o();return}case"mydfa":{const N=q.map(Z=>Z.id),E=(B=q.find(Z=>Z.isInitial))==null?void 0:B.id,T=q.filter(Z=>Z.isFinal).map(Z=>Z.id),F=new Set,W=[];G.forEach(Z=>{const ae=typeof Z.source=="string"?Z.source:Z.source.id,he=typeof Z.target=="string"?Z.target:Z.target.id;(Z.label||"").split(",").map(V=>V.trim()).filter(Boolean).forEach(V=>{F.add(V),W.push(`(${ae}, ${V})  ${he}`)})}),k.current.writeln(`\x1B[33mQ   = {${N.join(", ")}}\x1B[0m`),k.current.writeln(`\x1B[33m   = {${[...F].join(", ")}}\x1B[0m`),k.current.writeln(`\x1B[33mq  = ${E||"undefined"}\x1B[0m`),k.current.writeln(`\x1B[33mF   = {${T.join(", ")}}\x1B[0m`),k.current.writeln("\x1B[33m   = {\x1B[0m"),W.forEach(Z=>k.current.writeln(`\x1B[33m   ${Z}\x1B[0m`)),k.current.writeln("\x1B[33m}\x1B[0m"),o();return}case"complement":{if(a.current==="bdd")return P();const N=q.map(E=>E.isInitial?E:{...E,isFinal:!E.isFinal});c({nodes:N,links:G}),a.current="dfa",v.current.push({type:"command",text:"$ complement"}),o();return}case"showbdd":{const N=x.current;D.current=JSON.parse(JSON.stringify(x.current)),we.prevDfa=D.current;const{T:E,mgr:T}=v_(N),{nodes:F,links:W}=Ny(E,T);c({nodes:F,links:W}),a.current="bdd",we.mode="bdd",v.current.push({type:"command",text:"$ showbdd"}),k.current.writeln("\x1B[35mEntered BDD view (read-only). Type 'back' to return to DFA.\x1B[0m"),a.current="bdd",y==null||y("bdd"),o();return}case"showmono":{if(a.current==="dfa")return;const N=(Y[1]||"all").toLowerCase(),E=m.current.join(`
`);let T;try{const{nodes:Z,links:ae}=un(E);T=p_(Z,ae)}catch{const{nodes:Z,links:ae}=x.current;T=p_(Z,ae)}const F=jy(T),W=qy(T,F);(N==="i"||N==="all")&&k.current.writeln(Ec("I(x) = "+W.I)),(N==="t"||N==="all")&&k.current.writeln(Ec("T(x,a,x) = "+W.T)),(N==="s"||N==="all")&&k.current.writeln(Ec("S(x) = "+W.S)),a.current="bdd",we.mode="bdd",y==null||y("bdd"),o();return}case"accept":{if(a.current==="bdd"){R.writeln("\x1B[31mCannot run accept in BDD view  type 'back' to return to DFA.\x1B[0m"),o();return}const N=(Y[1]||"").trim();if(!N)R.writeln("\x1B[31mUsage: accept <word>\x1B[0m");else{const E=x.current,{acceptsWord:T}=v_(E),F=T(N.split(""));R.writeln(F?"\x1B[32maccepted\x1B[0m":"\x1B[31mrejected\x1B[0m")}o();return}default:{if(!I){o();return}if(a.current==="bdd"&&z($,I))return P();const N=[...m.current,I],{nodes:E,links:T,errors:F,reminders:W}=un(N.join(`
`),x.current);if(F.length)F.forEach(Z=>R.write(`\x1B[31m${Z}\x1B[0m\r
`)),v.current.push(...F.map(Z=>({type:"error",text:Z})));else{const Z=JSON.parse(JSON.stringify(x.current));C.current.push(Z),we.undoStack=C.current,v.current.push({type:"command",text:`$ ${I}`}),c(ae=>{const he=new Map(ae.nodes.map(V=>[V.id,V]));return{nodes:E.map(V=>{const ne=he.get(V.id);return ne?{...V,isPinned:ne.isPinned,fx:ne.fx,fy:ne.fy}:V}),links:T}}),m.current=ja({nodes:E,links:T}),we.rawLines=m.current,W.forEach(ae=>R.write(`\x1B[33m${ae}\x1B[0m\r
`)),a.current="dfa",we.rawLines=m.current}o()}}}else w.key==="Backspace"?h.current.length>0&&(h.current=h.current.slice(0,-1),k.current.write("\b \b")):H&&(h.current+=g,k.current.write(g))});const f=()=>{try{L.current.fit()}catch{}};return window.addEventListener("resize",f),()=>{var g;try{(g=we.keySub)==null||g.dispose()}catch{}we.keySub=null,window.removeEventListener("resize",f)}},[c]),ee.jsx("div",{ref:A,style:{width:"100%",height:"100%",background:"#1e1e1e",borderRadius:"4px",overflow:"hidden"}});function o(){const d=a.current==="bdd"?"\x1B[35mBD$\x1B[0m ":"\x1B[32m$ \x1B[0m";k.current.write(d)}}function Uy(r){const c=y=>`\x1B[1m\x1B[36m${y}\x1B[0m`,p=y=>`\x1B[33m${y}\x1B[0m`;r.writeln(c("DFA CLI Manual")),r.writeln(c("Building & Editing")),r.writeln(p("$ s s' <labels>")+' : Add transition(s). <labels> can be comma-separated (e.g., "0,1").'),r.writeln(p("$ cnode s1,>s2,s3")+' : Create nodes s1, s2, s3; prefix ">" makes that node initial (e.g., >s2).'),r.writeln(p("$ dnode s1,s2,...")+" : Delete listed nodes and their incident edges."),r.writeln(p("$ initial s1")+" : Mark listed node as initial."),r.writeln(p("$ final s1,s2,...")+" : Mark listed nodes as final."),r.writeln(p("$ unfinal s1,s2,...")+" : Unmark listed nodes as final."),r.writeln(p("$ dtrans s1 s2")+" : Delete all transitions from s1 to s2."),r.writeln(p("$ dtrans s1 s2 i1,i2,...")+" : Delete only s1s2 transitions with these labels."),r.writeln(p("$ chtrans s1 s2 i1,i2,...")+" : Replace ALL labels on s1s2 with i1,i2,... (DFA totality validated)."),r.writeln(c("Introspection")),r.writeln(p("$ mydfa")+" : Print the 5-tuple (Q, , q, F, )."),r.writeln(p("$ allstates")+" : List all states."),r.writeln(p("$ allfinal")+" : List all final states."),r.writeln(p("$ allinitial")+" : Show the initial state (if any)."),r.writeln(p("$ alltransitions")+" : List all transitions."),r.writeln(p("$ alphabet")+" : List the alphabet (transition labels)."),r.writeln(p("$ accept <word>")+' : Check membership; prints "accepted" or "rejected".'),r.writeln(c("Files")),r.writeln(p("$ save <name>")+" : Save current view to <name>.json (DFA enforces completeness; BDD saves as-is)."),r.writeln(p("$ load [right]")+" : Load JSON; DFA goes to DFA view, generic/BDD goes to BDD view."),r.writeln(c("Set Operations")),r.writeln(p("$ union / intersect")+" : Product of left & right DFAs (DFA view only)."),r.writeln(c("BDD / Symbolic")),r.writeln(p("$ showbdd")+" : Show BDD equivalent of the current DFA (enters read-only BDD view)."),r.writeln(p("$ showmono [I|T|S|all]")+" : Print monolithic I, T, S formula part(s)."),r.writeln(p("$ back")+" : Return from BDD view to DFA view."),r.writeln(c("Session")),r.writeln(p("$ undo")+" : Undo the last successful command."),r.writeln(p("$ reset")+" : Clear terminal and canvas.")}function g_(r,c){const p=new Blob([r],{type:"application/json"}),y=URL.createObjectURL(p),A=document.createElement("a");A.href=y,A.download=c,A.click(),URL.revokeObjectURL(y)}function p_(r,c){var l;const p=r.map(u=>u.id),y=((l=r.find(u=>u.isInitial))==null?void 0:l.id)??null,A=r.filter(u=>u.isFinal).map(u=>u.id),k=[...new Set((c||[]).flatMap(u=>(u.label||"").split(",").map(h=>h.trim()).filter(Boolean)))],L=(c||[]).flatMap(u=>{var S,x;const h=typeof u.source=="string"?u.source:(S=u.source)==null?void 0:S.id,m=typeof u.target=="string"?u.target:(x=u.target)==null?void 0:x.id;return(u.label||"").split(",").map(D=>D.trim()).filter(Boolean).map(D=>[h,D,m])});return{Q:p,:k,q0:y,F:A,:L}}function jy(r){const c=[...r.Q].sort(),p=[...r.].sort(),y=Math.max(1,Math.ceil(Math.log2(Math.max(1,c.length)))),A=Math.max(1,Math.ceil(Math.log2(Math.max(1,p.length)))),k=new Map(c.map((l,u)=>[l,kc(u,y)])),L=new Map(p.map((l,u)=>[l,kc(u,A)]));return{qBits:y,aBits:A,encQ:k,encA:L}}function kc(r,c){const p=[];for(let y=0;y<c;y++)p.push(r>>y&1?1:0);return p}function hn(r,c){return r.map((p,y)=>p?`${c}${y}`:`${c}${y}`).join("  ")}function qy(r,c){const p=c.encQ.get(r.q0??r.Q[0])||kc(0,c.qBits),y=hn(p,"x"),A=r.F||[],k=A.length?A.map(u=>`(${hn(c.encQ.get(u),"x'")})`).join("  "):"false",L=r..map(([u,h,m])=>{const v=hn(c.encQ.get(u),"x"),S=hn(c.encA.get(h),"a"),x=hn(c.encQ.get(m),"x'");return`(${v})  (${S})  (${x})`}),l=L.length?L.map(u=>`(${u})`).join("  "):"false";return{I:y,T:l,S:k}}function Ec(r){return`\x1B[36m${r}\x1B[0m`}function ja(r){var l;const c=r.nodes??[],p=r.links??[],y=((l=c.find(u=>u.isInitial))==null?void 0:l.id)||"",A=c.filter(u=>!u.isInitial).map(u=>u.id),k=[],L=[y?">"+y:null,...A].filter(Boolean).join(",");return L&&k.push(`cnode ${L}`),c.filter(u=>u.isFinal&&!u.isInitial).forEach(u=>k.push(`final ${u.id}`)),p.forEach(u=>{const h=typeof u.source=="string"?u.source:u.source.id,m=typeof u.target=="string"?u.target:u.target.id;(u.label||"").split(",").map(v=>v.trim()).filter(Boolean).forEach(v=>k.push(`${h} ${m} ${v}`))}),k}function Iy(){const r=()=>{window.location.hash=""};return ee.jsxs("div",{className:"manual-page",children:[ee.jsxs("div",{className:"manual-header",children:[ee.jsx("button",{className:"back-btn",onClick:r,children:" Back"}),ee.jsx("h1",{children:"Manual"})]}),ee.jsxs("div",{className:"manual-body",children:[ee.jsxs("p",{children:["This DFA CLI visualiser lets you use commands in a terminal-like input box to create, edit and store DFAs. The terminal will generate friendly reminders to achieve totality, report any violations in syntax or determinism.",ee.jsx("br",{})," ",ee.jsx("h3",{children:"The exhaustive list of commands is given below:"})]}),ee.jsx("h2",{children:"Building & Editing"}),ee.jsxs("pre",{children:[ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"<from>"})," ",ee.jsx("span",{className:"arg",children:"<to> <labels>"}),"    ",ee.jsx("span",{className:"desc",children:"Add transition(s). Labels comma-separated (e.g., 0,1)."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"cnode"})," ",ee.jsx("span",{className:"arg",children:"s1,>s2,s3"}),"         ",ee.jsx("span",{className:"desc",children:"Create nodes; prefix > marks the initial."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"dnode"})," ",ee.jsx("span",{className:"arg",children:"s1,s2,..."}),"         ",ee.jsx("span",{className:"desc",children:"Delete nodes (and incident edges)."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"initial"})," ",ee.jsx("span",{className:"arg",children:"s1"}),"              ",ee.jsx("span",{className:"desc",children:"Marks node initial or changes a previuos initial node to current argument."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"final"})," ",ee.jsx("span",{className:"arg",children:"s1,s2,..."}),"         ",ee.jsx("span",{className:"desc",children:"Mark nodes final."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"unfinal"})," ",ee.jsx("span",{className:"arg",children:"s1,s2,..."}),"       ",ee.jsx("span",{className:"desc",children:"Unmark final."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"dtrans"})," ",ee.jsx("span",{className:"arg",children:"s1 s2"}),"            ",ee.jsx("span",{className:"desc",children:"Delete all s1s2 transitions."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"dtrans"})," ",ee.jsx("span",{className:"arg",children:"s1 s2 i1,i2,..."}),"  ",ee.jsx("span",{className:"desc",children:"Delete only those labels."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"chtrans"})," ",ee.jsx("span",{className:"arg",children:"s1 s2 i1,i2,..."})," ",ee.jsx("span",{className:"desc",children:"Replace labels on s1s2."})]})]}),ee.jsx("h2",{children:"Introspection"}),ee.jsxs("pre",{children:[ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"mydfa"}),"            ",ee.jsx("span",{className:"desc",children:"Print 5-tuple (Q, , q, F, )."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"allstates"}),"        ",ee.jsx("span",{className:"desc",children:"List states."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"allfinal"}),"         ",ee.jsx("span",{className:"desc",children:"List final states."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"allinitial"}),"       ",ee.jsx("span",{className:"desc",children:"Show the initial state."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"alltransitions"}),"   ",ee.jsx("span",{className:"desc",children:"List transitions."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"alphabet"}),"         ",ee.jsx("span",{className:"desc",children:"List  (labels)."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"accept"})," ",ee.jsx("span",{className:"arg",children:"<word>"}),"    ",ee.jsx("span",{className:"desc",children:"Check membership (accepted/rejected)."})]})]}),ee.jsx("h2",{children:"Files"}),ee.jsxs("pre",{children:[ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"save"})," ",ee.jsx("span",{className:"arg",children:"<name>"}),"      ",ee.jsx("span",{className:"desc",children:"Save DFA to <name>.json"})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"load"}),"             ",ee.jsx("span",{className:"desc",children:"Load into left slot (default)."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"load"})," ",ee.jsx("span",{className:"arg",children:"right"}),"       ",ee.jsx("span",{className:"desc",children:"Load into right slot."})]})]}),ee.jsx("h2",{children:"Set Operations"}),ee.jsxs("pre",{children:[ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"union"}),"            ",ee.jsx("span",{className:"desc",children:"left  right"})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"intersect"}),"        ",ee.jsx("span",{className:"desc",children:"left  right"})]})]}),ee.jsx("h2",{children:"BDD / Symbolic"}),ee.jsx("span",{className:"note",children:"The BDD represents the monolithic partition of the DFA. Where T is the "}),ee.jsxs("pre",{children:[ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"showbdd"}),"                  ",ee.jsx("span",{className:"desc",children:"Relational BDD T(x, a, x), corresponding to the monolithic representation of the DFA."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"showmono"})," ",ee.jsx("span",{className:"arg",children:"[I|T|S|all]"}),"     ",ee.jsx("span",{className:"desc",children:"Print monolithic I, T, S formula part(s)."})]})]}),ee.jsx("h2",{children:"Session"}),ee.jsxs("pre",{children:[ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"undo"}),"             ",ee.jsx("span",{className:"desc",children:"Undo last successful command."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"reset"}),"            ",ee.jsx("span",{className:"desc",children:"Clear terminal and canvas."})]})]}),ee.jsx("h2",{children:"Help"}),ee.jsxs("pre",{children:[ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"?"}),"                 ",ee.jsx("span",{className:"desc",children:"Print command manual in terinal."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"help"}),"              ",ee.jsx("span",{className:"desc",children:"Print command manual in terinal."})]}),ee.jsxs("span",{className:"ln",children:[ee.jsx("span",{className:"prompt",children:"$"})," ",ee.jsx("span",{className:"cmd",children:"manual"}),"            ",ee.jsx("span",{className:"desc",children:"Print command manual in terinal."})]})]}),ee.jsxs("p",{className:"note",children:["Tips:",ee.jsxs("li",{children:["You can also mark initial inline in transitions:",ee.jsx("code",{children:">a b 1 "}),"."]}),ee.jsxs("li",{children:[ee.jsx("code",{children:"$save"})," is only possible when the created transition system is a DFA."]})]})]})]})}function Py(){document.title="DFA CLI visualizer";const[r,c]=Te.useState({nodes:[],links:[]}),[p,y]=Te.useState(!1),[A,k]=Te.useState("dfa"),L=Te.useRef(null),l=Te.useRef(!1),u=Te.useRef(0),h=Te.useRef(0),[m,v]=Te.useState(()=>window.location.hash.slice(1)||"/");Te.useEffect(()=>{const f=()=>v(window.location.hash.slice(1)||"/");return window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]);const[S,x]=Te.useState(()=>{const f=Number(localStorage.getItem("termHeight"));return Number.isFinite(f)&&f>0?f:240}),[D,C]=Te.useState(!1);Te.useEffect(()=>{localStorage.setItem("termHeight",String(S))},[S]);const a=()=>{c({nodes:[],links:[]}),y(!1)},o=f=>{D&&C(!1),l.current=!0,u.current=f.clientY,h.current=S,f.preventDefault()};return Te.useEffect(()=>{const f=g=>{if(!l.current)return;const w=L.current;if(!w)return;const R=w.getBoundingClientRect(),H=120,b=Math.max(160,R.height-100),B=Math.max(H,Math.min(b,R.bottom-g.clientY));x(B),window.dispatchEvent(new Event("resize"))},d=()=>{l.current=!1};return window.addEventListener("mousemove",f),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)}},[]),ee.jsx("div",{className:"app-container",ref:L,children:m==="/manual"?ee.jsx(Iy,{}):ee.jsxs(ee.Fragment,{children:[ee.jsx("button",{className:"help-button",onClick:()=>{window.location.hash="/manual"},title:"Open Manual",children:"Help"}),ee.jsx("div",{className:"main-content",style:{height:D?0:`calc(100% - ${S}px - 6px)`},children:ee.jsx(Ty,{graphData:r,viewMode:A})}),ee.jsx("div",{className:"splitter",onMouseDown:o}),ee.jsxs("div",{className:`footer ${D?"max":""}`,style:{height:D?"calc(100% - 6px)":`${S}px`},children:[ee.jsx("div",{className:"panel-header",onMouseDown:o,title:"Drag to resize",children:ee.jsx("div",{className:"panel-title",children:"Input Terminal"})}),ee.jsx("div",{className:"panel-body",children:ee.jsx(zy,{setGraphData:c,graphData:r,onReset:a,setViewMode:k})})]})]})})}pg.createRoot(document.getElementById("root")).render(ee.jsx(cg.StrictMode,{children:ee.jsx(Py,{})}));
