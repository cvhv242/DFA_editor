(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))y(D);new MutationObserver(D=>{for(const k of D)if(k.type==="childList")for(const L of k.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&y(L)}).observe(document,{childList:!0,subtree:!0});function p(D){const k={};return D.integrity&&(k.integrity=D.integrity),D.referrerPolicy&&(k.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?k.credentials="include":D.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function y(D){if(D.ep)return;D.ep=!0;const k=p(D);fetch(D.href,k)}})();function p_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fc={exports:{}},nn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function ng(){if(kd)return nn;kd=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function p(y,D,k){var L=null;if(k!==void 0&&(L=""+k),D.key!==void 0&&(L=""+D.key),"key"in D){k={};for(var l in D)l!=="key"&&(k[l]=D[l])}else k=D;return D=k.ref,{$$typeof:r,type:y,key:L,ref:D!==void 0?D:null,props:k}}return nn.Fragment=c,nn.jsx=p,nn.jsxs=p,nn}var Hd;function ag(){return Hd||(Hd=1,fc.exports=ng()),fc.exports}var J=ag(),dc={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function lg(){if(Nd)return Se;Nd=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),L=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function a(E,R,F){this.props=E,this.context=R,this.refs=C,this.updater=F||x}a.prototype.isReactComponent={},a.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},a.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function o(){}o.prototype=a.prototype;function f(E,R,F){this.props=E,this.context=R,this.refs=C,this.updater=F||x}var d=f.prototype=new o;d.constructor=f,T(d,a.prototype),d.isPureReactComponent=!0;var g=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function H(E,R,F,W,se,ae){return F=ae.ref,{$$typeof:r,type:E,key:R,ref:F!==void 0?F:null,props:ae}}function b(E,R){return H(E.type,R,void 0,void 0,void 0,E.props)}function M(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}function $(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(F){return R[F]})}var Y=/\/+/g;function P(E,R){return typeof E=="object"&&E!==null&&E.key!=null?$(""+E.key):R.toString(36)}function X(){}function I(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(X,X):(E.status="pending",E.then(function(R){E.status==="pending"&&(E.status="fulfilled",E.value=R)},function(R){E.status==="pending"&&(E.status="rejected",E.reason=R)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function G(E,R,F,W,se){var ae=typeof E;(ae==="undefined"||ae==="boolean")&&(E=null);var he=!1;if(E===null)he=!0;else switch(ae){case"bigint":case"string":case"number":he=!0;break;case"object":switch(E.$$typeof){case r:case c:he=!0;break;case m:return he=E._init,G(he(E._payload),R,F,W,se)}}if(he)return se=se(E),he=W===""?"."+P(E,0):W,g(se)?(F="",he!=null&&(F=he.replace(Y,"$&/")+"/"),G(se,R,F,"",function(ne){return ne})):se!=null&&(M(se)&&(se=b(se,F+(se.key==null||E&&E.key===se.key?"":(""+se.key).replace(Y,"$&/")+"/")+he)),R.push(se)),1;he=0;var U=W===""?".":W+":";if(g(E))for(var Q=0;Q<E.length;Q++)W=E[Q],ae=U+P(W,Q),he+=G(W,R,F,ae,se);else if(Q=S(E),typeof Q=="function")for(E=Q.call(E),Q=0;!(W=E.next()).done;)W=W.value,ae=U+P(W,Q++),he+=G(W,R,F,ae,se);else if(ae==="object"){if(typeof E.then=="function")return G(I(E),R,F,W,se);throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return he}function z(E,R,F){if(E==null)return E;var W=[],se=0;return G(E,W,"","",function(ae){return R.call(F,ae,se++)}),W}function j(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(F){(E._status===0||E._status===-1)&&(E._status=1,E._result=F)},function(F){(E._status===0||E._status===-1)&&(E._status=2,E._result=F)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var A=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function N(){}return Se.Children={map:z,forEach:function(E,R,F){z(E,function(){R.apply(this,arguments)},F)},count:function(E){var R=0;return z(E,function(){R++}),R},toArray:function(E){return z(E,function(R){return R})||[]},only:function(E){if(!M(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Se.Component=a,Se.Fragment=p,Se.Profiler=D,Se.PureComponent=f,Se.StrictMode=y,Se.Suspense=u,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Se.__COMPILER_RUNTIME={__proto__:null,c:function(E){return w.H.useMemoCache(E)}},Se.cache=function(E){return function(){return E.apply(null,arguments)}},Se.cloneElement=function(E,R,F){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var W=T({},E.props),se=E.key,ae=void 0;if(R!=null)for(he in R.ref!==void 0&&(ae=void 0),R.key!==void 0&&(se=""+R.key),R)!B.call(R,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&R.ref===void 0||(W[he]=R[he]);var he=arguments.length-2;if(he===1)W.children=F;else if(1<he){for(var U=Array(he),Q=0;Q<he;Q++)U[Q]=arguments[Q+2];W.children=U}return H(E.type,se,void 0,void 0,ae,W)},Se.createContext=function(E){return E={$$typeof:L,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:k,_context:E},E},Se.createElement=function(E,R,F){var W,se={},ae=null;if(R!=null)for(W in R.key!==void 0&&(ae=""+R.key),R)B.call(R,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(se[W]=R[W]);var he=arguments.length-2;if(he===1)se.children=F;else if(1<he){for(var U=Array(he),Q=0;Q<he;Q++)U[Q]=arguments[Q+2];se.children=U}if(E&&E.defaultProps)for(W in he=E.defaultProps,he)se[W]===void 0&&(se[W]=he[W]);return H(E,ae,void 0,void 0,null,se)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(E){return{$$typeof:l,render:E}},Se.isValidElement=M,Se.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:j}},Se.memo=function(E,R){return{$$typeof:h,type:E,compare:R===void 0?null:R}},Se.startTransition=function(E){var R=w.T,F={};w.T=F;try{var W=E(),se=w.S;se!==null&&se(F,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(N,A)}catch(ae){A(ae)}finally{w.T=R}},Se.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Se.use=function(E){return w.H.use(E)},Se.useActionState=function(E,R,F){return w.H.useActionState(E,R,F)},Se.useCallback=function(E,R){return w.H.useCallback(E,R)},Se.useContext=function(E){return w.H.useContext(E)},Se.useDebugValue=function(){},Se.useDeferredValue=function(E,R){return w.H.useDeferredValue(E,R)},Se.useEffect=function(E,R,F){var W=w.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(E,R)},Se.useId=function(){return w.H.useId()},Se.useImperativeHandle=function(E,R,F){return w.H.useImperativeHandle(E,R,F)},Se.useInsertionEffect=function(E,R){return w.H.useInsertionEffect(E,R)},Se.useLayoutEffect=function(E,R){return w.H.useLayoutEffect(E,R)},Se.useMemo=function(E,R){return w.H.useMemo(E,R)},Se.useOptimistic=function(E,R){return w.H.useOptimistic(E,R)},Se.useReducer=function(E,R,F){return w.H.useReducer(E,R,F)},Se.useRef=function(E){return w.H.useRef(E)},Se.useState=function(E){return w.H.useState(E)},Se.useSyncExternalStore=function(E,R,F){return w.H.useSyncExternalStore(E,R,F)},Se.useTransition=function(){return w.H.useTransition()},Se.version="19.1.0",Se}var zd;function kc(){return zd||(zd=1,dc.exports=lg()),dc.exports}var De=kc();const og=p_(De);var _c={exports:{}},an={},vc={exports:{}},gc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function cg(){return Ud||(Ud=1,function(r){function c(z,j){var A=z.length;z.push(j);e:for(;0<A;){var N=A-1>>>1,E=z[N];if(0<D(E,j))z[N]=j,z[A]=E,A=N;else break e}}function p(z){return z.length===0?null:z[0]}function y(z){if(z.length===0)return null;var j=z[0],A=z.pop();if(A!==j){z[0]=A;e:for(var N=0,E=z.length,R=E>>>1;N<R;){var F=2*(N+1)-1,W=z[F],se=F+1,ae=z[se];if(0>D(W,A))se<E&&0>D(ae,W)?(z[N]=ae,z[se]=A,N=se):(z[N]=W,z[F]=A,N=F);else if(se<E&&0>D(ae,A))z[N]=ae,z[se]=A,N=se;else break e}}return j}function D(z,j){var A=z.sortIndex-j.sortIndex;return A!==0?A:z.id-j.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var k=performance;r.unstable_now=function(){return k.now()}}else{var L=Date,l=L.now();r.unstable_now=function(){return L.now()-l}}var u=[],h=[],m=1,v=null,S=3,x=!1,T=!1,C=!1,a=!1,o=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;function g(z){for(var j=p(h);j!==null;){if(j.callback===null)y(h);else if(j.startTime<=z)y(h),j.sortIndex=j.expirationTime,c(u,j);else break;j=p(h)}}function w(z){if(C=!1,g(z),!T)if(p(u)!==null)T=!0,B||(B=!0,P());else{var j=p(h);j!==null&&G(w,j.startTime-z)}}var B=!1,H=-1,b=5,M=-1;function $(){return a?!0:!(r.unstable_now()-M<b)}function Y(){if(a=!1,B){var z=r.unstable_now();M=z;var j=!0;try{e:{T=!1,C&&(C=!1,f(H),H=-1),x=!0;var A=S;try{t:{for(g(z),v=p(u);v!==null&&!(v.expirationTime>z&&$());){var N=v.callback;if(typeof N=="function"){v.callback=null,S=v.priorityLevel;var E=N(v.expirationTime<=z);if(z=r.unstable_now(),typeof E=="function"){v.callback=E,g(z),j=!0;break t}v===p(u)&&y(u),g(z)}else y(u);v=p(u)}if(v!==null)j=!0;else{var R=p(h);R!==null&&G(w,R.startTime-z),j=!1}}break e}finally{v=null,S=A,x=!1}j=void 0}}finally{j?P():B=!1}}}var P;if(typeof d=="function")P=function(){d(Y)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,I=X.port2;X.port1.onmessage=Y,P=function(){I.postMessage(null)}}else P=function(){o(Y,0)};function G(z,j){H=o(function(){z(r.unstable_now())},j)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(z){switch(S){case 1:case 2:case 3:var j=3;break;default:j=S}var A=S;S=j;try{return z()}finally{S=A}},r.unstable_requestPaint=function(){a=!0},r.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var A=S;S=z;try{return j()}finally{S=A}},r.unstable_scheduleCallback=function(z,j,A){var N=r.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?N+A:N):A=N,z){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=A+E,z={id:m++,callback:j,priorityLevel:z,startTime:A,expirationTime:E,sortIndex:-1},A>N?(z.sortIndex=A,c(h,z),p(u)===null&&z===p(h)&&(C?(f(H),H=-1):C=!0,G(w,A-N))):(z.sortIndex=E,c(u,z),T||x||(T=!0,B||(B=!0,P()))),z},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(z){var j=S;return function(){var A=S;S=j;try{return z.apply(this,arguments)}finally{S=A}}}}(gc)),gc}var jd;function ug(){return jd||(jd=1,vc.exports=cg()),vc.exports}var pc={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function hg(){if(qd)return ot;qd=1;var r=kc();function c(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var y={d:{f:p,r:function(){throw Error(c(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},D=Symbol.for("react.portal");function k(u,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:v==null?null:""+v,children:u,containerInfo:h,implementation:m}}var L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,ot.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(c(299));return k(u,h,null,m)},ot.flushSync=function(u){var h=L.T,m=y.p;try{if(L.T=null,y.p=2,u)return u()}finally{L.T=h,y.p=m,y.d.f()}},ot.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,y.d.C(u,h))},ot.prefetchDNS=function(u){typeof u=="string"&&y.d.D(u)},ot.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,v=l(m,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?y.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:x}):m==="script"&&y.d.X(u,{crossOrigin:v,integrity:S,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ot.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=l(h.as,h.crossOrigin);y.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&y.d.M(u)},ot.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,v=l(m,h.crossOrigin);y.d.L(u,m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ot.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=l(h.as,h.crossOrigin);y.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else y.d.m(u)},ot.requestFormReset=function(u){y.d.r(u)},ot.unstable_batchedUpdates=function(u,h){return u(h)},ot.useFormState=function(u,h,m){return L.H.useFormState(u,h,m)},ot.useFormStatus=function(){return L.H.useHostTransitionStatus()},ot.version="19.1.0",ot}var Id;function fg(){if(Id)return pc.exports;Id=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),pc.exports=hg(),pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d;function dg(){if($d)return an;$d=1;var r=ug(),c=kc(),p=fg();function y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function D(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function k(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function L(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(k(e)!==e)throw Error(y(188))}function u(e){var t=e.alternate;if(!t){if(t=k(e),t===null)throw Error(y(188));return t!==e?null:e}for(var i=e,s=t;;){var n=i.return;if(n===null)break;var _=n.alternate;if(_===null){if(s=n.return,s!==null){i=s;continue}break}if(n.child===_.child){for(_=n.child;_;){if(_===i)return l(n),e;if(_===s)return l(n),t;_=_.sibling}throw Error(y(188))}if(i.return!==s.return)i=n,s=_;else{for(var O=!1,q=n.child;q;){if(q===i){O=!0,i=n,s=_;break}if(q===s){O=!0,s=n,i=_;break}q=q.sibling}if(!O){for(q=_.child;q;){if(q===i){O=!0,i=_,s=n;break}if(q===s){O=!0,s=_,i=n;break}q=q.sibling}if(!O)throw Error(y(189))}}if(i.alternate!==s)throw Error(y(190))}if(i.tag!==3)throw Error(y(188));return i.stateNode.current===i?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case a:return"Profiler";case C:return"StrictMode";case w:return"Suspense";case B:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case d:return(e.displayName||"Context")+".Provider";case f:return(e._context.displayName||"Context")+".Consumer";case g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:I(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return I(e(t))}catch{}}return null}var G=Array.isArray,z=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},N=[],E=-1;function R(e){return{current:e}}function F(e){0>E||(e.current=N[E],N[E]=null,E--)}function W(e,t){E++,N[E]=e.current,e.current=t}var se=R(null),ae=R(null),he=R(null),U=R(null);function Q(e,t){switch(W(he,t),W(ae,e),W(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=od(t),e=cd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(se),W(se,e)}function ne(){F(se),F(ae),F(he)}function oe(e){e.memoizedState!==null&&W(U,e);var t=se.current,i=cd(t,e.type);t!==i&&(W(ae,e),W(se,i))}function pe(e){ae.current===e&&(F(se),F(ae)),U.current===e&&(F(U),Jr._currentValue=A)}var fe=Object.prototype.hasOwnProperty,Ae=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,nt=r.unstable_shouldYield,mi=r.unstable_requestPaint,me=r.unstable_now,Yi=r.unstable_getCurrentPriorityLevel,vs=r.unstable_ImmediatePriority,gs=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,ps=r.unstable_LowPriority,ct=r.unstable_IdlePriority,Xi=r.log,Rt=r.unstable_setDisableYieldValue,jt=null,Je=null;function et(e){if(typeof Xi=="function"&&Rt(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(jt,e)}catch{}}var tt=Math.clz32?Math.clz32:ze,Yt=Math.log,Gi=Math.LN2;function ze(e){return e>>>=0,e===0?32:31-(Yt(e)/Gi|0)|0}var ms=256,bn=4194304;function Ki(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cn(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var n=0,_=e.suspendedLanes,O=e.pingedLanes;e=e.warmLanes;var q=s&134217727;return q!==0?(s=q&~_,s!==0?n=Ki(s):(O&=q,O!==0?n=Ki(O):i||(i=q&~e,i!==0&&(n=Ki(i))))):(q=s&~_,q!==0?n=Ki(q):O!==0?n=Ki(O):i||(i=s&~e,i!==0&&(n=Ki(i)))),n===0?0:t!==0&&t!==n&&(t&_)===0&&(_=n&-n,i=t&-t,_>=i||_===32&&(i&4194048)!==0)?t:n}function or(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function X_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(){var e=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),e}function Yc(){var e=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),e}function el(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function cr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function G_(e,t,i,s,n,_){var O=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var q=e.entanglements,K=e.expirationTimes,te=e.hiddenUpdates;for(i=O&~i;0<i;){var le=31-tt(i),ue=1<<le;q[le]=0,K[le]=-1;var ie=te[le];if(ie!==null)for(te[le]=null,le=0;le<ie.length;le++){var re=ie[le];re!==null&&(re.lane&=-536870913)}i&=~ue}s!==0&&Xc(e,s,0),_!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=_&~(O&~t))}function Xc(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-tt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&4194090}function Gc(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-tt(i),n=1<<s;n&t|e[s]&t&&(e[s]|=t),i&=~n}}function tl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function il(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kc(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:Td(e.type))}function K_(e,t){var i=j.p;try{return j.p=e,t()}finally{j.p=i}}var Si=Math.random().toString(36).slice(2),at="__reactFiber$"+Si,vt="__reactProps$"+Si,ys="__reactContainer$"+Si,sl="__reactEvents$"+Si,V_="__reactListeners$"+Si,W_="__reactHandles$"+Si,Vc="__reactResources$"+Si,ur="__reactMarker$"+Si;function rl(e){delete e[at],delete e[vt],delete e[sl],delete e[V_],delete e[W_]}function Ss(e){var t=e[at];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ys]||i[at]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=dd(e);e!==null;){if(i=e[at])return i;e=dd(e)}return t}e=i,i=e.parentNode}return null}function bs(e){if(e=e[at]||e[ys]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function hr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(y(33))}function Cs(e){var t=e[Vc];return t||(t=e[Vc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[ur]=!0}var Wc=new Set,Qc={};function Vi(e,t){ws(e,t),ws(e+"Capture",t)}function ws(e,t){for(Qc[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var Q_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},Jc={};function Z_(e){return fe.call(Jc,e)?!0:fe.call(Zc,e)?!1:Q_.test(e)?Jc[e]=!0:(Zc[e]=!0,!1)}function wn(e,t,i){if(Z_(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function xn(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Jt(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}var nl,eu;function xs(e){if(nl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);nl=t&&t[1]||"",eu=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nl+e+eu}var al=!1;function ll(e,t){if(!e||al)return"";al=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var ie=re}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(re){ie=re}e.call(ue.prototype)}}else{try{throw Error()}catch(re){ie=re}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&ie&&typeof re.stack=="string")return[re.stack,ie.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=s.DetermineComponentFrameRoot(),O=_[0],q=_[1];if(O&&q){var K=O.split(`
`),te=q.split(`
`);for(n=s=0;s<K.length&&!K[s].includes("DetermineComponentFrameRoot");)s++;for(;n<te.length&&!te[n].includes("DetermineComponentFrameRoot");)n++;if(s===K.length||n===te.length)for(s=K.length-1,n=te.length-1;1<=s&&0<=n&&K[s]!==te[n];)n--;for(;1<=s&&0<=n;s--,n--)if(K[s]!==te[n]){if(s!==1||n!==1)do if(s--,n--,0>n||K[s]!==te[n]){var le=`
`+K[s].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=s&&0<=n);break}}}finally{al=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?xs(i):""}function J_(e){switch(e.tag){case 26:case 27:case 5:return xs(e.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 15:return ll(e.type,!1);case 11:return ll(e.type.render,!1);case 1:return ll(e.type,!0);case 31:return xs("Activity");default:return""}}function tu(e){try{var t="";do t+=J_(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ev(e){var t=iu(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var n=i.get,_=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(O){s=""+O,_.call(this,O)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(O){s=""+O},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function En(e){e._valueTracker||(e._valueTracker=ev(e))}function su(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=iu(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function An(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tv=/[\n"\\]/g;function Bt(e){return e.replace(tv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ol(e,t,i,s,n,_,O,q){e.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.type=O:e.removeAttribute("type"),t!=null?O==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):O!=="submit"&&O!=="reset"||e.removeAttribute("value"),t!=null?cl(e,O,Mt(t)):i!=null?cl(e,O,Mt(i)):s!=null&&e.removeAttribute("value"),n==null&&_!=null&&(e.defaultChecked=!!_),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?e.name=""+Mt(q):e.removeAttribute("name")}function ru(e,t,i,s,n,_,O,q){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),t!=null||i!=null){if(!(_!=="submit"&&_!=="reset"||t!=null))return;i=i!=null?""+Mt(i):"",t=t!=null?""+Mt(t):i,q||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=q?e.checked:!!s,e.defaultChecked=!!s,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(e.name=O)}function cl(e,t,i){t==="number"&&An(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Es(e,t,i,s){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Mt(i),t=null,n=0;n<e.length;n++){if(e[n].value===i){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function nu(e,t,i){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Mt(i):""}function au(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(y(92));if(G(s)){if(1<s.length)throw Error(y(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Mt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s)}function As(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var iv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||iv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function ou(e,t,i){if(t!=null&&typeof t!="object")throw Error(y(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&i[n]!==s&&lu(e,n,s)}else for(var _ in t)t.hasOwnProperty(_)&&lu(e,_,t[_])}function ul(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dn(e){return rv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var hl=null;function fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,Ts=null;function cu(e){var t=bs(e);if(t&&(e=t.stateNode)){var i=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ol(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Bt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var n=s[vt]||null;if(!n)throw Error(y(90));ol(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&su(s)}break e;case"textarea":nu(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Es(e,!!i.multiple,t,!1)}}}var dl=!1;function uu(e,t,i){if(dl)return e(t,i);dl=!0;try{var s=e(t);return s}finally{if(dl=!1,(Ds!==null||Ts!==null)&&(fa(),Ds&&(t=Ds,e=Ts,Ts=Ds=null,cu(t),e)))for(t=0;t<e.length;t++)cu(e[t])}}function fr(e,t){var i=e.stateNode;if(i===null)return null;var s=i[vt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(y(231,t,typeof i));return i}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_l=!1;if(ei)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){_l=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{_l=!1}var bi=null,vl=null,Tn=null;function hu(){if(Tn)return Tn;var e,t=vl,i=t.length,s,n="value"in bi?bi.value:bi.textContent,_=n.length;for(e=0;e<i&&t[e]===n[e];e++);var O=i-e;for(s=1;s<=O&&t[i-s]===n[_-s];s++);return Tn=n.slice(e,1<s?1-s:void 0)}function Rn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mn(){return!0}function fu(){return!1}function gt(e){function t(i,s,n,_,O){this._reactName=i,this._targetInst=n,this.type=s,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var q in e)e.hasOwnProperty(q)&&(i=e[q],this[q]=i?i(_):_[q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Mn:fu,this.isPropagationStopped=fu,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),t}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bn=gt(Wi),_r=m({},Wi,{view:0,detail:0}),nv=gt(_r),gl,pl,vr,Ln=m({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(gl=e.screenX-vr.screenX,pl=e.screenY-vr.screenY):pl=gl=0,vr=e),gl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),du=gt(Ln),av=m({},Ln,{dataTransfer:0}),lv=gt(av),ov=m({},_r,{relatedTarget:0}),ml=gt(ov),cv=m({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),uv=gt(cv),hv=m({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fv=gt(hv),dv=m({},Wi,{data:0}),_u=gt(dv),_v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gv[e])?!!t[e]:!1}function yl(){return pv}var mv=m({},_r,{key:function(e){if(e.key){var t=_v[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?Rn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yv=gt(mv),Sv=m({},Ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=gt(Sv),bv=m({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),Cv=gt(bv),wv=m({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xv=gt(wv),Ev=m({},Ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Av=gt(Ev),Dv=m({},Wi,{newState:0,oldState:0}),Tv=gt(Dv),Rv=[9,13,27,32],Sl=ei&&"CompositionEvent"in window,gr=null;ei&&"documentMode"in document&&(gr=document.documentMode);var Mv=ei&&"TextEvent"in window&&!gr,gu=ei&&(!Sl||gr&&8<gr&&11>=gr),pu=" ",mu=!1;function yu(e,t){switch(e){case"keyup":return Rv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Su(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function Bv(e,t){switch(e){case"compositionend":return Su(t);case"keypress":return t.which!==32?null:(mu=!0,pu);case"textInput":return e=t.data,e===pu&&mu?null:e;default:return null}}function Lv(e,t){if(Rs)return e==="compositionend"||!Sl&&yu(e,t)?(e=hu(),Tn=vl=bi=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ov[e.type]:t==="textarea"}function Cu(e,t,i,s){Ds?Ts?Ts.push(s):Ts=[s]:Ds=s,t=ma(t,"onChange"),0<t.length&&(i=new Bn("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var pr=null,mr=null;function kv(e){sd(e,0)}function On(e){var t=hr(e);if(su(t))return e}function wu(e,t){if(e==="change")return t}var xu=!1;if(ei){var bl;if(ei){var Cl="oninput"in document;if(!Cl){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),Cl=typeof Eu.oninput=="function"}bl=Cl}else bl=!1;xu=bl&&(!document.documentMode||9<document.documentMode)}function Au(){pr&&(pr.detachEvent("onpropertychange",Du),mr=pr=null)}function Du(e){if(e.propertyName==="value"&&On(mr)){var t=[];Cu(t,mr,e,fl(e)),uu(kv,t)}}function Hv(e,t,i){e==="focusin"?(Au(),pr=t,mr=i,pr.attachEvent("onpropertychange",Du)):e==="focusout"&&Au()}function Nv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return On(mr)}function zv(e,t){if(e==="click")return On(t)}function Uv(e,t){if(e==="input"||e==="change")return On(t)}function jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:jv;function yr(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var n=i[s];if(!fe.call(t,n)||!bt(e[n],t[n]))return!1}return!0}function Tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ru(e,t){var i=Tu(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Tu(i)}}function Mu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=An(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=An(e.document)}return t}function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qv=ei&&"documentMode"in document&&11>=document.documentMode,Ms=null,xl=null,Sr=null,El=!1;function Lu(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;El||Ms==null||Ms!==An(s)||(s=Ms,"selectionStart"in s&&wl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Sr&&yr(Sr,s)||(Sr=s,s=ma(xl,"onSelect"),0<s.length&&(t=new Bn("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Ms)))}function Qi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Bs={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},Al={},Ou={};ei&&(Ou=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Zi(e){if(Al[e])return Al[e];if(!Bs[e])return e;var t=Bs[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ou)return Al[e]=t[i];return e}var ku=Zi("animationend"),Hu=Zi("animationiteration"),Nu=Zi("animationstart"),Iv=Zi("transitionrun"),$v=Zi("transitionstart"),Pv=Zi("transitioncancel"),zu=Zi("transitionend"),Uu=new Map,Dl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dl.push("scrollEnd");function qt(e,t){Uu.set(e,t),Vi(t,[e])}var ju=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var i=ju.get(e);return i!==void 0?i:(t={value:e,source:t,stack:tu(t)},ju.set(e,t),t)}return{value:e,source:t,stack:tu(t)}}var Ot=[],Ls=0,Tl=0;function kn(){for(var e=Ls,t=Tl=Ls=0;t<e;){var i=Ot[t];Ot[t++]=null;var s=Ot[t];Ot[t++]=null;var n=Ot[t];Ot[t++]=null;var _=Ot[t];if(Ot[t++]=null,s!==null&&n!==null){var O=s.pending;O===null?n.next=n:(n.next=O.next,O.next=n),s.pending=n}_!==0&&qu(i,n,_)}}function Hn(e,t,i,s){Ot[Ls++]=e,Ot[Ls++]=t,Ot[Ls++]=i,Ot[Ls++]=s,Tl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Rl(e,t,i,s){return Hn(e,t,i,s),Nn(e)}function Os(e,t){return Hn(e,null,null,t),Nn(e)}function qu(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var n=!1,_=e.return;_!==null;)_.childLanes|=i,s=_.alternate,s!==null&&(s.childLanes|=i),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(n=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,n&&t!==null&&(n=31-tt(i),e=_.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=i|536870912),_):null}function Nn(e){if(50<Yr)throw Yr=0,No=null,Error(y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ks={};function Fv(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,i,s){return new Fv(e,t,i,s)}function Ml(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ti(e,t){var i=e.alternate;return i===null?(i=Ct(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Iu(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zn(e,t,i,s,n,_){var O=0;if(s=e,typeof e=="function")Ml(e)&&(O=1);else if(typeof e=="string")O=X0(e,i,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case M:return e=Ct(31,i,t,n),e.elementType=M,e.lanes=_,e;case T:return Ji(i.children,n,_,t);case C:O=8,n|=24;break;case a:return e=Ct(12,i,t,n|2),e.elementType=a,e.lanes=_,e;case w:return e=Ct(13,i,t,n),e.elementType=w,e.lanes=_,e;case B:return e=Ct(19,i,t,n),e.elementType=B,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case o:case d:O=10;break e;case f:O=9;break e;case g:O=11;break e;case H:O=14;break e;case b:O=16,s=null;break e}O=29,i=Error(y(130,e===null?"null":typeof e,"")),s=null}return t=Ct(O,i,t,n),t.elementType=e,t.type=s,t.lanes=_,t}function Ji(e,t,i,s){return e=Ct(7,e,s,t),e.lanes=i,e}function Bl(e,t,i){return e=Ct(6,e,null,t),e.lanes=i,e}function Ll(e,t,i){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hs=[],Ns=0,Un=null,jn=0,kt=[],Ht=0,es=null,ii=1,si="";function ts(e,t){Hs[Ns++]=jn,Hs[Ns++]=Un,Un=e,jn=t}function $u(e,t,i){kt[Ht++]=ii,kt[Ht++]=si,kt[Ht++]=es,es=e;var s=ii;e=si;var n=32-tt(s)-1;s&=~(1<<n),i+=1;var _=32-tt(t)+n;if(30<_){var O=n-n%5;_=(s&(1<<O)-1).toString(32),s>>=O,n-=O,ii=1<<32-tt(t)+n|i<<n|s,si=_+e}else ii=1<<_|i<<n|s,si=e}function Ol(e){e.return!==null&&(ts(e,1),$u(e,1,0))}function kl(e){for(;e===Un;)Un=Hs[--Ns],Hs[Ns]=null,jn=Hs[--Ns],Hs[Ns]=null;for(;e===es;)es=kt[--Ht],kt[Ht]=null,si=kt[--Ht],kt[Ht]=null,ii=kt[--Ht],kt[Ht]=null}var ut=null,qe=null,Re=!1,is=null,Xt=!1,Hl=Error(y(519));function ss(e){var t=Error(y(418,""));throw wr(Lt(t,e)),Hl}function Pu(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[at]=e,t[vt]=s,i){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(i=0;i<Gr.length;i++)xe(Gr[i],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),ru(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),En(t);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),au(t,s.value,s.defaultValue,s.children),En(t)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||ld(t.textContent,i)?(s.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),s.onScroll!=null&&xe("scroll",t),s.onScrollEnd!=null&&xe("scrollend",t),s.onClick!=null&&(t.onclick=ya),t=!0):t=!1,t||ss(e)}function Fu(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ut=ut.return}}function br(e){if(e!==ut)return!1;if(!Re)return Fu(e),Re=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Zo(e.type,e.memoizedProps)),i=!i),i&&qe&&ss(e),Fu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){qe=$t(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}qe=null}}else t===27?(t=qe,zi(e.type)?(e=ic,ic=null,qe=e):qe=t):qe=ut?$t(e.stateNode.nextSibling):null;return!0}function Cr(){qe=ut=null,Re=!1}function Yu(){var e=is;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),is=null),e}function wr(e){is===null?is=[e]:is.push(e)}var Nl=R(null),rs=null,ri=null;function Ci(e,t,i){W(Nl,t._currentValue),t._currentValue=i}function ni(e){e._currentValue=Nl.current,F(Nl)}function zl(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Ul(e,t,i,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var _=n.dependencies;if(_!==null){var O=n.child;_=_.firstContext;e:for(;_!==null;){var q=_;_=n;for(var K=0;K<t.length;K++)if(q.context===t[K]){_.lanes|=i,q=_.alternate,q!==null&&(q.lanes|=i),zl(_.return,i,e),s||(O=null);break e}_=q.next}}else if(n.tag===18){if(O=n.return,O===null)throw Error(y(341));O.lanes|=i,_=O.alternate,_!==null&&(_.lanes|=i),zl(O,i,e),O=null}else O=n.child;if(O!==null)O.return=n;else for(O=n;O!==null;){if(O===e){O=null;break}if(n=O.sibling,n!==null){n.return=O.return,O=n;break}O=O.return}n=O}}function xr(e,t,i,s){e=null;for(var n=t,_=!1;n!==null;){if(!_){if((n.flags&524288)!==0)_=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var O=n.alternate;if(O===null)throw Error(y(387));if(O=O.memoizedProps,O!==null){var q=n.type;bt(n.pendingProps.value,O.value)||(e!==null?e.push(q):e=[q])}}else if(n===U.current){if(O=n.alternate,O===null)throw Error(y(387));O.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Jr):e=[Jr])}n=n.return}e!==null&&Ul(t,e,i,s),t.flags|=262144}function qn(e){for(e=e.firstContext;e!==null;){if(!bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ns(e){rs=e,ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return Xu(rs,e)}function In(e,t){return rs===null&&ns(e),Xu(e,t)}function Xu(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},ri===null){if(e===null)throw Error(y(308));ri=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ri=ri.next=t;return i}var Yv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Xv=r.unstable_scheduleCallback,Gv=r.unstable_NormalPriority,Ge={$$typeof:d,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jl(){return{controller:new Yv,data:new Map,refCount:0}}function Er(e){e.refCount--,e.refCount===0&&Xv(Gv,function(){e.controller.abort()})}var Ar=null,ql=0,zs=0,Us=null;function Kv(e,t){if(Ar===null){var i=Ar=[];ql=0,zs=Po(),Us={status:"pending",value:void 0,then:function(s){i.push(s)}}}return ql++,t.then(Gu,Gu),t}function Gu(){if(--ql===0&&Ar!==null){Us!==null&&(Us.status="fulfilled");var e=Ar;Ar=null,zs=0,Us=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Vv(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(n){i.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<i.length;n++)(0,i[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<i.length;n++)(0,i[n])(void 0)}),s}var Ku=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Kv(e,t),Ku!==null&&Ku(e,t)};var as=R(null);function Il(){var e=as.current;return e!==null?e:Ne.pooledCache}function $n(e,t){t===null?W(as,as.current):W(as,t.pool)}function Vu(){var e=Il();return e===null?null:{parent:Ge._currentValue,pool:e}}var Dr=Error(y(460)),Wu=Error(y(474)),Pn=Error(y(542)),$l={then:function(){}};function Qu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fn(){}function Zu(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Fn,Fn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,eh(e),e;default:if(typeof t.status=="string")t.then(Fn,Fn);else{if(e=Ne,e!==null&&100<e.shellSuspendCounter)throw Error(y(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,eh(e),e}throw Tr=t,Dr}}var Tr=null;function Ju(){if(Tr===null)throw Error(y(459));var e=Tr;return Tr=null,e}function eh(e){if(e===Dr||e===Pn)throw Error(y(483))}var wi=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Me&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Nn(e),qu(e,null,i),t}return Hn(e,s,t,i),Nn(e)}function Rr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Gc(e,i)}}function Yl(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var n=null,_=null;if(i=i.firstBaseUpdate,i!==null){do{var O={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};_===null?n=_=O:_=_.next=O,i=i.next}while(i!==null);_===null?n=_=t:_=_.next=t}else n=_=t;i={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:_,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Xl=!1;function Mr(){if(Xl){var e=Us;if(e!==null)throw e}}function Br(e,t,i,s){Xl=!1;var n=e.updateQueue;wi=!1;var _=n.firstBaseUpdate,O=n.lastBaseUpdate,q=n.shared.pending;if(q!==null){n.shared.pending=null;var K=q,te=K.next;K.next=null,O===null?_=te:O.next=te,O=K;var le=e.alternate;le!==null&&(le=le.updateQueue,q=le.lastBaseUpdate,q!==O&&(q===null?le.firstBaseUpdate=te:q.next=te,le.lastBaseUpdate=K))}if(_!==null){var ue=n.baseState;O=0,le=te=K=null,q=_;do{var ie=q.lane&-536870913,re=ie!==q.lane;if(re?(Ee&ie)===ie:(s&ie)===ie){ie!==0&&ie===zs&&(Xl=!0),le!==null&&(le=le.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var ye=e,ve=q;ie=t;var ke=i;switch(ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){ue=ye.call(ke,ue,ie);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,ie=typeof ye=="function"?ye.call(ke,ue,ie):ye,ie==null)break e;ue=m({},ue,ie);break e;case 2:wi=!0}}ie=q.callback,ie!==null&&(e.flags|=64,re&&(e.flags|=8192),re=n.callbacks,re===null?n.callbacks=[ie]:re.push(ie))}else re={lane:ie,tag:q.tag,payload:q.payload,callback:q.callback,next:null},le===null?(te=le=re,K=ue):le=le.next=re,O|=ie;if(q=q.next,q===null){if(q=n.shared.pending,q===null)break;re=q,q=re.next,re.next=null,n.lastBaseUpdate=re,n.shared.pending=null}}while(!0);le===null&&(K=ue),n.baseState=K,n.firstBaseUpdate=te,n.lastBaseUpdate=le,_===null&&(n.shared.lanes=0),Oi|=O,e.lanes=O,e.memoizedState=ue}}function th(e,t){if(typeof e!="function")throw Error(y(191,e));e.call(t)}function ih(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)th(i[e],t)}var js=R(null),Yn=R(0);function sh(e,t){e=fi,W(Yn,e),W(js,t),fi=e|t.baseLanes}function Gl(){W(Yn,fi),W(js,js.current)}function Kl(){fi=Yn.current,F(js),F(Yn)}var Ai=0,be=null,Le=null,Ye=null,Xn=!1,qs=!1,ls=!1,Gn=0,Lr=0,Is=null,Wv=0;function Pe(){throw Error(y(321))}function Vl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!bt(e[i],t[i]))return!1;return!0}function Wl(e,t,i,s,n,_){return Ai=_,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?qh:Ih,ls=!1,_=i(s,n),ls=!1,qs&&(_=nh(t,i,s,n)),rh(e),_}function rh(e){z.H=Jn;var t=Le!==null&&Le.next!==null;if(Ai=0,Ye=Le=be=null,Xn=!1,Lr=0,Is=null,t)throw Error(y(300));e===null||We||(e=e.dependencies,e!==null&&qn(e)&&(We=!0))}function nh(e,t,i,s){be=e;var n=0;do{if(qs&&(Is=null),Lr=0,qs=!1,25<=n)throw Error(y(301));if(n+=1,Ye=Le=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}z.H=s0,_=t(i,s)}while(qs);return _}function Qv(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Or(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(be.flags|=1024),t}function Ql(){var e=Gn!==0;return Gn=0,e}function Zl(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Jl(e){if(Xn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xn=!1}Ai=0,Ye=Le=be=null,qs=!1,Lr=Gn=0,Is=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?be.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Xe(){if(Le===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ye===null?be.memoizedState:Ye.next;if(t!==null)Ye=t,Le=e;else{if(e===null)throw be.alternate===null?Error(y(467)):Error(y(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ye===null?be.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Or(e){var t=Lr;return Lr+=1,Is===null&&(Is=[]),e=Zu(Is,e,t),t=be,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?qh:Ih),e}function Kn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Or(e);if(e.$$typeof===d)return lt(e)}throw Error(y(438,String(e)))}function to(e){var t=null,i=be.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=eo(),be.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=$;return t.index++,i}function ai(e,t){return typeof t=="function"?t(e):t}function Vn(e){var t=Xe();return io(t,Le,e)}function io(e,t,i){var s=e.queue;if(s===null)throw Error(y(311));s.lastRenderedReducer=i;var n=e.baseQueue,_=s.pending;if(_!==null){if(n!==null){var O=n.next;n.next=_.next,_.next=O}t.baseQueue=n=_,s.pending=null}if(_=e.baseState,n===null)e.memoizedState=_;else{t=n.next;var q=O=null,K=null,te=t,le=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(Ee&ue)===ue:(Ai&ue)===ue){var ie=te.revertLane;if(ie===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===zs&&(le=!0);else if((Ai&ie)===ie){te=te.next,ie===zs&&(le=!0);continue}else ue={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(q=K=ue,O=_):K=K.next=ue,be.lanes|=ie,Oi|=ie;ue=te.action,ls&&i(_,ue),_=te.hasEagerState?te.eagerState:i(_,ue)}else ie={lane:ue,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(q=K=ie,O=_):K=K.next=ie,be.lanes|=ue,Oi|=ue;te=te.next}while(te!==null&&te!==t);if(K===null?O=_:K.next=q,!bt(_,e.memoizedState)&&(We=!0,le&&(i=Us,i!==null)))throw i;e.memoizedState=_,e.baseState=O,e.baseQueue=K,s.lastRenderedState=_}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function so(e){var t=Xe(),i=t.queue;if(i===null)throw Error(y(311));i.lastRenderedReducer=e;var s=i.dispatch,n=i.pending,_=t.memoizedState;if(n!==null){i.pending=null;var O=n=n.next;do _=e(_,O.action),O=O.next;while(O!==n);bt(_,t.memoizedState)||(We=!0),t.memoizedState=_,t.baseQueue===null&&(t.baseState=_),i.lastRenderedState=_}return[_,s]}function ah(e,t,i){var s=be,n=Xe(),_=Re;if(_){if(i===void 0)throw Error(y(407));i=i()}else i=t();var O=!bt((Le||n).memoizedState,i);O&&(n.memoizedState=i,We=!0),n=n.queue;var q=ch.bind(null,s,n,e);if(kr(2048,8,q,[e]),n.getSnapshot!==t||O||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,$s(9,Wn(),oh.bind(null,s,n,i,t),null),Ne===null)throw Error(y(349));_||(Ai&124)!==0||lh(s,t,i)}return i}function lh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=be.updateQueue,t===null?(t=eo(),be.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function oh(e,t,i,s){t.value=i,t.getSnapshot=s,uh(t)&&hh(e)}function ch(e,t,i){return i(function(){uh(t)&&hh(e)})}function uh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!bt(e,i)}catch{return!0}}function hh(e){var t=Os(e,2);t!==null&&Dt(t,e,2)}function ro(e){var t=pt();if(typeof e=="function"){var i=e;if(e=i(),ls){et(!0);try{i()}finally{et(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t}function fh(e,t,i,s){return e.baseState=i,io(e,Le,typeof s=="function"?s:ai)}function Zv(e,t,i,s,n){if(Zn(e))throw Error(y(485));if(e=t.action,e!==null){var _={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};z.T!==null?i(!0):_.isTransition=!1,s(_),i=t.pending,i===null?(_.next=t.pending=_,dh(t,_)):(_.next=i.next,t.pending=i.next=_)}}function dh(e,t){var i=t.action,s=t.payload,n=e.state;if(t.isTransition){var _=z.T,O={};z.T=O;try{var q=i(n,s),K=z.S;K!==null&&K(O,q),_h(e,t,q)}catch(te){no(e,t,te)}finally{z.T=_}}else try{_=i(n,s),_h(e,t,_)}catch(te){no(e,t,te)}}function _h(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){vh(e,t,s)},function(s){return no(e,t,s)}):vh(e,t,i)}function vh(e,t,i){t.status="fulfilled",t.value=i,gh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,dh(e,i)))}function no(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,gh(t),t=t.next;while(t!==s)}e.action=null}function gh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ph(e,t){return t}function mh(e,t){if(Re){var i=Ne.formState;if(i!==null){e:{var s=be;if(Re){if(qe){t:{for(var n=qe,_=Xt;n.nodeType!==8;){if(!_){n=null;break t}if(n=$t(n.nextSibling),n===null){n=null;break t}}_=n.data,n=_==="F!"||_==="F"?n:null}if(n){qe=$t(n.nextSibling),s=n.data==="F!";break e}}ss(s)}s=!1}s&&(t=i[0])}}return i=pt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ph,lastRenderedState:t},i.queue=s,i=zh.bind(null,be,s),s.dispatch=i,s=ro(!1),_=uo.bind(null,be,!1,s.queue),s=pt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,i=Zv.bind(null,be,n,_,i),n.dispatch=i,s.memoizedState=e,[t,i,!1]}function yh(e){var t=Xe();return Sh(t,Le,e)}function Sh(e,t,i){if(t=io(e,t,ph)[0],e=Vn(ai)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Or(t)}catch(O){throw O===Dr?Pn:O}else s=t;t=Xe();var n=t.queue,_=n.dispatch;return i!==t.memoizedState&&(be.flags|=2048,$s(9,Wn(),Jv.bind(null,n,i),null)),[s,_,e]}function Jv(e,t){e.action=t}function bh(e){var t=Xe(),i=Le;if(i!==null)return Sh(t,i,e);Xe(),t=t.memoizedState,i=Xe();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function $s(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=be.updateQueue,t===null&&(t=eo(),be.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Wn(){return{destroy:void 0,resource:void 0}}function Ch(){return Xe().memoizedState}function Qn(e,t,i,s){var n=pt();s=s===void 0?null:s,be.flags|=e,n.memoizedState=$s(1|t,Wn(),i,s)}function kr(e,t,i,s){var n=Xe();s=s===void 0?null:s;var _=n.memoizedState.inst;Le!==null&&s!==null&&Vl(s,Le.memoizedState.deps)?n.memoizedState=$s(t,_,i,s):(be.flags|=e,n.memoizedState=$s(1|t,_,i,s))}function wh(e,t){Qn(8390656,8,e,t)}function xh(e,t){kr(2048,8,e,t)}function Eh(e,t){return kr(4,2,e,t)}function Ah(e,t){return kr(4,4,e,t)}function Dh(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Th(e,t,i){i=i!=null?i.concat([e]):null,kr(4,4,Dh.bind(null,t,e),i)}function ao(){}function Rh(e,t){var i=Xe();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Vl(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Mh(e,t){var i=Xe();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Vl(t,s[1]))return s[0];if(s=e(),ls){et(!0);try{e()}finally{et(!1)}}return i.memoizedState=[s,t],s}function lo(e,t,i){return i===void 0||(Ai&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=kf(),be.lanes|=e,Oi|=e,i)}function Bh(e,t,i,s){return bt(i,t)?i:js.current!==null?(e=lo(e,i,s),bt(e,t)||(We=!0),e):(Ai&42)===0?(We=!0,e.memoizedState=i):(e=kf(),be.lanes|=e,Oi|=e,t)}function Lh(e,t,i,s,n){var _=j.p;j.p=_!==0&&8>_?_:8;var O=z.T,q={};z.T=q,uo(e,!1,t,i);try{var K=n(),te=z.S;if(te!==null&&te(q,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var le=Vv(K,s);Hr(e,t,le,At(e))}else Hr(e,t,s,At(e))}catch(ue){Hr(e,t,{then:function(){},status:"rejected",reason:ue},At())}finally{j.p=_,z.T=O}}function e0(){}function oo(e,t,i,s){if(e.tag!==5)throw Error(y(476));var n=Oh(e).queue;Lh(e,n,t,A,i===null?e0:function(){return kh(e),i(s)})}function Oh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:A},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kh(e){var t=Oh(e).next.queue;Hr(e,t,{},At())}function co(){return lt(Jr)}function Hh(){return Xe().memoizedState}function Nh(){return Xe().memoizedState}function t0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=At();e=xi(i);var s=Ei(t,e,i);s!==null&&(Dt(s,t,i),Rr(s,t,i)),t={cache:jl()},e.payload=t;return}t=t.return}}function i0(e,t,i){var s=At();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Zn(e)?Uh(t,i):(i=Rl(e,t,i,s),i!==null&&(Dt(i,e,s),jh(i,t,s)))}function zh(e,t,i){var s=At();Hr(e,t,i,s)}function Hr(e,t,i,s){var n={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Zn(e))Uh(t,n);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=t.lastRenderedReducer,_!==null))try{var O=t.lastRenderedState,q=_(O,i);if(n.hasEagerState=!0,n.eagerState=q,bt(q,O))return Hn(e,t,n,0),Ne===null&&kn(),!1}catch{}finally{}if(i=Rl(e,t,n,s),i!==null)return Dt(i,e,s),jh(i,t,s),!0}return!1}function uo(e,t,i,s){if(s={lane:2,revertLane:Po(),action:s,hasEagerState:!1,eagerState:null,next:null},Zn(e)){if(t)throw Error(y(479))}else t=Rl(e,i,s,2),t!==null&&Dt(t,e,2)}function Zn(e){var t=e.alternate;return e===be||t!==null&&t===be}function Uh(e,t){qs=Xn=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function jh(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Gc(e,i)}}var Jn={readContext:lt,use:Kn,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},qh={readContext:lt,use:Kn,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:wh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Qn(4194308,4,Dh.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Qn(4194308,4,e,t)},useInsertionEffect:function(e,t){Qn(4,2,e,t)},useMemo:function(e,t){var i=pt();t=t===void 0?null:t;var s=e();if(ls){et(!0);try{e()}finally{et(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=pt();if(i!==void 0){var n=i(t);if(ls){et(!0);try{i(t)}finally{et(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=i0.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=ro(e);var t=e.queue,i=zh.bind(null,be,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:ao,useDeferredValue:function(e,t){var i=pt();return lo(i,e,t)},useTransition:function(){var e=ro(!1);return e=Lh.bind(null,be,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=be,n=pt();if(Re){if(i===void 0)throw Error(y(407));i=i()}else{if(i=t(),Ne===null)throw Error(y(349));(Ee&124)!==0||lh(s,t,i)}n.memoizedState=i;var _={value:i,getSnapshot:t};return n.queue=_,wh(ch.bind(null,s,_,e),[e]),s.flags|=2048,$s(9,Wn(),oh.bind(null,s,_,i,t),null),i},useId:function(){var e=pt(),t=Ne.identifierPrefix;if(Re){var i=si,s=ii;i=(s&~(1<<32-tt(s)-1)).toString(32)+i,t=""+t+"R"+i,i=Gn++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=Wv++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:co,useFormState:mh,useActionState:mh,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=uo.bind(null,be,!0,i),i.dispatch=t,[e,t]},useMemoCache:to,useCacheRefresh:function(){return pt().memoizedState=t0.bind(null,be)}},Ih={readContext:lt,use:Kn,useCallback:Rh,useContext:lt,useEffect:xh,useImperativeHandle:Th,useInsertionEffect:Eh,useLayoutEffect:Ah,useMemo:Mh,useReducer:Vn,useRef:Ch,useState:function(){return Vn(ai)},useDebugValue:ao,useDeferredValue:function(e,t){var i=Xe();return Bh(i,Le.memoizedState,e,t)},useTransition:function(){var e=Vn(ai)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Or(e),t]},useSyncExternalStore:ah,useId:Hh,useHostTransitionStatus:co,useFormState:yh,useActionState:yh,useOptimistic:function(e,t){var i=Xe();return fh(i,Le,e,t)},useMemoCache:to,useCacheRefresh:Nh},s0={readContext:lt,use:Kn,useCallback:Rh,useContext:lt,useEffect:xh,useImperativeHandle:Th,useInsertionEffect:Eh,useLayoutEffect:Ah,useMemo:Mh,useReducer:so,useRef:Ch,useState:function(){return so(ai)},useDebugValue:ao,useDeferredValue:function(e,t){var i=Xe();return Le===null?lo(i,e,t):Bh(i,Le.memoizedState,e,t)},useTransition:function(){var e=so(ai)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Or(e),t]},useSyncExternalStore:ah,useId:Hh,useHostTransitionStatus:co,useFormState:bh,useActionState:bh,useOptimistic:function(e,t){var i=Xe();return Le!==null?fh(i,Le,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:to,useCacheRefresh:Nh},Ps=null,Nr=0;function ea(e){var t=Nr;return Nr+=1,Ps===null&&(Ps=[]),Zu(Ps,e,t)}function zr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ta(e,t){throw t.$$typeof===v?Error(y(525)):(e=Object.prototype.toString.call(t),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $h(e){var t=e._init;return t(e._payload)}function Ph(e){function t(Z,V){if(e){var ee=Z.deletions;ee===null?(Z.deletions=[V],Z.flags|=16):ee.push(V)}}function i(Z,V){if(!e)return null;for(;V!==null;)t(Z,V),V=V.sibling;return null}function s(Z){for(var V=new Map;Z!==null;)Z.key!==null?V.set(Z.key,Z):V.set(Z.index,Z),Z=Z.sibling;return V}function n(Z,V){return Z=ti(Z,V),Z.index=0,Z.sibling=null,Z}function _(Z,V,ee){return Z.index=ee,e?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<V?(Z.flags|=67108866,V):ee):(Z.flags|=67108866,V)):(Z.flags|=1048576,V)}function O(Z){return e&&Z.alternate===null&&(Z.flags|=67108866),Z}function q(Z,V,ee,ce){return V===null||V.tag!==6?(V=Bl(ee,Z.mode,ce),V.return=Z,V):(V=n(V,ee),V.return=Z,V)}function K(Z,V,ee,ce){var de=ee.type;return de===T?le(Z,V,ee.props.children,ce,ee.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&$h(de)===V.type)?(V=n(V,ee.props),zr(V,ee),V.return=Z,V):(V=zn(ee.type,ee.key,ee.props,null,Z.mode,ce),zr(V,ee),V.return=Z,V)}function te(Z,V,ee,ce){return V===null||V.tag!==4||V.stateNode.containerInfo!==ee.containerInfo||V.stateNode.implementation!==ee.implementation?(V=Ll(ee,Z.mode,ce),V.return=Z,V):(V=n(V,ee.children||[]),V.return=Z,V)}function le(Z,V,ee,ce,de){return V===null||V.tag!==7?(V=Ji(ee,Z.mode,ce,de),V.return=Z,V):(V=n(V,ee),V.return=Z,V)}function ue(Z,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Bl(""+V,Z.mode,ee),V.return=Z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return ee=zn(V.type,V.key,V.props,null,Z.mode,ee),zr(ee,V),ee.return=Z,ee;case x:return V=Ll(V,Z.mode,ee),V.return=Z,V;case b:var ce=V._init;return V=ce(V._payload),ue(Z,V,ee)}if(G(V)||P(V))return V=Ji(V,Z.mode,ee,null),V.return=Z,V;if(typeof V.then=="function")return ue(Z,ea(V),ee);if(V.$$typeof===d)return ue(Z,In(Z,V),ee);ta(Z,V)}return null}function ie(Z,V,ee,ce){var de=V!==null?V.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return de!==null?null:q(Z,V,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return ee.key===de?K(Z,V,ee,ce):null;case x:return ee.key===de?te(Z,V,ee,ce):null;case b:return de=ee._init,ee=de(ee._payload),ie(Z,V,ee,ce)}if(G(ee)||P(ee))return de!==null?null:le(Z,V,ee,ce,null);if(typeof ee.then=="function")return ie(Z,V,ea(ee),ce);if(ee.$$typeof===d)return ie(Z,V,In(Z,ee),ce);ta(Z,ee)}return null}function re(Z,V,ee,ce,de){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Z=Z.get(ee)||null,q(V,Z,""+ce,de);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case S:return Z=Z.get(ce.key===null?ee:ce.key)||null,K(V,Z,ce,de);case x:return Z=Z.get(ce.key===null?ee:ce.key)||null,te(V,Z,ce,de);case b:var Ce=ce._init;return ce=Ce(ce._payload),re(Z,V,ee,ce,de)}if(G(ce)||P(ce))return Z=Z.get(ee)||null,le(V,Z,ce,de,null);if(typeof ce.then=="function")return re(Z,V,ee,ea(ce),de);if(ce.$$typeof===d)return re(Z,V,ee,In(V,ce),de);ta(V,ce)}return null}function ye(Z,V,ee,ce){for(var de=null,Ce=null,_e=V,ge=V=0,Ze=null;_e!==null&&ge<ee.length;ge++){_e.index>ge?(Ze=_e,_e=null):Ze=_e.sibling;var Te=ie(Z,_e,ee[ge],ce);if(Te===null){_e===null&&(_e=Ze);break}e&&_e&&Te.alternate===null&&t(Z,_e),V=_(Te,V,ge),Ce===null?de=Te:Ce.sibling=Te,Ce=Te,_e=Ze}if(ge===ee.length)return i(Z,_e),Re&&ts(Z,ge),de;if(_e===null){for(;ge<ee.length;ge++)_e=ue(Z,ee[ge],ce),_e!==null&&(V=_(_e,V,ge),Ce===null?de=_e:Ce.sibling=_e,Ce=_e);return Re&&ts(Z,ge),de}for(_e=s(_e);ge<ee.length;ge++)Ze=re(_e,Z,ge,ee[ge],ce),Ze!==null&&(e&&Ze.alternate!==null&&_e.delete(Ze.key===null?ge:Ze.key),V=_(Ze,V,ge),Ce===null?de=Ze:Ce.sibling=Ze,Ce=Ze);return e&&_e.forEach(function($i){return t(Z,$i)}),Re&&ts(Z,ge),de}function ve(Z,V,ee,ce){if(ee==null)throw Error(y(151));for(var de=null,Ce=null,_e=V,ge=V=0,Ze=null,Te=ee.next();_e!==null&&!Te.done;ge++,Te=ee.next()){_e.index>ge?(Ze=_e,_e=null):Ze=_e.sibling;var $i=ie(Z,_e,Te.value,ce);if($i===null){_e===null&&(_e=Ze);break}e&&_e&&$i.alternate===null&&t(Z,_e),V=_($i,V,ge),Ce===null?de=$i:Ce.sibling=$i,Ce=$i,_e=Ze}if(Te.done)return i(Z,_e),Re&&ts(Z,ge),de;if(_e===null){for(;!Te.done;ge++,Te=ee.next())Te=ue(Z,Te.value,ce),Te!==null&&(V=_(Te,V,ge),Ce===null?de=Te:Ce.sibling=Te,Ce=Te);return Re&&ts(Z,ge),de}for(_e=s(_e);!Te.done;ge++,Te=ee.next())Te=re(_e,Z,ge,Te.value,ce),Te!==null&&(e&&Te.alternate!==null&&_e.delete(Te.key===null?ge:Te.key),V=_(Te,V,ge),Ce===null?de=Te:Ce.sibling=Te,Ce=Te);return e&&_e.forEach(function(rg){return t(Z,rg)}),Re&&ts(Z,ge),de}function ke(Z,V,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===T&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:e:{for(var de=ee.key;V!==null;){if(V.key===de){if(de=ee.type,de===T){if(V.tag===7){i(Z,V.sibling),ce=n(V,ee.props.children),ce.return=Z,Z=ce;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&$h(de)===V.type){i(Z,V.sibling),ce=n(V,ee.props),zr(ce,ee),ce.return=Z,Z=ce;break e}i(Z,V);break}else t(Z,V);V=V.sibling}ee.type===T?(ce=Ji(ee.props.children,Z.mode,ce,ee.key),ce.return=Z,Z=ce):(ce=zn(ee.type,ee.key,ee.props,null,Z.mode,ce),zr(ce,ee),ce.return=Z,Z=ce)}return O(Z);case x:e:{for(de=ee.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===ee.containerInfo&&V.stateNode.implementation===ee.implementation){i(Z,V.sibling),ce=n(V,ee.children||[]),ce.return=Z,Z=ce;break e}else{i(Z,V);break}else t(Z,V);V=V.sibling}ce=Ll(ee,Z.mode,ce),ce.return=Z,Z=ce}return O(Z);case b:return de=ee._init,ee=de(ee._payload),ke(Z,V,ee,ce)}if(G(ee))return ye(Z,V,ee,ce);if(P(ee)){if(de=P(ee),typeof de!="function")throw Error(y(150));return ee=de.call(ee),ve(Z,V,ee,ce)}if(typeof ee.then=="function")return ke(Z,V,ea(ee),ce);if(ee.$$typeof===d)return ke(Z,V,In(Z,ee),ce);ta(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,V!==null&&V.tag===6?(i(Z,V.sibling),ce=n(V,ee),ce.return=Z,Z=ce):(i(Z,V),ce=Bl(ee,Z.mode,ce),ce.return=Z,Z=ce),O(Z)):i(Z,V)}return function(Z,V,ee,ce){try{Nr=0;var de=ke(Z,V,ee,ce);return Ps=null,de}catch(_e){if(_e===Dr||_e===Pn)throw _e;var Ce=Ct(29,_e,null,Z.mode);return Ce.lanes=ce,Ce.return=Z,Ce}finally{}}}var Fs=Ph(!0),Fh=Ph(!1),Nt=R(null),Gt=null;function Di(e){var t=e.alternate;W(Ke,Ke.current&1),W(Nt,e),Gt===null&&(t===null||js.current!==null||t.memoizedState!==null)&&(Gt=e)}function Yh(e){if(e.tag===22){if(W(Ke,Ke.current),W(Nt,e),Gt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Gt=e)}}else Ti()}function Ti(){W(Ke,Ke.current),W(Nt,Nt.current)}function li(e){F(Nt),Gt===e&&(Gt=null),F(Ke)}var Ke=R(0);function ia(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||tc(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:m({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var fo={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=At(),n=xi(s);n.payload=t,i!=null&&(n.callback=i),t=Ei(e,n,s),t!==null&&(Dt(t,e,s),Rr(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=At(),n=xi(s);n.tag=1,n.payload=t,i!=null&&(n.callback=i),t=Ei(e,n,s),t!==null&&(Dt(t,e,s),Rr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=At(),s=xi(i);s.tag=2,t!=null&&(s.callback=t),t=Ei(e,s,i),t!==null&&(Dt(t,e,i),Rr(t,e,i))}};function Xh(e,t,i,s,n,_,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,_,O):t.prototype&&t.prototype.isPureReactComponent?!yr(i,s)||!yr(n,_):!0}function Gh(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function os(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=m({},i));for(var n in e)i[n]===void 0&&(i[n]=e[n])}return i}var sa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kh(e){sa(e)}function Vh(e){console.error(e)}function Wh(e){sa(e)}function ra(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Qh(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function _o(e,t,i){return i=xi(i),i.tag=3,i.payload={element:null},i.callback=function(){ra(e,t)},i}function Zh(e){return e=xi(e),e.tag=3,e}function Jh(e,t,i,s){var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var _=s.value;e.payload=function(){return n(_)},e.callback=function(){Qh(t,i,s)}}var O=i.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(e.callback=function(){Qh(t,i,s),typeof n!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var q=s.stack;this.componentDidCatch(s.value,{componentStack:q!==null?q:""})})}function r0(e,t,i,s,n){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&xr(t,i,n,!0),i=Nt.current,i!==null){switch(i.tag){case 13:return Gt===null?Uo():i.alternate===null&&Ie===0&&(Ie=3),i.flags&=-257,i.flags|=65536,i.lanes=n,s===$l?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),qo(e,s,n)),!1;case 22:return i.flags|=65536,s===$l?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),qo(e,s,n)),!1}throw Error(y(435,i.tag))}return qo(e,s,n),Uo(),!1}if(Re)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Hl&&(e=Error(y(422),{cause:s}),wr(Lt(e,i)))):(s!==Hl&&(t=Error(y(423),{cause:s}),wr(Lt(t,i))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=Lt(s,i),n=_o(e.stateNode,s,n),Yl(e,n),Ie!==4&&(Ie=2)),!1;var _=Error(y(520),{cause:s});if(_=Lt(_,i),Fr===null?Fr=[_]:Fr.push(_),Ie!==4&&(Ie=2),t===null)return!0;s=Lt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=n&-n,i.lanes|=e,e=_o(i.stateNode,s,e),Yl(i,e),!1;case 1:if(t=i.type,_=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ki===null||!ki.has(_))))return i.flags|=65536,n&=-n,i.lanes|=n,n=Zh(n),Jh(n,e,i,s),Yl(i,n),!1}i=i.return}while(i!==null);return!1}var ef=Error(y(461)),We=!1;function it(e,t,i,s){t.child=e===null?Fh(t,null,i,s):Fs(t,e.child,i,s)}function tf(e,t,i,s,n){i=i.render;var _=t.ref;if("ref"in s){var O={};for(var q in s)q!=="ref"&&(O[q]=s[q])}else O=s;return ns(t),s=Wl(e,t,i,O,_,n),q=Ql(),e!==null&&!We?(Zl(e,t,n),oi(e,t,n)):(Re&&q&&Ol(t),t.flags|=1,it(e,t,s,n),t.child)}function sf(e,t,i,s,n){if(e===null){var _=i.type;return typeof _=="function"&&!Ml(_)&&_.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=_,rf(e,t,_,s,n)):(e=zn(i.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(_=e.child,!Co(e,n)){var O=_.memoizedProps;if(i=i.compare,i=i!==null?i:yr,i(O,s)&&e.ref===t.ref)return oi(e,t,n)}return t.flags|=1,e=ti(_,s),e.ref=t.ref,e.return=t,t.child=e}function rf(e,t,i,s,n){if(e!==null){var _=e.memoizedProps;if(yr(_,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=_,Co(e,n))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,oi(e,t,n)}return vo(e,t,i,s,n)}function nf(e,t,i){var s=t.pendingProps,n=s.children,_=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=_!==null?_.baseLanes|i:i,e!==null){for(n=t.child=e.child,_=0;n!==null;)_=_|n.lanes|n.childLanes,n=n.sibling;t.childLanes=_&~s}else t.childLanes=0,t.child=null;return af(e,t,s,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&$n(t,_!==null?_.cachePool:null),_!==null?sh(t,_):Gl(),Yh(t);else return t.lanes=t.childLanes=536870912,af(e,t,_!==null?_.baseLanes|i:i,i)}else _!==null?($n(t,_.cachePool),sh(t,_),Ti(),t.memoizedState=null):(e!==null&&$n(t,null),Gl(),Ti());return it(e,t,n,i),t.child}function af(e,t,i,s){var n=Il();return n=n===null?null:{parent:Ge._currentValue,pool:n},t.memoizedState={baseLanes:i,cachePool:n},e!==null&&$n(t,null),Gl(),Yh(t),e!==null&&xr(e,t,s,!0),null}function na(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(y(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function vo(e,t,i,s,n){return ns(t),i=Wl(e,t,i,s,void 0,n),s=Ql(),e!==null&&!We?(Zl(e,t,n),oi(e,t,n)):(Re&&s&&Ol(t),t.flags|=1,it(e,t,i,n),t.child)}function lf(e,t,i,s,n,_){return ns(t),t.updateQueue=null,i=nh(t,s,i,n),rh(e),s=Ql(),e!==null&&!We?(Zl(e,t,_),oi(e,t,_)):(Re&&s&&Ol(t),t.flags|=1,it(e,t,i,_),t.child)}function of(e,t,i,s,n){if(ns(t),t.stateNode===null){var _=ks,O=i.contextType;typeof O=="object"&&O!==null&&(_=lt(O)),_=new i(s,_),t.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=fo,t.stateNode=_,_._reactInternals=t,_=t.stateNode,_.props=s,_.state=t.memoizedState,_.refs={},Pl(t),O=i.contextType,_.context=typeof O=="object"&&O!==null?lt(O):ks,_.state=t.memoizedState,O=i.getDerivedStateFromProps,typeof O=="function"&&(ho(t,i,O,s),_.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&fo.enqueueReplaceState(_,_.state,null),Br(t,s,_,n),Mr(),_.state=t.memoizedState),typeof _.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){_=t.stateNode;var q=t.memoizedProps,K=os(i,q);_.props=K;var te=_.context,le=i.contextType;O=ks,typeof le=="object"&&le!==null&&(O=lt(le));var ue=i.getDerivedStateFromProps;le=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",q=t.pendingProps!==q,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(q||te!==O)&&Gh(t,_,s,O),wi=!1;var ie=t.memoizedState;_.state=ie,Br(t,s,_,n),Mr(),te=t.memoizedState,q||ie!==te||wi?(typeof ue=="function"&&(ho(t,i,ue,s),te=t.memoizedState),(K=wi||Xh(t,i,K,s,ie,te,O))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(t.flags|=4194308)):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=te),_.props=s,_.state=te,_.context=O,s=K):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{_=t.stateNode,Fl(e,t),O=t.memoizedProps,le=os(i,O),_.props=le,ue=t.pendingProps,ie=_.context,te=i.contextType,K=ks,typeof te=="object"&&te!==null&&(K=lt(te)),q=i.getDerivedStateFromProps,(te=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==ue||ie!==K)&&Gh(t,_,s,K),wi=!1,ie=t.memoizedState,_.state=ie,Br(t,s,_,n),Mr();var re=t.memoizedState;O!==ue||ie!==re||wi||e!==null&&e.dependencies!==null&&qn(e.dependencies)?(typeof q=="function"&&(ho(t,i,q,s),re=t.memoizedState),(le=wi||Xh(t,i,le,s,ie,re,K)||e!==null&&e.dependencies!==null&&qn(e.dependencies))?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(s,re,K),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(s,re,K)),typeof _.componentDidUpdate=="function"&&(t.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=re),_.props=s,_.state=re,_.context=K,s=le):(typeof _.componentDidUpdate!="function"||O===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),s=!1)}return _=s,na(e,t),s=(t.flags&128)!==0,_||s?(_=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:_.render(),t.flags|=1,e!==null&&s?(t.child=Fs(t,e.child,null,n),t.child=Fs(t,null,i,n)):it(e,t,i,n),t.memoizedState=_.state,e=t.child):e=oi(e,t,n),e}function cf(e,t,i,s){return Cr(),t.flags|=256,it(e,t,i,s),t.child}var go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function po(e){return{baseLanes:e,cachePool:Vu()}}function mo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=zt),e}function uf(e,t,i){var s=t.pendingProps,n=!1,_=(t.flags&128)!==0,O;if((O=_)||(O=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),O&&(n=!0,t.flags&=-129),O=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(n?Di(t):Ti(),Re){var q=qe,K;if(K=q){e:{for(K=q,q=Xt;K.nodeType!==8;){if(!q){q=null;break e}if(K=$t(K.nextSibling),K===null){q=null;break e}}q=K}q!==null?(t.memoizedState={dehydrated:q,treeContext:es!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},K=Ct(18,null,null,0),K.stateNode=q,K.return=t,t.child=K,ut=t,qe=null,K=!0):K=!1}K||ss(t)}if(q=t.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return tc(q)?t.lanes=32:t.lanes=536870912,null;li(t)}return q=s.children,s=s.fallback,n?(Ti(),n=t.mode,q=aa({mode:"hidden",children:q},n),s=Ji(s,n,i,null),q.return=t,s.return=t,q.sibling=s,t.child=q,n=t.child,n.memoizedState=po(i),n.childLanes=mo(e,O,i),t.memoizedState=go,s):(Di(t),yo(t,q))}if(K=e.memoizedState,K!==null&&(q=K.dehydrated,q!==null)){if(_)t.flags&256?(Di(t),t.flags&=-257,t=So(e,t,i)):t.memoizedState!==null?(Ti(),t.child=e.child,t.flags|=128,t=null):(Ti(),n=s.fallback,q=t.mode,s=aa({mode:"visible",children:s.children},q),n=Ji(n,q,i,null),n.flags|=2,s.return=t,n.return=t,s.sibling=n,t.child=s,Fs(t,e.child,null,i),s=t.child,s.memoizedState=po(i),s.childLanes=mo(e,O,i),t.memoizedState=go,t=n);else if(Di(t),tc(q)){if(O=q.nextSibling&&q.nextSibling.dataset,O)var te=O.dgst;O=te,s=Error(y(419)),s.stack="",s.digest=O,wr({value:s,source:null,stack:null}),t=So(e,t,i)}else if(We||xr(e,t,i,!1),O=(i&e.childLanes)!==0,We||O){if(O=Ne,O!==null&&(s=i&-i,s=(s&42)!==0?1:tl(s),s=(s&(O.suspendedLanes|i))!==0?0:s,s!==0&&s!==K.retryLane))throw K.retryLane=s,Os(e,s),Dt(O,e,s),ef;q.data==="$?"||Uo(),t=So(e,t,i)}else q.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=K.treeContext,qe=$t(q.nextSibling),ut=t,Re=!0,is=null,Xt=!1,e!==null&&(kt[Ht++]=ii,kt[Ht++]=si,kt[Ht++]=es,ii=e.id,si=e.overflow,es=t),t=yo(t,s.children),t.flags|=4096);return t}return n?(Ti(),n=s.fallback,q=t.mode,K=e.child,te=K.sibling,s=ti(K,{mode:"hidden",children:s.children}),s.subtreeFlags=K.subtreeFlags&65011712,te!==null?n=ti(te,n):(n=Ji(n,q,i,null),n.flags|=2),n.return=t,s.return=t,s.sibling=n,t.child=s,s=n,n=t.child,q=e.child.memoizedState,q===null?q=po(i):(K=q.cachePool,K!==null?(te=Ge._currentValue,K=K.parent!==te?{parent:te,pool:te}:K):K=Vu(),q={baseLanes:q.baseLanes|i,cachePool:K}),n.memoizedState=q,n.childLanes=mo(e,O,i),t.memoizedState=go,s):(Di(t),i=e.child,e=i.sibling,i=ti(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(O=t.deletions,O===null?(t.deletions=[e],t.flags|=16):O.push(e)),t.child=i,t.memoizedState=null,i)}function yo(e,t){return t=aa({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function aa(e,t){return e=Ct(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function So(e,t,i){return Fs(t,e.child,null,i),e=yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hf(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),zl(e.return,t,i)}function bo(e,t,i,s,n){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:n}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=s,_.tail=i,_.tailMode=n)}function ff(e,t,i){var s=t.pendingProps,n=s.revealOrder,_=s.tail;if(it(e,t,s.children,i),s=Ke.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,i,t);else if(e.tag===19)hf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(W(Ke,s),n){case"forwards":for(i=t.child,n=null;i!==null;)e=i.alternate,e!==null&&ia(e)===null&&(n=i),i=i.sibling;i=n,i===null?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),bo(t,!1,n,i,_);break;case"backwards":for(i=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ia(e)===null){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}bo(t,!0,i,null,_);break;case"together":bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oi(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Oi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(xr(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(y(153));if(t.child!==null){for(e=t.child,i=ti(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ti(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Co(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&qn(e)))}function n0(e,t,i){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ci(t,Ge,e.memoizedState.cache),Cr();break;case 27:case 5:oe(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ci(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Di(t),t.flags|=128,null):(i&t.child.childLanes)!==0?uf(e,t,i):(Di(t),e=oi(e,t,i),e!==null?e.sibling:null);Di(t);break;case 19:var n=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(xr(e,t,i,!1),s=(i&t.childLanes)!==0),n){if(s)return ff(e,t,i);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),W(Ke,Ke.current),s)break;return null;case 22:case 23:return t.lanes=0,nf(e,t,i);case 24:Ci(t,Ge,e.memoizedState.cache)}return oi(e,t,i)}function df(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Co(e,i)&&(t.flags&128)===0)return We=!1,n0(e,t,i);We=(e.flags&131072)!==0}else We=!1,Re&&(t.flags&1048576)!==0&&$u(t,jn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,n=s._init;if(s=n(s._payload),t.type=s,typeof s=="function")Ml(s)?(e=os(s,e),t.tag=1,t=of(null,t,s,e,i)):(t.tag=0,t=vo(null,t,s,e,i));else{if(s!=null){if(n=s.$$typeof,n===g){t.tag=11,t=tf(null,t,s,e,i);break e}else if(n===H){t.tag=14,t=sf(null,t,s,e,i);break e}}throw t=I(s)||s,Error(y(306,t,""))}}return t;case 0:return vo(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,n=os(s,t.pendingProps),of(e,t,s,n,i);case 3:e:{if(Q(t,t.stateNode.containerInfo),e===null)throw Error(y(387));s=t.pendingProps;var _=t.memoizedState;n=_.element,Fl(e,t),Br(t,s,null,i);var O=t.memoizedState;if(s=O.cache,Ci(t,Ge,s),s!==_.cache&&Ul(t,[Ge],i,!0),Mr(),s=O.element,_.isDehydrated)if(_={element:s,isDehydrated:!1,cache:O.cache},t.updateQueue.baseState=_,t.memoizedState=_,t.flags&256){t=cf(e,t,s,i);break e}else if(s!==n){n=Lt(Error(y(424)),t),wr(n),t=cf(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=$t(e.firstChild),ut=t,Re=!0,is=null,Xt=!0,i=Fh(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Cr(),s===n){t=oi(e,t,i);break e}it(e,t,s,i)}t=t.child}return t;case 26:return na(e,t),e===null?(i=pd(t.type,null,t.pendingProps,null))?t.memoizedState=i:Re||(i=t.type,e=t.pendingProps,s=Sa(he.current).createElement(i),s[at]=t,s[vt]=e,rt(s,i,e),Ve(s),t.stateNode=s):t.memoizedState=pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return oe(t),e===null&&Re&&(s=t.stateNode=_d(t.type,t.pendingProps,he.current),ut=t,Xt=!0,n=qe,zi(t.type)?(ic=n,qe=$t(s.firstChild)):qe=n),it(e,t,t.pendingProps.children,i),na(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((n=s=qe)&&(s=O0(s,t.type,t.pendingProps,Xt),s!==null?(t.stateNode=s,ut=t,qe=$t(s.firstChild),Xt=!1,n=!0):n=!1),n||ss(t)),oe(t),n=t.type,_=t.pendingProps,O=e!==null?e.memoizedProps:null,s=_.children,Zo(n,_)?s=null:O!==null&&Zo(n,O)&&(t.flags|=32),t.memoizedState!==null&&(n=Wl(e,t,Qv,null,null,i),Jr._currentValue=n),na(e,t),it(e,t,s,i),t.child;case 6:return e===null&&Re&&((e=i=qe)&&(i=k0(i,t.pendingProps,Xt),i!==null?(t.stateNode=i,ut=t,qe=null,e=!0):e=!1),e||ss(t)),null;case 13:return uf(e,t,i);case 4:return Q(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Fs(t,null,s,i):it(e,t,s,i),t.child;case 11:return tf(e,t,t.type,t.pendingProps,i);case 7:return it(e,t,t.pendingProps,i),t.child;case 8:return it(e,t,t.pendingProps.children,i),t.child;case 12:return it(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Ci(t,t.type,s.value),it(e,t,s.children,i),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,ns(t),n=lt(n),s=s(n),t.flags|=1,it(e,t,s,i),t.child;case 14:return sf(e,t,t.type,t.pendingProps,i);case 15:return rf(e,t,t.type,t.pendingProps,i);case 19:return ff(e,t,i);case 31:return s=t.pendingProps,i=t.mode,s={mode:s.mode,children:s.children},e===null?(i=aa(s,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=ti(e.child,s),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return nf(e,t,i);case 24:return ns(t),s=lt(Ge),e===null?(n=Il(),n===null&&(n=Ne,_=jl(),n.pooledCache=_,_.refCount++,_!==null&&(n.pooledCacheLanes|=i),n=_),t.memoizedState={parent:s,cache:n},Pl(t),Ci(t,Ge,n)):((e.lanes&i)!==0&&(Fl(e,t),Br(t,null,null,i),Mr()),n=e.memoizedState,_=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Ci(t,Ge,s)):(s=_.cache,Ci(t,Ge,s),s!==n.cache&&Ul(t,[Ge],i,!0))),it(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(y(156,t.tag))}function ci(e){e.flags|=4}function _f(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cd(t)){if(t=Nt.current,t!==null&&((Ee&4194048)===Ee?Gt!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||t!==Gt))throw Tr=$l,Wu;e.flags|=8192}}function la(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Yc():536870912,e.lanes|=t,Ks|=t)}function Ur(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var n=e.child;n!==null;)i|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)i|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function a0(e,t,i){var s=t.pendingProps;switch(kl(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return je(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ni(Ge),ne(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(br(t)?ci(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Yu())),je(t),null;case 26:return i=t.memoizedState,e===null?(ci(t),i!==null?(je(t),_f(t,i)):(je(t),t.flags&=-16777217)):i?i!==e.memoizedState?(ci(t),je(t),_f(t,i)):(je(t),t.flags&=-16777217):(e.memoizedProps!==s&&ci(t),je(t),t.flags&=-16777217),null;case 27:pe(t),i=he.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ci(t);else{if(!s){if(t.stateNode===null)throw Error(y(166));return je(t),null}e=se.current,br(t)?Pu(t):(e=_d(n,s,i),t.stateNode=e,ci(t))}return je(t),null;case 5:if(pe(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ci(t);else{if(!s){if(t.stateNode===null)throw Error(y(166));return je(t),null}if(e=se.current,br(t))Pu(t);else{switch(n=Sa(he.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?n.createElement("select",{is:s.is}):n.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?n.createElement(i,{is:s.is}):n.createElement(i)}}e[at]=t,e[vt]=s;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(rt(e,i,s),i){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ci(t)}}return je(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ci(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(y(166));if(e=he.current,br(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,n=ut,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[at]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||ld(e.nodeValue,i)),e||ss(t)}else e=Sa(e).createTextNode(s),e[at]=t,t.stateNode=e}return je(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=br(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(y(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(y(317));n[at]=t}else Cr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;je(t),n=!1}else n=Yu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(li(t),t):(li(t),null)}if(li(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=s!==null,e=e!==null&&e.memoizedState!==null,i){s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool);var _=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(_=s.memoizedState.cachePool.pool),_!==n&&(s.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),la(t,t.updateQueue),je(t),null;case 4:return ne(),e===null&&Go(t.stateNode.containerInfo),je(t),null;case 10:return ni(t.type),je(t),null;case 19:if(F(Ke),n=t.memoizedState,n===null)return je(t),null;if(s=(t.flags&128)!==0,_=n.rendering,_===null)if(s)Ur(n,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(_=ia(e),_!==null){for(t.flags|=128,Ur(n,!1),e=_.updateQueue,t.updateQueue=e,la(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Iu(i,e),i=i.sibling;return W(Ke,Ke.current&1|2),t.child}e=e.sibling}n.tail!==null&&me()>ua&&(t.flags|=128,s=!0,Ur(n,!1),t.lanes=4194304)}else{if(!s)if(e=ia(_),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,la(t,e),Ur(n,!0),n.tail===null&&n.tailMode==="hidden"&&!_.alternate&&!Re)return je(t),null}else 2*me()-n.renderingStartTime>ua&&i!==536870912&&(t.flags|=128,s=!0,Ur(n,!1),t.lanes=4194304);n.isBackwards?(_.sibling=t.child,t.child=_):(e=n.last,e!==null?e.sibling=_:t.child=_,n.last=_)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=me(),t.sibling=null,e=Ke.current,W(Ke,s?e&1|2:e&1),t):(je(t),null);case 22:case 23:return li(t),Kl(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),i=t.updateQueue,i!==null&&la(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&F(as),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ni(Ge),je(t),null;case 25:return null;case 30:return null}throw Error(y(156,t.tag))}function l0(e,t){switch(kl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ni(Ge),ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pe(t),null;case 13:if(li(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(y(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(Ke),null;case 4:return ne(),null;case 10:return ni(t.type),null;case 22:case 23:return li(t),Kl(),e!==null&&F(as),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ni(Ge),null;case 25:return null;default:return null}}function vf(e,t){switch(kl(t),t.tag){case 3:ni(Ge),ne();break;case 26:case 27:case 5:pe(t);break;case 4:ne();break;case 13:li(t);break;case 19:F(Ke);break;case 10:ni(t.type);break;case 22:case 23:li(t),Kl(),e!==null&&F(as);break;case 24:ni(Ge)}}function jr(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var n=s.next;i=n;do{if((i.tag&e)===e){s=void 0;var _=i.create,O=i.inst;s=_(),O.destroy=s}i=i.next}while(i!==n)}}catch(q){He(t,t.return,q)}}function Ri(e,t,i){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var _=n.next;s=_;do{if((s.tag&e)===e){var O=s.inst,q=O.destroy;if(q!==void 0){O.destroy=void 0,n=t;var K=i,te=q;try{te()}catch(le){He(n,K,le)}}}s=s.next}while(s!==_)}}catch(le){He(t,t.return,le)}}function gf(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{ih(t,i)}catch(s){He(e,e.return,s)}}}function pf(e,t,i){i.props=os(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){He(e,t,s)}}function qr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(n){He(e,t,n)}}function Kt(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(n){He(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(n){He(e,t,n)}else i.current=null}function mf(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(n){He(e,e.return,n)}}function wo(e,t,i){try{var s=e.stateNode;T0(s,e.type,i,t),s[vt]=t}catch(n){He(e,e.return,n)}}function yf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zi(e.type)||e.tag===4}function xo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eo(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ya));else if(s!==4&&(s===27&&zi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Eo(e,t,i),e=e.sibling;e!==null;)Eo(e,t,i),e=e.sibling}function oa(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&zi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(oa(e,t,i),e=e.sibling;e!==null;)oa(e,t,i),e=e.sibling}function Sf(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);rt(t,s,i),t[at]=e,t[vt]=i}catch(_){He(e,e.return,_)}}var ui=!1,Fe=!1,Ao=!1,bf=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function o0(e,t){if(e=e.containerInfo,Wo=Aa,e=Bu(e),wl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var n=s.anchorOffset,_=s.focusNode;s=s.focusOffset;try{i.nodeType,_.nodeType}catch{i=null;break e}var O=0,q=-1,K=-1,te=0,le=0,ue=e,ie=null;t:for(;;){for(var re;ue!==i||n!==0&&ue.nodeType!==3||(q=O+n),ue!==_||s!==0&&ue.nodeType!==3||(K=O+s),ue.nodeType===3&&(O+=ue.nodeValue.length),(re=ue.firstChild)!==null;)ie=ue,ue=re;for(;;){if(ue===e)break t;if(ie===i&&++te===n&&(q=O),ie===_&&++le===s&&(K=O),(re=ue.nextSibling)!==null)break;ue=ie,ie=ue.parentNode}ue=re}i=q===-1||K===-1?null:{start:q,end:K}}else i=null}i=i||{start:0,end:0}}else i=null;for(Qo={focusedElem:e,selectionRange:i},Aa=!1,Qe=t;Qe!==null;)if(t=Qe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Qe=e;else for(;Qe!==null;){switch(t=Qe,_=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,i=t,n=_.memoizedProps,_=_.memoizedState,s=i.stateNode;try{var ye=os(i.type,n,i.elementType===i.type);e=s.getSnapshotBeforeUpdate(ye,_),s.__reactInternalSnapshotBeforeUpdate=e}catch(ve){He(i,i.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)ec(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ec(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(y(163))}if(e=t.sibling,e!==null){e.return=t.return,Qe=e;break}Qe=t.return}}function Cf(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Mi(e,i),s&4&&jr(5,i);break;case 1:if(Mi(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(O){He(i,i.return,O)}else{var n=os(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(O){He(i,i.return,O)}}s&64&&gf(i),s&512&&qr(i,i.return);break;case 3:if(Mi(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{ih(e,t)}catch(O){He(i,i.return,O)}}break;case 27:t===null&&s&4&&Sf(i);case 26:case 5:Mi(e,i),t===null&&s&4&&mf(i),s&512&&qr(i,i.return);break;case 12:Mi(e,i);break;case 13:Mi(e,i),s&4&&Ef(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=p0.bind(null,i),H0(e,i))));break;case 22:if(s=i.memoizedState!==null||ui,!s){t=t!==null&&t.memoizedState!==null||Fe,n=ui;var _=Fe;ui=s,(Fe=t)&&!_?Bi(e,i,(i.subtreeFlags&8772)!==0):Mi(e,i),ui=n,Fe=_}break;case 30:break;default:Mi(e,i)}}function wf(e){var t=e.alternate;t!==null&&(e.alternate=null,wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&rl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,mt=!1;function hi(e,t,i){for(i=i.child;i!==null;)xf(e,t,i),i=i.sibling}function xf(e,t,i){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(jt,i)}catch{}switch(i.tag){case 26:Fe||Kt(i,t),hi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Fe||Kt(i,t);var s=Ue,n=mt;zi(i.type)&&(Ue=i.stateNode,mt=!1),hi(e,t,i),Vr(i.stateNode),Ue=s,mt=n;break;case 5:Fe||Kt(i,t);case 6:if(s=Ue,n=mt,Ue=null,hi(e,t,i),Ue=s,mt=n,Ue!==null)if(mt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(i.stateNode)}catch(_){He(i,t,_)}else try{Ue.removeChild(i.stateNode)}catch(_){He(i,t,_)}break;case 18:Ue!==null&&(mt?(e=Ue,fd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),rn(e)):fd(Ue,i.stateNode));break;case 4:s=Ue,n=mt,Ue=i.stateNode.containerInfo,mt=!0,hi(e,t,i),Ue=s,mt=n;break;case 0:case 11:case 14:case 15:Fe||Ri(2,i,t),Fe||Ri(4,i,t),hi(e,t,i);break;case 1:Fe||(Kt(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&pf(i,t,s)),hi(e,t,i);break;case 21:hi(e,t,i);break;case 22:Fe=(s=Fe)||i.memoizedState!==null,hi(e,t,i),Fe=s;break;default:hi(e,t,i)}}function Ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rn(e)}catch(i){He(t,t.return,i)}}function c0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new bf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new bf),t;default:throw Error(y(435,e.tag))}}function Do(e,t){var i=c0(e);t.forEach(function(s){var n=m0.bind(null,e,s);i.has(s)||(i.add(s),s.then(n,n))})}function wt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var n=i[s],_=e,O=t,q=O;e:for(;q!==null;){switch(q.tag){case 27:if(zi(q.type)){Ue=q.stateNode,mt=!1;break e}break;case 5:Ue=q.stateNode,mt=!1;break e;case 3:case 4:Ue=q.stateNode.containerInfo,mt=!0;break e}q=q.return}if(Ue===null)throw Error(y(160));xf(_,O,n),Ue=null,mt=!1,_=n.alternate,_!==null&&(_.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Af(t,e),t=t.sibling}var It=null;function Af(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),xt(e),s&4&&(Ri(3,e,e.return),jr(3,e),Ri(5,e,e.return));break;case 1:wt(t,e),xt(e),s&512&&(Fe||i===null||Kt(i,i.return)),s&64&&ui&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var n=It;if(wt(t,e),xt(e),s&512&&(Fe||i===null||Kt(i,i.return)),s&4){var _=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":_=n.getElementsByTagName("title")[0],(!_||_[ur]||_[at]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=n.createElement(s),n.head.insertBefore(_,n.querySelector("head > title"))),rt(_,s,i),_[at]=e,Ve(_),s=_;break e;case"link":var O=Sd("link","href",n).get(s+(i.href||""));if(O){for(var q=0;q<O.length;q++)if(_=O[q],_.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&_.getAttribute("rel")===(i.rel==null?null:i.rel)&&_.getAttribute("title")===(i.title==null?null:i.title)&&_.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){O.splice(q,1);break t}}_=n.createElement(s),rt(_,s,i),n.head.appendChild(_);break;case"meta":if(O=Sd("meta","content",n).get(s+(i.content||""))){for(q=0;q<O.length;q++)if(_=O[q],_.getAttribute("content")===(i.content==null?null:""+i.content)&&_.getAttribute("name")===(i.name==null?null:i.name)&&_.getAttribute("property")===(i.property==null?null:i.property)&&_.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&_.getAttribute("charset")===(i.charSet==null?null:i.charSet)){O.splice(q,1);break t}}_=n.createElement(s),rt(_,s,i),n.head.appendChild(_);break;default:throw Error(y(468,s))}_[at]=e,Ve(_),s=_}e.stateNode=s}else bd(n,e.type,e.stateNode);else e.stateNode=yd(n,s,e.memoizedProps);else _!==s?(_===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):_.count--,s===null?bd(n,e.type,e.stateNode):yd(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&wo(e,e.memoizedProps,i.memoizedProps)}break;case 27:wt(t,e),xt(e),s&512&&(Fe||i===null||Kt(i,i.return)),i!==null&&s&4&&wo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(wt(t,e),xt(e),s&512&&(Fe||i===null||Kt(i,i.return)),e.flags&32){n=e.stateNode;try{As(n,"")}catch(re){He(e,e.return,re)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,wo(e,n,i!==null?i.memoizedProps:n)),s&1024&&(Ao=!0);break;case 6:if(wt(t,e),xt(e),s&4){if(e.stateNode===null)throw Error(y(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(re){He(e,e.return,re)}}break;case 3:if(wa=null,n=It,It=ba(t.containerInfo),wt(t,e),It=n,xt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{rn(t.containerInfo)}catch(re){He(e,e.return,re)}Ao&&(Ao=!1,Df(e));break;case 4:s=It,It=ba(e.stateNode.containerInfo),wt(t,e),xt(e),It=s;break;case 12:wt(t,e),xt(e);break;case 13:wt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Oo=me()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Do(e,s)));break;case 22:n=e.memoizedState!==null;var K=i!==null&&i.memoizedState!==null,te=ui,le=Fe;if(ui=te||n,Fe=le||K,wt(t,e),Fe=le,ui=te,xt(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(i===null||K||ui||Fe||cs(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){K=i=t;try{if(_=K.stateNode,n)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{q=K.stateNode;var ue=K.memoizedProps.style,ie=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;q.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(re){He(K,K.return,re)}}}else if(t.tag===6){if(i===null){K=t;try{K.stateNode.nodeValue=n?"":K.memoizedProps}catch(re){He(K,K.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Do(e,i))));break;case 19:wt(t,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Do(e,s)));break;case 30:break;case 21:break;default:wt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(yf(s)){i=s;break}s=s.return}if(i==null)throw Error(y(160));switch(i.tag){case 27:var n=i.stateNode,_=xo(e);oa(e,_,n);break;case 5:var O=i.stateNode;i.flags&32&&(As(O,""),i.flags&=-33);var q=xo(e);oa(e,q,O);break;case 3:case 4:var K=i.stateNode.containerInfo,te=xo(e);Eo(e,te,K);break;default:throw Error(y(161))}}catch(le){He(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Mi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cf(e,t.alternate,t),t=t.sibling}function cs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ri(4,t,t.return),cs(t);break;case 1:Kt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&pf(t,t.return,i),cs(t);break;case 27:Vr(t.stateNode);case 26:case 5:Kt(t,t.return),cs(t);break;case 22:t.memoizedState===null&&cs(t);break;case 30:cs(t);break;default:cs(t)}e=e.sibling}}function Bi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,_=t,O=_.flags;switch(_.tag){case 0:case 11:case 15:Bi(n,_,i),jr(4,_);break;case 1:if(Bi(n,_,i),s=_,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(te){He(s,s.return,te)}if(s=_,n=s.updateQueue,n!==null){var q=s.stateNode;try{var K=n.shared.hiddenCallbacks;if(K!==null)for(n.shared.hiddenCallbacks=null,n=0;n<K.length;n++)th(K[n],q)}catch(te){He(s,s.return,te)}}i&&O&64&&gf(_),qr(_,_.return);break;case 27:Sf(_);case 26:case 5:Bi(n,_,i),i&&s===null&&O&4&&mf(_),qr(_,_.return);break;case 12:Bi(n,_,i);break;case 13:Bi(n,_,i),i&&O&4&&Ef(n,_);break;case 22:_.memoizedState===null&&Bi(n,_,i),qr(_,_.return);break;case 30:break;default:Bi(n,_,i)}t=t.sibling}}function To(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Er(i))}function Ro(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Er(e))}function Vt(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tf(e,t,i,s),t=t.sibling}function Tf(e,t,i,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Vt(e,t,i,s),n&2048&&jr(9,t);break;case 1:Vt(e,t,i,s);break;case 3:Vt(e,t,i,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Er(e)));break;case 12:if(n&2048){Vt(e,t,i,s),e=t.stateNode;try{var _=t.memoizedProps,O=_.id,q=_.onPostCommit;typeof q=="function"&&q(O,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(K){He(t,t.return,K)}}else Vt(e,t,i,s);break;case 13:Vt(e,t,i,s);break;case 23:break;case 22:_=t.stateNode,O=t.alternate,t.memoizedState!==null?_._visibility&2?Vt(e,t,i,s):Ir(e,t):_._visibility&2?Vt(e,t,i,s):(_._visibility|=2,Ys(e,t,i,s,(t.subtreeFlags&10256)!==0)),n&2048&&To(O,t);break;case 24:Vt(e,t,i,s),n&2048&&Ro(t.alternate,t);break;default:Vt(e,t,i,s)}}function Ys(e,t,i,s,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var _=e,O=t,q=i,K=s,te=O.flags;switch(O.tag){case 0:case 11:case 15:Ys(_,O,q,K,n),jr(8,O);break;case 23:break;case 22:var le=O.stateNode;O.memoizedState!==null?le._visibility&2?Ys(_,O,q,K,n):Ir(_,O):(le._visibility|=2,Ys(_,O,q,K,n)),n&&te&2048&&To(O.alternate,O);break;case 24:Ys(_,O,q,K,n),n&&te&2048&&Ro(O.alternate,O);break;default:Ys(_,O,q,K,n)}t=t.sibling}}function Ir(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,n=s.flags;switch(s.tag){case 22:Ir(i,s),n&2048&&To(s.alternate,s);break;case 24:Ir(i,s),n&2048&&Ro(s.alternate,s);break;default:Ir(i,s)}t=t.sibling}}var $r=8192;function Xs(e){if(e.subtreeFlags&$r)for(e=e.child;e!==null;)Rf(e),e=e.sibling}function Rf(e){switch(e.tag){case 26:Xs(e),e.flags&$r&&e.memoizedState!==null&&K0(It,e.memoizedState,e.memoizedProps);break;case 5:Xs(e);break;case 3:case 4:var t=It;It=ba(e.stateNode.containerInfo),Xs(e),It=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=$r,$r=16777216,Xs(e),$r=t):Xs(e));break;default:Xs(e)}}function Mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Pr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Qe=s,Lf(s,e)}Mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bf(e),e=e.sibling}function Bf(e){switch(e.tag){case 0:case 11:case 15:Pr(e),e.flags&2048&&Ri(9,e,e.return);break;case 3:Pr(e);break;case 12:Pr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ca(e)):Pr(e);break;default:Pr(e)}}function ca(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Qe=s,Lf(s,e)}Mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ri(8,t,t.return),ca(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,ca(t));break;default:ca(t)}e=e.sibling}}function Lf(e,t){for(;Qe!==null;){var i=Qe;switch(i.tag){case 0:case 11:case 15:Ri(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Er(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Qe=s;else e:for(i=e;Qe!==null;){s=Qe;var n=s.sibling,_=s.return;if(wf(s),s===i){Qe=null;break e}if(n!==null){n.return=_,Qe=n;break e}Qe=_}}}var u0={getCacheForType:function(e){var t=lt(Ge),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},h0=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ne=null,we=null,Ee=0,Be=0,Et=null,Li=!1,Gs=!1,Mo=!1,fi=0,Ie=0,Oi=0,us=0,Bo=0,zt=0,Ks=0,Fr=null,yt=null,Lo=!1,Oo=0,ua=1/0,ha=null,ki=null,st=0,Hi=null,Vs=null,Ws=0,ko=0,Ho=null,Of=null,Yr=0,No=null;function At(){if((Me&2)!==0&&Ee!==0)return Ee&-Ee;if(z.T!==null){var e=zs;return e!==0?e:Po()}return Kc()}function kf(){zt===0&&(zt=(Ee&536870912)===0||Re?Fc():536870912);var e=Nt.current;return e!==null&&(e.flags|=32),zt}function Dt(e,t,i){(e===Ne&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Qs(e,0),Ni(e,Ee,zt,!1)),cr(e,i),((Me&2)===0||e!==Ne)&&(e===Ne&&((Me&2)===0&&(us|=i),Ie===4&&Ni(e,Ee,zt,!1)),Wt(e))}function Hf(e,t,i){if((Me&6)!==0)throw Error(y(327));var s=!i&&(t&124)===0&&(t&e.expiredLanes)===0||or(e,t),n=s?_0(e,t):jo(e,t,!0),_=s;do{if(n===0){Gs&&!s&&Ni(e,t,0,!1);break}else{if(i=e.current.alternate,_&&!f0(i)){n=jo(e,t,!1),_=!1;continue}if(n===2){if(_=t,e.errorRecoveryDisabledLanes&_)var O=0;else O=e.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){t=O;e:{var q=e;n=Fr;var K=q.current.memoizedState.isDehydrated;if(K&&(Qs(q,O).flags|=256),O=jo(q,O,!1),O!==2){if(Mo&&!K){q.errorRecoveryDisabledLanes|=_,us|=_,n=4;break e}_=yt,yt=n,_!==null&&(yt===null?yt=_:yt.push.apply(yt,_))}n=O}if(_=!1,n!==2)continue}}if(n===1){Qs(e,0),Ni(e,t,0,!0);break}e:{switch(s=e,_=n,_){case 0:case 1:throw Error(y(345));case 4:if((t&4194048)!==t)break;case 6:Ni(s,t,zt,!Li);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(y(329))}if((t&62914560)===t&&(n=Oo+300-me(),10<n)){if(Ni(s,t,zt,!Li),Cn(s,0,!0)!==0)break e;s.timeoutHandle=ud(Nf.bind(null,s,i,yt,ha,Lo,t,zt,us,Ks,Li,_,2,-0,0),n);break e}Nf(s,i,yt,ha,Lo,t,zt,us,Ks,Li,_,0,-0,0)}}break}while(!0);Wt(e)}function Nf(e,t,i,s,n,_,O,q,K,te,le,ue,ie,re){if(e.timeoutHandle=-1,ue=t.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Zr={stylesheets:null,count:0,unsuspend:G0},Rf(t),ue=V0(),ue!==null)){e.cancelPendingCommit=ue(Pf.bind(null,e,t,_,i,s,n,O,q,K,le,1,ie,re)),Ni(e,_,O,!te);return}Pf(e,t,_,i,s,n,O,q,K)}function f0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var n=i[s],_=n.getSnapshot;n=n.value;try{if(!bt(_(),n))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t,i,s){t&=~Bo,t&=~us,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var _=31-tt(n),O=1<<_;s[_]=-1,n&=~O}i!==0&&Xc(e,i,t)}function fa(){return(Me&6)===0?(Xr(0),!1):!0}function zo(){if(we!==null){if(Be===0)var e=we.return;else e=we,ri=rs=null,Jl(e),Ps=null,Nr=0,e=we;for(;e!==null;)vf(e.alternate,e),e=e.return;we=null}}function Qs(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,M0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),zo(),Ne=e,we=i=ti(e.current,null),Ee=t,Be=0,Et=null,Li=!1,Gs=or(e,t),Mo=!1,Ks=zt=Bo=us=Oi=Ie=0,yt=Fr=null,Lo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-tt(s),_=1<<n;t|=e[n],s&=~_}return fi=t,kn(),i}function zf(e,t){be=null,z.H=Jn,t===Dr||t===Pn?(t=Ju(),Be=3):t===Wu?(t=Ju(),Be=4):Be=t===ef?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,we===null&&(Ie=1,ra(e,Lt(t,e.current)))}function Uf(){var e=z.H;return z.H=Jn,e===null?Jn:e}function jf(){var e=z.A;return z.A=u0,e}function Uo(){Ie=4,Li||(Ee&4194048)!==Ee&&Nt.current!==null||(Gs=!0),(Oi&134217727)===0&&(us&134217727)===0||Ne===null||Ni(Ne,Ee,zt,!1)}function jo(e,t,i){var s=Me;Me|=2;var n=Uf(),_=jf();(Ne!==e||Ee!==t)&&(ha=null,Qs(e,t)),t=!1;var O=Ie;e:do try{if(Be!==0&&we!==null){var q=we,K=Et;switch(Be){case 8:zo(),O=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var te=Be;if(Be=0,Et=null,Zs(e,q,K,te),i&&Gs){O=0;break e}break;default:te=Be,Be=0,Et=null,Zs(e,q,K,te)}}d0(),O=Ie;break}catch(le){zf(e,le)}while(!0);return t&&e.shellSuspendCounter++,ri=rs=null,Me=s,z.H=n,z.A=_,we===null&&(Ne=null,Ee=0,kn()),O}function d0(){for(;we!==null;)qf(we)}function _0(e,t){var i=Me;Me|=2;var s=Uf(),n=jf();Ne!==e||Ee!==t?(ha=null,ua=me()+500,Qs(e,t)):Gs=or(e,t);e:do try{if(Be!==0&&we!==null){t=we;var _=Et;t:switch(Be){case 1:Be=0,Et=null,Zs(e,t,_,1);break;case 2:case 9:if(Qu(_)){Be=0,Et=null,If(t);break}t=function(){Be!==2&&Be!==9||Ne!==e||(Be=7),Wt(e)},_.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Qu(_)?(Be=0,Et=null,If(t)):(Be=0,Et=null,Zs(e,t,_,7));break;case 5:var O=null;switch(we.tag){case 26:O=we.memoizedState;case 5:case 27:var q=we;if(!O||Cd(O)){Be=0,Et=null;var K=q.sibling;if(K!==null)we=K;else{var te=q.return;te!==null?(we=te,da(te)):we=null}break t}}Be=0,Et=null,Zs(e,t,_,5);break;case 6:Be=0,Et=null,Zs(e,t,_,6);break;case 8:zo(),Ie=6;break e;default:throw Error(y(462))}}v0();break}catch(le){zf(e,le)}while(!0);return ri=rs=null,z.H=s,z.A=n,Me=i,we!==null?0:(Ne=null,Ee=0,kn(),Ie)}function v0(){for(;we!==null&&!nt();)qf(we)}function qf(e){var t=df(e.alternate,e,fi);e.memoizedProps=e.pendingProps,t===null?da(e):we=t}function If(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=lf(i,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=lf(i,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Jl(t);default:vf(i,t),t=we=Iu(t,fi),t=df(i,t,fi)}e.memoizedProps=e.pendingProps,t===null?da(e):we=t}function Zs(e,t,i,s){ri=rs=null,Jl(t),Ps=null,Nr=0;var n=t.return;try{if(r0(e,n,t,i,Ee)){Ie=1,ra(e,Lt(i,e.current)),we=null;return}}catch(_){if(n!==null)throw we=n,_;Ie=1,ra(e,Lt(i,e.current)),we=null;return}t.flags&32768?(Re||s===1?e=!0:Gs||(Ee&536870912)!==0?e=!1:(Li=e=!0,(s===2||s===9||s===3||s===6)&&(s=Nt.current,s!==null&&s.tag===13&&(s.flags|=16384))),$f(t,e)):da(t)}function da(e){var t=e;do{if((t.flags&32768)!==0){$f(t,Li);return}e=t.return;var i=a0(t.alternate,t,fi);if(i!==null){we=i;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ie===0&&(Ie=5)}function $f(e,t){do{var i=l0(e.alternate,e);if(i!==null){i.flags&=32767,we=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=i}while(e!==null);Ie=6,we=null}function Pf(e,t,i,s,n,_,O,q,K){e.cancelPendingCommit=null;do _a();while(st!==0);if((Me&6)!==0)throw Error(y(327));if(t!==null){if(t===e.current)throw Error(y(177));if(_=t.lanes|t.childLanes,_|=Tl,G_(e,i,_,O,q,K),e===Ne&&(we=Ne=null,Ee=0),Vs=t,Hi=e,Ws=i,ko=_,Ho=n,Of=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,y0(yi,function(){return Kf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,n=j.p,j.p=2,O=Me,Me|=4;try{o0(e,t,i)}finally{Me=O,j.p=n,z.T=s}}st=1,Ff(),Yf(),Xf()}}function Ff(){if(st===1){st=0;var e=Hi,t=Vs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var s=j.p;j.p=2;var n=Me;Me|=4;try{Af(t,e);var _=Qo,O=Bu(e.containerInfo),q=_.focusedElem,K=_.selectionRange;if(O!==q&&q&&q.ownerDocument&&Mu(q.ownerDocument.documentElement,q)){if(K!==null&&wl(q)){var te=K.start,le=K.end;if(le===void 0&&(le=te),"selectionStart"in q)q.selectionStart=te,q.selectionEnd=Math.min(le,q.value.length);else{var ue=q.ownerDocument||document,ie=ue&&ue.defaultView||window;if(ie.getSelection){var re=ie.getSelection(),ye=q.textContent.length,ve=Math.min(K.start,ye),ke=K.end===void 0?ve:Math.min(K.end,ye);!re.extend&&ve>ke&&(O=ke,ke=ve,ve=O);var Z=Ru(q,ve),V=Ru(q,ke);if(Z&&V&&(re.rangeCount!==1||re.anchorNode!==Z.node||re.anchorOffset!==Z.offset||re.focusNode!==V.node||re.focusOffset!==V.offset)){var ee=ue.createRange();ee.setStart(Z.node,Z.offset),re.removeAllRanges(),ve>ke?(re.addRange(ee),re.extend(V.node,V.offset)):(ee.setEnd(V.node,V.offset),re.addRange(ee))}}}}for(ue=[],re=q;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<ue.length;q++){var ce=ue[q];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Aa=!!Wo,Qo=Wo=null}finally{Me=n,j.p=s,z.T=i}}e.current=t,st=2}}function Yf(){if(st===2){st=0;var e=Hi,t=Vs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var s=j.p;j.p=2;var n=Me;Me|=4;try{Cf(e,t.alternate,t)}finally{Me=n,j.p=s,z.T=i}}st=3}}function Xf(){if(st===4||st===3){st=0,mi();var e=Hi,t=Vs,i=Ws,s=Of;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,Vs=Hi=null,Gf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ki=null),il(i),t=t.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(jt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,n=j.p,j.p=2,z.T=null;try{for(var _=e.onRecoverableError,O=0;O<s.length;O++){var q=s[O];_(q.value,{componentStack:q.stack})}}finally{z.T=t,j.p=n}}(Ws&3)!==0&&_a(),Wt(e),n=e.pendingLanes,(i&4194090)!==0&&(n&42)!==0?e===No?Yr++:(Yr=0,No=e):Yr=0,Xr(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Er(t)))}function _a(e){return Ff(),Yf(),Xf(),Kf()}function Kf(){if(st!==5)return!1;var e=Hi,t=ko;ko=0;var i=il(Ws),s=z.T,n=j.p;try{j.p=32>i?32:i,z.T=null,i=Ho,Ho=null;var _=Hi,O=Ws;if(st=0,Vs=Hi=null,Ws=0,(Me&6)!==0)throw Error(y(331));var q=Me;if(Me|=4,Bf(_.current),Tf(_,_.current,O,i),Me=q,Xr(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(jt,_)}catch{}return!0}finally{j.p=n,z.T=s,Gf(e,t)}}function Vf(e,t,i){t=Lt(i,t),t=_o(e.stateNode,t,2),e=Ei(e,t,2),e!==null&&(cr(e,2),Wt(e))}function He(e,t,i){if(e.tag===3)Vf(e,e,i);else for(;t!==null;){if(t.tag===3){Vf(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ki===null||!ki.has(s))){e=Lt(i,e),i=Zh(2),s=Ei(t,i,2),s!==null&&(Jh(i,s,t,e),cr(s,2),Wt(s));break}}t=t.return}}function qo(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new h0;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(i)||(Mo=!0,n.add(i),e=g0.bind(null,e,t,i),t.then(e,e))}function g0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ne===e&&(Ee&i)===i&&(Ie===4||Ie===3&&(Ee&62914560)===Ee&&300>me()-Oo?(Me&2)===0&&Qs(e,0):Bo|=i,Ks===Ee&&(Ks=0)),Wt(e)}function Wf(e,t){t===0&&(t=Yc()),e=Os(e,t),e!==null&&(cr(e,t),Wt(e))}function p0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Wf(e,i)}function m0(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(i=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(y(314))}s!==null&&s.delete(t),Wf(e,i)}function y0(e,t){return Ae(e,t)}var va=null,Js=null,Io=!1,ga=!1,$o=!1,hs=0;function Wt(e){e!==Js&&e.next===null&&(Js===null?va=Js=e:Js=Js.next=e),ga=!0,Io||(Io=!0,b0())}function Xr(e,t){if(!$o&&ga){$o=!0;do for(var i=!1,s=va;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var _=0;else{var O=s.suspendedLanes,q=s.pingedLanes;_=(1<<31-tt(42|e)+1)-1,_&=n&~(O&~q),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(i=!0,ed(s,_))}else _=Ee,_=Cn(s,s===Ne?_:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(_&3)===0||or(s,_)||(i=!0,ed(s,_));s=s.next}while(i);$o=!1}}function S0(){Qf()}function Qf(){ga=Io=!1;var e=0;hs!==0&&(R0()&&(e=hs),hs=0);for(var t=me(),i=null,s=va;s!==null;){var n=s.next,_=Zf(s,t);_===0?(s.next=null,i===null?va=n:i.next=n,n===null&&(Js=i)):(i=s,(e!==0||(_&3)!==0)&&(ga=!0)),s=n}Xr(e)}function Zf(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var O=31-tt(_),q=1<<O,K=n[O];K===-1?((q&i)===0||(q&s)!==0)&&(n[O]=X_(q,t)):K<=t&&(e.expiredLanes|=q),_&=~q}if(t=Ne,i=Ee,i=Cn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&$e(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||or(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&$e(s),il(i)){case 2:case 8:i=gs;break;case 32:i=yi;break;case 268435456:i=ct;break;default:i=yi}return s=Jf.bind(null,e),i=Ae(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&$e(s),e.callbackPriority=2,e.callbackNode=null,2}function Jf(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(_a()&&e.callbackNode!==i)return null;var s=Ee;return s=Cn(e,e===Ne?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Hf(e,s,t),Zf(e,me()),e.callbackNode!=null&&e.callbackNode===i?Jf.bind(null,e):null)}function ed(e,t){if(_a())return null;Hf(e,t,!0)}function b0(){B0(function(){(Me&6)!==0?Ae(vs,S0):Qf()})}function Po(){return hs===0&&(hs=Fc()),hs}function td(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dn(""+e)}function id(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function C0(e,t,i,s,n){if(t==="submit"&&i&&i.stateNode===n){var _=td((n[vt]||null).action),O=s.submitter;O&&(t=(t=O[vt]||null)?td(t.formAction):O.getAttribute("formAction"),t!==null&&(_=t,O=null));var q=new Bn("action","action",null,s,n);e.push({event:q,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(hs!==0){var K=O?id(n,O):new FormData(n);oo(i,{pending:!0,data:K,method:n.method,action:_},null,K)}}else typeof _=="function"&&(q.preventDefault(),K=O?id(n,O):new FormData(n),oo(i,{pending:!0,data:K,method:n.method,action:_},_,K))},currentTarget:n}]})}}for(var Fo=0;Fo<Dl.length;Fo++){var Yo=Dl[Fo],w0=Yo.toLowerCase(),x0=Yo[0].toUpperCase()+Yo.slice(1);qt(w0,"on"+x0)}qt(ku,"onAnimationEnd"),qt(Hu,"onAnimationIteration"),qt(Nu,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(Iv,"onTransitionRun"),qt($v,"onTransitionStart"),qt(Pv,"onTransitionCancel"),qt(zu,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gr));function sd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],n=s.event;s=s.listeners;e:{var _=void 0;if(t)for(var O=s.length-1;0<=O;O--){var q=s[O],K=q.instance,te=q.currentTarget;if(q=q.listener,K!==_&&n.isPropagationStopped())break e;_=q,n.currentTarget=te;try{_(n)}catch(le){sa(le)}n.currentTarget=null,_=K}else for(O=0;O<s.length;O++){if(q=s[O],K=q.instance,te=q.currentTarget,q=q.listener,K!==_&&n.isPropagationStopped())break e;_=q,n.currentTarget=te;try{_(n)}catch(le){sa(le)}n.currentTarget=null,_=K}}}}function xe(e,t){var i=t[sl];i===void 0&&(i=t[sl]=new Set);var s=e+"__bubble";i.has(s)||(rd(t,e,2,!1),i.add(s))}function Xo(e,t,i){var s=0;t&&(s|=4),rd(i,e,s,t)}var pa="_reactListening"+Math.random().toString(36).slice(2);function Go(e){if(!e[pa]){e[pa]=!0,Wc.forEach(function(i){i!=="selectionchange"&&(E0.has(i)||Xo(i,!1,e),Xo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pa]||(t[pa]=!0,Xo("selectionchange",!1,t))}}function rd(e,t,i,s){switch(Td(t)){case 2:var n=Z0;break;case 8:n=J0;break;default:n=lc}i=n.bind(null,t,i,e),n=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):n!==void 0?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function Ko(e,t,i,s,n){var _=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var O=s.tag;if(O===3||O===4){var q=s.stateNode.containerInfo;if(q===n)break;if(O===4)for(O=s.return;O!==null;){var K=O.tag;if((K===3||K===4)&&O.stateNode.containerInfo===n)return;O=O.return}for(;q!==null;){if(O=Ss(q),O===null)return;if(K=O.tag,K===5||K===6||K===26||K===27){s=_=O;continue e}q=q.parentNode}}s=s.return}uu(function(){var te=_,le=fl(i),ue=[];e:{var ie=Uu.get(e);if(ie!==void 0){var re=Bn,ye=e;switch(e){case"keypress":if(Rn(i)===0)break e;case"keydown":case"keyup":re=yv;break;case"focusin":ye="focus",re=ml;break;case"focusout":ye="blur",re=ml;break;case"beforeblur":case"afterblur":re=ml;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Cv;break;case ku:case Hu:case Nu:re=uv;break;case zu:re=xv;break;case"scroll":case"scrollend":re=nv;break;case"wheel":re=Av;break;case"copy":case"cut":case"paste":re=fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=vu;break;case"toggle":case"beforetoggle":re=Tv}var ve=(t&4)!==0,ke=!ve&&(e==="scroll"||e==="scrollend"),Z=ve?ie!==null?ie+"Capture":null:ie;ve=[];for(var V=te,ee;V!==null;){var ce=V;if(ee=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ee===null||Z===null||(ce=fr(V,Z),ce!=null&&ve.push(Kr(V,ce,ee))),ke)break;V=V.return}0<ve.length&&(ie=new re(ie,ye,null,i,le),ue.push({event:ie,listeners:ve}))}}if((t&7)===0){e:{if(ie=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",ie&&i!==hl&&(ye=i.relatedTarget||i.fromElement)&&(Ss(ye)||ye[ys]))break e;if((re||ie)&&(ie=le.window===le?le:(ie=le.ownerDocument)?ie.defaultView||ie.parentWindow:window,re?(ye=i.relatedTarget||i.toElement,re=te,ye=ye?Ss(ye):null,ye!==null&&(ke=k(ye),ve=ye.tag,ye!==ke||ve!==5&&ve!==27&&ve!==6)&&(ye=null)):(re=null,ye=te),re!==ye)){if(ve=du,ce="onMouseLeave",Z="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(ve=vu,ce="onPointerLeave",Z="onPointerEnter",V="pointer"),ke=re==null?ie:hr(re),ee=ye==null?ie:hr(ye),ie=new ve(ce,V+"leave",re,i,le),ie.target=ke,ie.relatedTarget=ee,ce=null,Ss(le)===te&&(ve=new ve(Z,V+"enter",ye,i,le),ve.target=ee,ve.relatedTarget=ke,ce=ve),ke=ce,re&&ye)t:{for(ve=re,Z=ye,V=0,ee=ve;ee;ee=er(ee))V++;for(ee=0,ce=Z;ce;ce=er(ce))ee++;for(;0<V-ee;)ve=er(ve),V--;for(;0<ee-V;)Z=er(Z),ee--;for(;V--;){if(ve===Z||Z!==null&&ve===Z.alternate)break t;ve=er(ve),Z=er(Z)}ve=null}else ve=null;re!==null&&nd(ue,ie,re,ve,!1),ye!==null&&ke!==null&&nd(ue,ke,ye,ve,!0)}}e:{if(ie=te?hr(te):window,re=ie.nodeName&&ie.nodeName.toLowerCase(),re==="select"||re==="input"&&ie.type==="file")var de=wu;else if(bu(ie))if(xu)de=Uv;else{de=Nv;var Ce=Hv}else re=ie.nodeName,!re||re.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&ul(te.elementType)&&(de=wu):de=zv;if(de&&(de=de(e,te))){Cu(ue,de,i,le);break e}Ce&&Ce(e,ie,te),e==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&cl(ie,"number",ie.value)}switch(Ce=te?hr(te):window,e){case"focusin":(bu(Ce)||Ce.contentEditable==="true")&&(Ms=Ce,xl=te,Sr=null);break;case"focusout":Sr=xl=Ms=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,Lu(ue,i,le);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":Lu(ue,i,le)}var _e;if(Sl)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Rs?yu(e,i)&&(ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ge="onCompositionStart");ge&&(gu&&i.locale!=="ko"&&(Rs||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Rs&&(_e=hu()):(bi=le,vl="value"in bi?bi.value:bi.textContent,Rs=!0)),Ce=ma(te,ge),0<Ce.length&&(ge=new _u(ge,e,null,i,le),ue.push({event:ge,listeners:Ce}),_e?ge.data=_e:(_e=Su(i),_e!==null&&(ge.data=_e)))),(_e=Mv?Bv(e,i):Lv(e,i))&&(ge=ma(te,"onBeforeInput"),0<ge.length&&(Ce=new _u("onBeforeInput","beforeinput",null,i,le),ue.push({event:Ce,listeners:ge}),Ce.data=_e)),C0(ue,e,te,i,le)}sd(ue,t)})}function Kr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ma(e,t){for(var i=t+"Capture",s=[];e!==null;){var n=e,_=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||_===null||(n=fr(e,i),n!=null&&s.unshift(Kr(e,n,_)),n=fr(e,t),n!=null&&s.push(Kr(e,n,_))),e.tag===3)return s;e=e.return}return[]}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nd(e,t,i,s,n){for(var _=t._reactName,O=[];i!==null&&i!==s;){var q=i,K=q.alternate,te=q.stateNode;if(q=q.tag,K!==null&&K===s)break;q!==5&&q!==26&&q!==27||te===null||(K=te,n?(te=fr(i,_),te!=null&&O.unshift(Kr(i,te,K))):n||(te=fr(i,_),te!=null&&O.push(Kr(i,te,K)))),i=i.return}O.length!==0&&e.push({event:t,listeners:O})}var A0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function ad(e){return(typeof e=="string"?e:""+e).replace(A0,`
`).replace(D0,"")}function ld(e,t){return t=ad(t),ad(e)===t}function ya(){}function Oe(e,t,i,s,n,_){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||As(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&As(e,""+s);break;case"className":xn(e,"class",s);break;case"tabIndex":xn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(e,i,s);break;case"style":ou(e,s,_);break;case"data":if(t!=="object"){xn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Dn(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(i==="formAction"?(t!=="input"&&Oe(e,t,"name",n.name,n,null),Oe(e,t,"formEncType",n.formEncType,n,null),Oe(e,t,"formMethod",n.formMethod,n,null),Oe(e,t,"formTarget",n.formTarget,n,null)):(Oe(e,t,"encType",n.encType,n,null),Oe(e,t,"method",n.method,n,null),Oe(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Dn(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=ya);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(y(61));if(i=s.__html,i!=null){if(n.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Dn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":xe("beforetoggle",e),xe("toggle",e),wn(e,"popover",s);break;case"xlinkActuate":Jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Jt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Jt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Jt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Jt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":wn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=sv.get(i)||i,wn(e,i,s))}}function Vo(e,t,i,s,n,_){switch(i){case"style":ou(e,s,_);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(y(61));if(i=s.__html,i!=null){if(n.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"children":typeof s=="string"?As(e,s):(typeof s=="number"||typeof s=="bigint")&&As(e,""+s);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(n=i.endsWith("Capture"),t=i.slice(2,n?i.length-7:void 0),_=e[vt]||null,_=_!=null?_[i]:null,typeof _=="function"&&e.removeEventListener(t,_,n),typeof s=="function")){typeof _!="function"&&_!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,n);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):wn(e,i,s)}}}function rt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var s=!1,n=!1,_;for(_ in i)if(i.hasOwnProperty(_)){var O=i[_];if(O!=null)switch(_){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,t));default:Oe(e,t,_,O,i,null)}}n&&Oe(e,t,"srcSet",i.srcSet,i,null),s&&Oe(e,t,"src",i.src,i,null);return;case"input":xe("invalid",e);var q=_=O=n=null,K=null,te=null;for(s in i)if(i.hasOwnProperty(s)){var le=i[s];if(le!=null)switch(s){case"name":n=le;break;case"type":O=le;break;case"checked":K=le;break;case"defaultChecked":te=le;break;case"value":_=le;break;case"defaultValue":q=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(y(137,t));break;default:Oe(e,t,s,le,i,null)}}ru(e,_,q,K,te,O,n,!1),En(e);return;case"select":xe("invalid",e),s=O=_=null;for(n in i)if(i.hasOwnProperty(n)&&(q=i[n],q!=null))switch(n){case"value":_=q;break;case"defaultValue":O=q;break;case"multiple":s=q;default:Oe(e,t,n,q,i,null)}t=_,i=O,e.multiple=!!s,t!=null?Es(e,!!s,t,!1):i!=null&&Es(e,!!s,i,!0);return;case"textarea":xe("invalid",e),_=n=s=null;for(O in i)if(i.hasOwnProperty(O)&&(q=i[O],q!=null))switch(O){case"value":s=q;break;case"defaultValue":n=q;break;case"children":_=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(y(91));break;default:Oe(e,t,O,q,i,null)}au(e,s,n,_),En(e);return;case"option":for(K in i)if(i.hasOwnProperty(K)&&(s=i[K],s!=null))switch(K){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Oe(e,t,K,s,i,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(s=0;s<Gr.length;s++)xe(Gr[s],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in i)if(i.hasOwnProperty(te)&&(s=i[te],s!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,t));default:Oe(e,t,te,s,i,null)}return;default:if(ul(t)){for(le in i)i.hasOwnProperty(le)&&(s=i[le],s!==void 0&&Vo(e,t,le,s,i,void 0));return}}for(q in i)i.hasOwnProperty(q)&&(s=i[q],s!=null&&Oe(e,t,q,s,i,null))}function T0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,_=null,O=null,q=null,K=null,te=null,le=null;for(re in i){var ue=i[re];if(i.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":K=ue;default:s.hasOwnProperty(re)||Oe(e,t,re,null,s,ue)}}for(var ie in s){var re=s[ie];if(ue=i[ie],s.hasOwnProperty(ie)&&(re!=null||ue!=null))switch(ie){case"type":_=re;break;case"name":n=re;break;case"checked":te=re;break;case"defaultChecked":le=re;break;case"value":O=re;break;case"defaultValue":q=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(y(137,t));break;default:re!==ue&&Oe(e,t,ie,re,s,ue)}}ol(e,O,q,K,te,le,_,n);return;case"select":re=O=q=ie=null;for(_ in i)if(K=i[_],i.hasOwnProperty(_)&&K!=null)switch(_){case"value":break;case"multiple":re=K;default:s.hasOwnProperty(_)||Oe(e,t,_,null,s,K)}for(n in s)if(_=s[n],K=i[n],s.hasOwnProperty(n)&&(_!=null||K!=null))switch(n){case"value":ie=_;break;case"defaultValue":q=_;break;case"multiple":O=_;default:_!==K&&Oe(e,t,n,_,s,K)}t=q,i=O,s=re,ie!=null?Es(e,!!i,ie,!1):!!s!=!!i&&(t!=null?Es(e,!!i,t,!0):Es(e,!!i,i?[]:"",!1));return;case"textarea":re=ie=null;for(q in i)if(n=i[q],i.hasOwnProperty(q)&&n!=null&&!s.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Oe(e,t,q,null,s,n)}for(O in s)if(n=s[O],_=i[O],s.hasOwnProperty(O)&&(n!=null||_!=null))switch(O){case"value":ie=n;break;case"defaultValue":re=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(y(91));break;default:n!==_&&Oe(e,t,O,n,s,_)}nu(e,ie,re);return;case"option":for(var ye in i)if(ie=i[ye],i.hasOwnProperty(ye)&&ie!=null&&!s.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Oe(e,t,ye,null,s,ie)}for(K in s)if(ie=s[K],re=i[K],s.hasOwnProperty(K)&&ie!==re&&(ie!=null||re!=null))switch(K){case"selected":e.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Oe(e,t,K,ie,s,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in i)ie=i[ve],i.hasOwnProperty(ve)&&ie!=null&&!s.hasOwnProperty(ve)&&Oe(e,t,ve,null,s,ie);for(te in s)if(ie=s[te],re=i[te],s.hasOwnProperty(te)&&ie!==re&&(ie!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(y(137,t));break;default:Oe(e,t,te,ie,s,re)}return;default:if(ul(t)){for(var ke in i)ie=i[ke],i.hasOwnProperty(ke)&&ie!==void 0&&!s.hasOwnProperty(ke)&&Vo(e,t,ke,void 0,s,ie);for(le in s)ie=s[le],re=i[le],!s.hasOwnProperty(le)||ie===re||ie===void 0&&re===void 0||Vo(e,t,le,ie,s,re);return}}for(var Z in i)ie=i[Z],i.hasOwnProperty(Z)&&ie!=null&&!s.hasOwnProperty(Z)&&Oe(e,t,Z,null,s,ie);for(ue in s)ie=s[ue],re=i[ue],!s.hasOwnProperty(ue)||ie===re||ie==null&&re==null||Oe(e,t,ue,ie,s,re)}var Wo=null,Qo=null;function Sa(e){return e.nodeType===9?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jo=null;function R0(){var e=window.event;return e&&e.type==="popstate"?e===Jo?!1:(Jo=e,!0):(Jo=null,!1)}var ud=typeof setTimeout=="function"?setTimeout:void 0,M0=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,B0=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(L0)}:ud;function L0(e){setTimeout(function(){throw e})}function zi(e){return e==="head"}function fd(e,t){var i=t,s=0,n=0;do{var _=i.nextSibling;if(e.removeChild(i),_&&_.nodeType===8)if(i=_.data,i==="/$"){if(0<s&&8>s){i=s;var O=e.ownerDocument;if(i&1&&Vr(O.documentElement),i&2&&Vr(O.body),i&4)for(i=O.head,Vr(i),O=i.firstChild;O;){var q=O.nextSibling,K=O.nodeName;O[ur]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&O.rel.toLowerCase()==="stylesheet"||i.removeChild(O),O=q}}if(n===0){e.removeChild(_),rn(t);return}n--}else i==="$"||i==="$?"||i==="$!"?n++:s=i.charCodeAt(0)-48;else s=0;i=_}while(i);rn(t)}function ec(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ec(i),rl(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function O0(e,t,i,s){for(;e.nodeType===1;){var n=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ur])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var _=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function k0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=$t(e.nextSibling),e===null))return null;return e}function tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function H0(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ic=null;function dd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function _d(e,t,i){switch(t=Sa(i),e){case"html":if(e=t.documentElement,!e)throw Error(y(452));return e;case"head":if(e=t.head,!e)throw Error(y(453));return e;case"body":if(e=t.body,!e)throw Error(y(454));return e;default:throw Error(y(451))}}function Vr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);rl(e)}var Ut=new Map,vd=new Set;function ba(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var di=j.d;j.d={f:N0,r:z0,D:U0,C:j0,L:q0,m:I0,X:P0,S:$0,M:F0};function N0(){var e=di.f(),t=fa();return e||t}function z0(e){var t=bs(e);t!==null&&t.tag===5&&t.type==="form"?kh(t):di.r(e)}var tr=typeof document>"u"?null:document;function gd(e,t,i){var s=tr;if(s&&typeof t=="string"&&t){var n=Bt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof i=="string"&&(n+='[crossorigin="'+i+'"]'),vd.has(n)||(vd.add(n),e={rel:e,crossOrigin:i,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),rt(t,"link",e),Ve(t),s.head.appendChild(t)))}}function U0(e){di.D(e),gd("dns-prefetch",e,null)}function j0(e,t){di.C(e,t),gd("preconnect",e,t)}function q0(e,t,i){di.L(e,t,i);var s=tr;if(s&&e&&t){var n='link[rel="preload"][as="'+Bt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(n+='[imagesrcset="'+Bt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(n+='[imagesizes="'+Bt(i.imageSizes)+'"]')):n+='[href="'+Bt(e)+'"]';var _=n;switch(t){case"style":_=ir(e);break;case"script":_=sr(e)}Ut.has(_)||(e=m({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Ut.set(_,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(Wr(_))||t==="script"&&s.querySelector(Qr(_))||(t=s.createElement("link"),rt(t,"link",e),Ve(t),s.head.appendChild(t)))}}function I0(e,t){di.m(e,t);var i=tr;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Bt(s)+'"][href="'+Bt(e)+'"]',_=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=sr(e)}if(!Ut.has(_)&&(e=m({rel:"modulepreload",href:e},t),Ut.set(_,e),i.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Qr(_)))return}s=i.createElement("link"),rt(s,"link",e),Ve(s),i.head.appendChild(s)}}}function $0(e,t,i){di.S(e,t,i);var s=tr;if(s&&e){var n=Cs(s).hoistableStyles,_=ir(e);t=t||"default";var O=n.get(_);if(!O){var q={loading:0,preload:null};if(O=s.querySelector(Wr(_)))q.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Ut.get(_))&&sc(e,i);var K=O=s.createElement("link");Ve(K),rt(K,"link",e),K._p=new Promise(function(te,le){K.onload=te,K.onerror=le}),K.addEventListener("load",function(){q.loading|=1}),K.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Ca(O,t,s)}O={type:"stylesheet",instance:O,count:1,state:q},n.set(_,O)}}}function P0(e,t){di.X(e,t);var i=tr;if(i&&e){var s=Cs(i).hoistableScripts,n=sr(e),_=s.get(n);_||(_=i.querySelector(Qr(n)),_||(e=m({src:e,async:!0},t),(t=Ut.get(n))&&rc(e,t),_=i.createElement("script"),Ve(_),rt(_,"link",e),i.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},s.set(n,_))}}function F0(e,t){di.M(e,t);var i=tr;if(i&&e){var s=Cs(i).hoistableScripts,n=sr(e),_=s.get(n);_||(_=i.querySelector(Qr(n)),_||(e=m({src:e,async:!0,type:"module"},t),(t=Ut.get(n))&&rc(e,t),_=i.createElement("script"),Ve(_),rt(_,"link",e),i.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},s.set(n,_))}}function pd(e,t,i,s){var n=(n=he.current)?ba(n):null;if(!n)throw Error(y(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ir(i.href),i=Cs(n).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ir(i.href);var _=Cs(n).hoistableStyles,O=_.get(e);if(O||(n=n.ownerDocument||n,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,O),(_=n.querySelector(Wr(e)))&&!_._p&&(O.instance=_,O.state.loading=5),Ut.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ut.set(e,i),_||Y0(n,e,i,O.state))),t&&s===null)throw Error(y(528,""));return O}if(t&&s!==null)throw Error(y(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=sr(i),i=Cs(n).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,e))}}function ir(e){return'href="'+Bt(e)+'"'}function Wr(e){return'link[rel="stylesheet"]['+e+"]"}function md(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Y0(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),rt(t,"link",i),Ve(t),e.head.appendChild(t))}function sr(e){return'[src="'+Bt(e)+'"]'}function Qr(e){return"script[async]"+e}function yd(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Bt(i.href)+'"]');if(s)return t.instance=s,Ve(s),s;var n=m({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ve(s),rt(s,"style",n),Ca(s,i.precedence,e),t.instance=s;case"stylesheet":n=ir(i.href);var _=e.querySelector(Wr(n));if(_)return t.state.loading|=4,t.instance=_,Ve(_),_;s=md(i),(n=Ut.get(n))&&sc(s,n),_=(e.ownerDocument||e).createElement("link"),Ve(_);var O=_;return O._p=new Promise(function(q,K){O.onload=q,O.onerror=K}),rt(_,"link",s),t.state.loading|=4,Ca(_,i.precedence,e),t.instance=_;case"script":return _=sr(i.src),(n=e.querySelector(Qr(_)))?(t.instance=n,Ve(n),n):(s=i,(n=Ut.get(_))&&(s=m({},i),rc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ve(n),rt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(y(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ca(s,i.precedence,e));return t.instance}function Ca(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,_=n,O=0;O<s.length;O++){var q=s[O];if(q.dataset.precedence===t)_=q;else if(_!==n)break}_?_.parentNode.insertBefore(e,_.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function sc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wa=null;function Sd(e,t,i){if(wa===null){var s=new Map,n=wa=new Map;n.set(i,s)}else n=wa,s=n.get(i),s||(s=new Map,n.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),n=0;n<i.length;n++){var _=i[n];if(!(_[ur]||_[at]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(t)||"";O=e+O;var q=s.get(O);q?q.push(_):s.set(O,[_])}}return s}function bd(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function X0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Cd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zr=null;function G0(){}function K0(e,t,i){if(Zr===null)throw Error(y(475));var s=Zr;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=ir(i.href),_=e.querySelector(Wr(n));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=xa.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=_,Ve(_);return}_=e.ownerDocument||e,i=md(i),(n=Ut.get(n))&&sc(i,n),_=_.createElement("link"),Ve(_);var O=_;O._p=new Promise(function(q,K){O.onload=q,O.onerror=K}),rt(_,"link",i),t.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=xa.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function V0(){if(Zr===null)throw Error(y(475));var e=Zr;return e.stylesheets&&e.count===0&&nc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function xa(){if(this.count--,this.count===0){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ea=null;function nc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ea=new Map,t.forEach(W0,e),Ea=null,xa.call(e))}function W0(e,t){if(!(t.state.loading&4)){var i=Ea.get(e);if(i)var s=i.get(null);else{i=new Map,Ea.set(e,i);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<n.length;_++){var O=n[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(i.set(O.dataset.precedence,O),s=O)}s&&i.set(null,s)}n=t.instance,O=n.getAttribute("data-precedence"),_=i.get(O)||s,_===s&&i.set(null,n),i.set(O,n),this.count++,s=xa.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),_?_.parentNode.insertBefore(n,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Jr={$$typeof:d,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function Q0(e,t,i,s,n,_,O,q){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=el(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.hiddenUpdates=el(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function wd(e,t,i,s,n,_,O,q,K,te,le,ue){return e=new Q0(e,t,i,O,q,K,te,ue),t=1,_===!0&&(t|=24),_=Ct(3,null,null,t),e.current=_,_.stateNode=e,t=jl(),t.refCount++,e.pooledCache=t,t.refCount++,_.memoizedState={element:s,isDehydrated:i,cache:t},Pl(_),e}function xd(e){return e?(e=ks,e):ks}function Ed(e,t,i,s,n,_){n=xd(n),s.context===null?s.context=n:s.pendingContext=n,s=xi(t),s.payload={element:i},_=_===void 0?null:_,_!==null&&(s.callback=_),i=Ei(e,s,t),i!==null&&(Dt(i,e,t),Rr(i,e,t))}function Ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ac(e,t){Ad(e,t),(e=e.alternate)&&Ad(e,t)}function Dd(e){if(e.tag===13){var t=Os(e,67108864);t!==null&&Dt(t,e,67108864),ac(e,67108864)}}var Aa=!0;function Z0(e,t,i,s){var n=z.T;z.T=null;var _=j.p;try{j.p=2,lc(e,t,i,s)}finally{j.p=_,z.T=n}}function J0(e,t,i,s){var n=z.T;z.T=null;var _=j.p;try{j.p=8,lc(e,t,i,s)}finally{j.p=_,z.T=n}}function lc(e,t,i,s){if(Aa){var n=oc(s);if(n===null)Ko(e,t,s,Da,i),Rd(e,s);else if(tg(n,e,t,i,s))s.stopPropagation();else if(Rd(e,s),t&4&&-1<eg.indexOf(e)){for(;n!==null;){var _=bs(n);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=Ki(_.pendingLanes);if(O!==0){var q=_;for(q.pendingLanes|=2,q.entangledLanes|=2;O;){var K=1<<31-tt(O);q.entanglements[1]|=K,O&=~K}Wt(_),(Me&6)===0&&(ua=me()+500,Xr(0))}}break;case 13:q=Os(_,2),q!==null&&Dt(q,_,2),fa(),ac(_,2)}if(_=oc(s),_===null&&Ko(e,t,s,Da,i),_===n)break;n=_}n!==null&&s.stopPropagation()}else Ko(e,t,s,null,i)}}function oc(e){return e=fl(e),cc(e)}var Da=null;function cc(e){if(Da=null,e=Ss(e),e!==null){var t=k(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=L(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Da=e,null}function Td(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case vs:return 2;case gs:return 8;case yi:case ps:return 32;case ct:return 268435456;default:return 32}default:return 32}}var uc=!1,Ui=null,ji=null,qi=null,en=new Map,tn=new Map,Ii=[],eg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rd(e,t){switch(e){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":en.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tn.delete(t.pointerId)}}function sn(e,t,i,s,n,_){return e===null||e.nativeEvent!==_?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:_,targetContainers:[n]},t!==null&&(t=bs(t),t!==null&&Dd(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function tg(e,t,i,s,n){switch(t){case"focusin":return Ui=sn(Ui,e,t,i,s,n),!0;case"dragenter":return ji=sn(ji,e,t,i,s,n),!0;case"mouseover":return qi=sn(qi,e,t,i,s,n),!0;case"pointerover":var _=n.pointerId;return en.set(_,sn(en.get(_)||null,e,t,i,s,n)),!0;case"gotpointercapture":return _=n.pointerId,tn.set(_,sn(tn.get(_)||null,e,t,i,s,n)),!0}return!1}function Md(e){var t=Ss(e.target);if(t!==null){var i=k(t);if(i!==null){if(t=i.tag,t===13){if(t=L(i),t!==null){e.blockedOn=t,K_(e.priority,function(){if(i.tag===13){var s=At();s=tl(s);var n=Os(i,s);n!==null&&Dt(n,i,s),ac(i,s)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ta(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=oc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);hl=s,i.target.dispatchEvent(s),hl=null}else return t=bs(i),t!==null&&Dd(t),e.blockedOn=i,!1;t.shift()}return!0}function Bd(e,t,i){Ta(e)&&i.delete(t)}function ig(){uc=!1,Ui!==null&&Ta(Ui)&&(Ui=null),ji!==null&&Ta(ji)&&(ji=null),qi!==null&&Ta(qi)&&(qi=null),en.forEach(Bd),tn.forEach(Bd)}function Ra(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ig)))}var Ma=null;function Ld(e){Ma!==e&&(Ma=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ma===e&&(Ma=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(cc(s||i)===null)continue;break}var _=bs(i);_!==null&&(e.splice(t,3),t-=3,oo(_,{pending:!0,data:n,method:i.method,action:s},s,n))}}))}function rn(e){function t(K){return Ra(K,e)}Ui!==null&&Ra(Ui,e),ji!==null&&Ra(ji,e),qi!==null&&Ra(qi,e),en.forEach(t),tn.forEach(t);for(var i=0;i<Ii.length;i++){var s=Ii[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ii.length&&(i=Ii[0],i.blockedOn===null);)Md(i),i.blockedOn===null&&Ii.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var n=i[s],_=i[s+1],O=n[vt]||null;if(typeof _=="function")O||Ld(i);else if(O){var q=null;if(_&&_.hasAttribute("formAction")){if(n=_,O=_[vt]||null)q=O.formAction;else if(cc(n)!==null)continue}else q=O.action;typeof q=="function"?i[s+1]=q:(i.splice(s,3),s-=3),Ld(i)}}}function hc(e){this._internalRoot=e}Ba.prototype.render=hc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(y(409));var i=t.current,s=At();Ed(i,s,e,t,null,null)},Ba.prototype.unmount=hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ed(e.current,2,null,e,null,null),fa(),t[ys]=null}};function Ba(e){this._internalRoot=e}Ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ii.length&&t!==0&&t<Ii[i].priority;i++);Ii.splice(i,0,e),i===0&&Md(e)}};var Od=c.version;if(Od!=="19.1.0")throw Error(y(527,Od,"19.1.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=u(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var sg={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{jt=La.inject(sg),Je=La}catch{}}return an.createRoot=function(e,t){if(!D(e))throw Error(y(299));var i=!1,s="",n=Kh,_=Vh,O=Wh,q=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(_=t.onCaughtError),t.onRecoverableError!==void 0&&(O=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(q=t.unstable_transitionCallbacks)),t=wd(e,1,!1,null,null,i,s,n,_,O,q,null),e[ys]=t.current,Go(e),new hc(t)},an.hydrateRoot=function(e,t,i){if(!D(e))throw Error(y(299));var s=!1,n="",_=Kh,O=Vh,q=Wh,K=null,te=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(n=i.identifierPrefix),i.onUncaughtError!==void 0&&(_=i.onUncaughtError),i.onCaughtError!==void 0&&(O=i.onCaughtError),i.onRecoverableError!==void 0&&(q=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(K=i.unstable_transitionCallbacks),i.formState!==void 0&&(te=i.formState)),t=wd(e,1,!0,t,i??null,s,n,_,O,q,K,te),t.context=xd(null),i=t.current,s=At(),s=tl(s),n=xi(s),n.callback=null,Ei(i,n,s),i=s,t.current.lanes=i,cr(t,i),Wt(t),e[ys]=t.current,Go(e),new Ba(t)},an.version="19.1.0",an}var Pd;function _g(){if(Pd)return _c.exports;Pd=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),_c.exports=dg(),_c.exports}var vg=_g();const gg=p_(vg);var pg={value:()=>{}};function mn(){for(var r=0,c=arguments.length,p={},y;r<c;++r){if(!(y=arguments[r]+"")||y in p||/[\s.]/.test(y))throw new Error("illegal type: "+y);p[y]=[]}return new ja(p)}function ja(r){this._=r}function mg(r,c){return r.trim().split(/^|\s+/).map(function(p){var y="",D=p.indexOf(".");if(D>=0&&(y=p.slice(D+1),p=p.slice(0,D)),p&&!c.hasOwnProperty(p))throw new Error("unknown type: "+p);return{type:p,name:y}})}ja.prototype=mn.prototype={constructor:ja,on:function(r,c){var p=this._,y=mg(r+"",p),D,k=-1,L=y.length;if(arguments.length<2){for(;++k<L;)if((D=(r=y[k]).type)&&(D=yg(p[D],r.name)))return D;return}if(c!=null&&typeof c!="function")throw new Error("invalid callback: "+c);for(;++k<L;)if(D=(r=y[k]).type)p[D]=Fd(p[D],r.name,c);else if(c==null)for(D in p)p[D]=Fd(p[D],r.name,null);return this},copy:function(){var r={},c=this._;for(var p in c)r[p]=c[p].slice();return new ja(r)},call:function(r,c){if((D=arguments.length-2)>0)for(var p=new Array(D),y=0,D,k;y<D;++y)p[y]=arguments[y+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(k=this._[r],y=0,D=k.length;y<D;++y)k[y].value.apply(c,p)},apply:function(r,c,p){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var y=this._[r],D=0,k=y.length;D<k;++D)y[D].value.apply(c,p)}};function yg(r,c){for(var p=0,y=r.length,D;p<y;++p)if((D=r[p]).name===c)return D.value}function Fd(r,c,p){for(var y=0,D=r.length;y<D;++y)if(r[y].name===c){r[y]=pg,r=r.slice(0,y).concat(r.slice(y+1));break}return p!=null&&r.push({name:c,value:p}),r}var Ec="http://www.w3.org/1999/xhtml";const Yd={svg:"http://www.w3.org/2000/svg",xhtml:Ec,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qa(r){var c=r+="",p=c.indexOf(":");return p>=0&&(c=r.slice(0,p))!=="xmlns"&&(r=r.slice(p+1)),Yd.hasOwnProperty(c)?{space:Yd[c],local:r}:r}function Sg(r){return function(){var c=this.ownerDocument,p=this.namespaceURI;return p===Ec&&c.documentElement.namespaceURI===Ec?c.createElement(r):c.createElementNS(p,r)}}function bg(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function m_(r){var c=Qa(r);return(c.local?bg:Sg)(c)}function Cg(){}function Hc(r){return r==null?Cg:function(){return this.querySelector(r)}}function wg(r){typeof r!="function"&&(r=Hc(r));for(var c=this._groups,p=c.length,y=new Array(p),D=0;D<p;++D)for(var k=c[D],L=k.length,l=y[D]=new Array(L),u,h,m=0;m<L;++m)(u=k[m])&&(h=r.call(u,u.__data__,m,k))&&("__data__"in u&&(h.__data__=u.__data__),l[m]=h);return new Tt(y,this._parents)}function xg(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function Eg(){return[]}function y_(r){return r==null?Eg:function(){return this.querySelectorAll(r)}}function Ag(r){return function(){return xg(r.apply(this,arguments))}}function Dg(r){typeof r=="function"?r=Ag(r):r=y_(r);for(var c=this._groups,p=c.length,y=[],D=[],k=0;k<p;++k)for(var L=c[k],l=L.length,u,h=0;h<l;++h)(u=L[h])&&(y.push(r.call(u,u.__data__,h,L)),D.push(u));return new Tt(y,D)}function S_(r){return function(){return this.matches(r)}}function b_(r){return function(c){return c.matches(r)}}var Tg=Array.prototype.find;function Rg(r){return function(){return Tg.call(this.children,r)}}function Mg(){return this.firstElementChild}function Bg(r){return this.select(r==null?Mg:Rg(typeof r=="function"?r:b_(r)))}var Lg=Array.prototype.filter;function Og(){return Array.from(this.children)}function kg(r){return function(){return Lg.call(this.children,r)}}function Hg(r){return this.selectAll(r==null?Og:kg(typeof r=="function"?r:b_(r)))}function Ng(r){typeof r!="function"&&(r=S_(r));for(var c=this._groups,p=c.length,y=new Array(p),D=0;D<p;++D)for(var k=c[D],L=k.length,l=y[D]=[],u,h=0;h<L;++h)(u=k[h])&&r.call(u,u.__data__,h,k)&&l.push(u);return new Tt(y,this._parents)}function C_(r){return new Array(r.length)}function zg(){return new Tt(this._enter||this._groups.map(C_),this._parents)}function Pa(r,c){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=c}Pa.prototype={constructor:Pa,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,c){return this._parent.insertBefore(r,c)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function Ug(r){return function(){return r}}function jg(r,c,p,y,D,k){for(var L=0,l,u=c.length,h=k.length;L<h;++L)(l=c[L])?(l.__data__=k[L],y[L]=l):p[L]=new Pa(r,k[L]);for(;L<u;++L)(l=c[L])&&(D[L]=l)}function qg(r,c,p,y,D,k,L){var l,u,h=new Map,m=c.length,v=k.length,S=new Array(m),x;for(l=0;l<m;++l)(u=c[l])&&(S[l]=x=L.call(u,u.__data__,l,c)+"",h.has(x)?D[l]=u:h.set(x,u));for(l=0;l<v;++l)x=L.call(r,k[l],l,k)+"",(u=h.get(x))?(y[l]=u,u.__data__=k[l],h.delete(x)):p[l]=new Pa(r,k[l]);for(l=0;l<m;++l)(u=c[l])&&h.get(S[l])===u&&(D[l]=u)}function Ig(r){return r.__data__}function $g(r,c){if(!arguments.length)return Array.from(this,Ig);var p=c?qg:jg,y=this._parents,D=this._groups;typeof r!="function"&&(r=Ug(r));for(var k=D.length,L=new Array(k),l=new Array(k),u=new Array(k),h=0;h<k;++h){var m=y[h],v=D[h],S=v.length,x=Pg(r.call(m,m&&m.__data__,h,y)),T=x.length,C=l[h]=new Array(T),a=L[h]=new Array(T),o=u[h]=new Array(S);p(m,v,C,a,o,x,c);for(var f=0,d=0,g,w;f<T;++f)if(g=C[f]){for(f>=d&&(d=f+1);!(w=a[d])&&++d<T;);g._next=w||null}}return L=new Tt(L,y),L._enter=l,L._exit=u,L}function Pg(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function Fg(){return new Tt(this._exit||this._groups.map(C_),this._parents)}function Yg(r,c,p){var y=this.enter(),D=this,k=this.exit();return typeof r=="function"?(y=r(y),y&&(y=y.selection())):y=y.append(r+""),c!=null&&(D=c(D),D&&(D=D.selection())),p==null?k.remove():p(k),y&&D?y.merge(D).order():D}function Xg(r){for(var c=r.selection?r.selection():r,p=this._groups,y=c._groups,D=p.length,k=y.length,L=Math.min(D,k),l=new Array(D),u=0;u<L;++u)for(var h=p[u],m=y[u],v=h.length,S=l[u]=new Array(v),x,T=0;T<v;++T)(x=h[T]||m[T])&&(S[T]=x);for(;u<D;++u)l[u]=p[u];return new Tt(l,this._parents)}function Gg(){for(var r=this._groups,c=-1,p=r.length;++c<p;)for(var y=r[c],D=y.length-1,k=y[D],L;--D>=0;)(L=y[D])&&(k&&L.compareDocumentPosition(k)^4&&k.parentNode.insertBefore(L,k),k=L);return this}function Kg(r){r||(r=Vg);function c(v,S){return v&&S?r(v.__data__,S.__data__):!v-!S}for(var p=this._groups,y=p.length,D=new Array(y),k=0;k<y;++k){for(var L=p[k],l=L.length,u=D[k]=new Array(l),h,m=0;m<l;++m)(h=L[m])&&(u[m]=h);u.sort(c)}return new Tt(D,this._parents).order()}function Vg(r,c){return r<c?-1:r>c?1:r>=c?0:NaN}function Wg(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function Qg(){return Array.from(this)}function Zg(){for(var r=this._groups,c=0,p=r.length;c<p;++c)for(var y=r[c],D=0,k=y.length;D<k;++D){var L=y[D];if(L)return L}return null}function Jg(){let r=0;for(const c of this)++r;return r}function ep(){return!this.node()}function tp(r){for(var c=this._groups,p=0,y=c.length;p<y;++p)for(var D=c[p],k=0,L=D.length,l;k<L;++k)(l=D[k])&&r.call(l,l.__data__,k,D);return this}function ip(r){return function(){this.removeAttribute(r)}}function sp(r){return function(){this.removeAttributeNS(r.space,r.local)}}function rp(r,c){return function(){this.setAttribute(r,c)}}function np(r,c){return function(){this.setAttributeNS(r.space,r.local,c)}}function ap(r,c){return function(){var p=c.apply(this,arguments);p==null?this.removeAttribute(r):this.setAttribute(r,p)}}function lp(r,c){return function(){var p=c.apply(this,arguments);p==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,p)}}function op(r,c){var p=Qa(r);if(arguments.length<2){var y=this.node();return p.local?y.getAttributeNS(p.space,p.local):y.getAttribute(p)}return this.each((c==null?p.local?sp:ip:typeof c=="function"?p.local?lp:ap:p.local?np:rp)(p,c))}function w_(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function cp(r){return function(){this.style.removeProperty(r)}}function up(r,c,p){return function(){this.style.setProperty(r,c,p)}}function hp(r,c,p){return function(){var y=c.apply(this,arguments);y==null?this.style.removeProperty(r):this.style.setProperty(r,y,p)}}function fp(r,c,p){return arguments.length>1?this.each((c==null?cp:typeof c=="function"?hp:up)(r,c,p??"")):ar(this.node(),r)}function ar(r,c){return r.style.getPropertyValue(c)||w_(r).getComputedStyle(r,null).getPropertyValue(c)}function dp(r){return function(){delete this[r]}}function _p(r,c){return function(){this[r]=c}}function vp(r,c){return function(){var p=c.apply(this,arguments);p==null?delete this[r]:this[r]=p}}function gp(r,c){return arguments.length>1?this.each((c==null?dp:typeof c=="function"?vp:_p)(r,c)):this.node()[r]}function x_(r){return r.trim().split(/^|\s+/)}function Nc(r){return r.classList||new E_(r)}function E_(r){this._node=r,this._names=x_(r.getAttribute("class")||"")}E_.prototype={add:function(r){var c=this._names.indexOf(r);c<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var c=this._names.indexOf(r);c>=0&&(this._names.splice(c,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};function A_(r,c){for(var p=Nc(r),y=-1,D=c.length;++y<D;)p.add(c[y])}function D_(r,c){for(var p=Nc(r),y=-1,D=c.length;++y<D;)p.remove(c[y])}function pp(r){return function(){A_(this,r)}}function mp(r){return function(){D_(this,r)}}function yp(r,c){return function(){(c.apply(this,arguments)?A_:D_)(this,r)}}function Sp(r,c){var p=x_(r+"");if(arguments.length<2){for(var y=Nc(this.node()),D=-1,k=p.length;++D<k;)if(!y.contains(p[D]))return!1;return!0}return this.each((typeof c=="function"?yp:c?pp:mp)(p,c))}function bp(){this.textContent=""}function Cp(r){return function(){this.textContent=r}}function wp(r){return function(){var c=r.apply(this,arguments);this.textContent=c??""}}function xp(r){return arguments.length?this.each(r==null?bp:(typeof r=="function"?wp:Cp)(r)):this.node().textContent}function Ep(){this.innerHTML=""}function Ap(r){return function(){this.innerHTML=r}}function Dp(r){return function(){var c=r.apply(this,arguments);this.innerHTML=c??""}}function Tp(r){return arguments.length?this.each(r==null?Ep:(typeof r=="function"?Dp:Ap)(r)):this.node().innerHTML}function Rp(){this.nextSibling&&this.parentNode.appendChild(this)}function Mp(){return this.each(Rp)}function Bp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lp(){return this.each(Bp)}function Op(r){var c=typeof r=="function"?r:m_(r);return this.select(function(){return this.appendChild(c.apply(this,arguments))})}function kp(){return null}function Hp(r,c){var p=typeof r=="function"?r:m_(r),y=c==null?kp:typeof c=="function"?c:Hc(c);return this.select(function(){return this.insertBefore(p.apply(this,arguments),y.apply(this,arguments)||null)})}function Np(){var r=this.parentNode;r&&r.removeChild(this)}function zp(){return this.each(Np)}function Up(){var r=this.cloneNode(!1),c=this.parentNode;return c?c.insertBefore(r,this.nextSibling):r}function jp(){var r=this.cloneNode(!0),c=this.parentNode;return c?c.insertBefore(r,this.nextSibling):r}function qp(r){return this.select(r?jp:Up)}function Ip(r){return arguments.length?this.property("__data__",r):this.node().__data__}function $p(r){return function(c){r.call(this,c,this.__data__)}}function Pp(r){return r.trim().split(/^|\s+/).map(function(c){var p="",y=c.indexOf(".");return y>=0&&(p=c.slice(y+1),c=c.slice(0,y)),{type:c,name:p}})}function Fp(r){return function(){var c=this.__on;if(c){for(var p=0,y=-1,D=c.length,k;p<D;++p)k=c[p],(!r.type||k.type===r.type)&&k.name===r.name?this.removeEventListener(k.type,k.listener,k.options):c[++y]=k;++y?c.length=y:delete this.__on}}}function Yp(r,c,p){return function(){var y=this.__on,D,k=$p(c);if(y){for(var L=0,l=y.length;L<l;++L)if((D=y[L]).type===r.type&&D.name===r.name){this.removeEventListener(D.type,D.listener,D.options),this.addEventListener(D.type,D.listener=k,D.options=p),D.value=c;return}}this.addEventListener(r.type,k,p),D={type:r.type,name:r.name,value:c,listener:k,options:p},y?y.push(D):this.__on=[D]}}function Xp(r,c,p){var y=Pp(r+""),D,k=y.length,L;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,h=l.length,m;u<h;++u)for(D=0,m=l[u];D<k;++D)if((L=y[D]).type===m.type&&L.name===m.name)return m.value}return}for(l=c?Yp:Fp,D=0;D<k;++D)this.each(l(y[D],c,p));return this}function T_(r,c,p){var y=w_(r),D=y.CustomEvent;typeof D=="function"?D=new D(c,p):(D=y.document.createEvent("Event"),p?(D.initEvent(c,p.bubbles,p.cancelable),D.detail=p.detail):D.initEvent(c,!1,!1)),r.dispatchEvent(D)}function Gp(r,c){return function(){return T_(this,r,c)}}function Kp(r,c){return function(){return T_(this,r,c.apply(this,arguments))}}function Vp(r,c){return this.each((typeof c=="function"?Kp:Gp)(r,c))}function*Wp(){for(var r=this._groups,c=0,p=r.length;c<p;++c)for(var y=r[c],D=0,k=y.length,L;D<k;++D)(L=y[D])&&(yield L)}var R_=[null];function Tt(r,c){this._groups=r,this._parents=c}function yn(){return new Tt([[document.documentElement]],R_)}function Qp(){return this}Tt.prototype=yn.prototype={constructor:Tt,select:wg,selectAll:Dg,selectChild:Bg,selectChildren:Hg,filter:Ng,data:$g,enter:zg,exit:Fg,join:Yg,merge:Xg,selection:Qp,order:Gg,sort:Kg,call:Wg,nodes:Qg,node:Zg,size:Jg,empty:ep,each:tp,attr:op,style:fp,property:gp,classed:Sp,text:xp,html:Tp,raise:Mp,lower:Lp,append:Op,insert:Hp,remove:zp,clone:qp,datum:Ip,on:Xp,dispatch:Vp,[Symbol.iterator]:Wp};function ht(r){return typeof r=="string"?new Tt([[document.querySelector(r)]],[document.documentElement]):new Tt([[r]],R_)}function Zp(r){let c;for(;c=r.sourceEvent;)r=c;return r}function vi(r,c){if(r=Zp(r),c===void 0&&(c=r.currentTarget),c){var p=c.ownerSVGElement||c;if(p.createSVGPoint){var y=p.createSVGPoint();return y.x=r.clientX,y.y=r.clientY,y=y.matrixTransform(c.getScreenCTM().inverse()),[y.x,y.y]}if(c.getBoundingClientRect){var D=c.getBoundingClientRect();return[r.clientX-D.left-c.clientLeft,r.clientY-D.top-c.clientTop]}}return[r.pageX,r.pageY]}const Jp={passive:!1},dn={capture:!0,passive:!1};function mc(r){r.stopImmediatePropagation()}function rr(r){r.preventDefault(),r.stopImmediatePropagation()}function M_(r){var c=r.document.documentElement,p=ht(r).on("dragstart.drag",rr,dn);"onselectstart"in c?p.on("selectstart.drag",rr,dn):(c.__noselect=c.style.MozUserSelect,c.style.MozUserSelect="none")}function B_(r,c){var p=r.document.documentElement,y=ht(r).on("dragstart.drag",null);c&&(y.on("click.drag",rr,dn),setTimeout(function(){y.on("click.drag",null)},0)),"onselectstart"in p?y.on("selectstart.drag",null):(p.style.MozUserSelect=p.__noselect,delete p.__noselect)}const Oa=r=>()=>r;function Ac(r,{sourceEvent:c,subject:p,target:y,identifier:D,active:k,x:L,y:l,dx:u,dy:h,dispatch:m}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:c,enumerable:!0,configurable:!0},subject:{value:p,enumerable:!0,configurable:!0},target:{value:y,enumerable:!0,configurable:!0},identifier:{value:D,enumerable:!0,configurable:!0},active:{value:k,enumerable:!0,configurable:!0},x:{value:L,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:m}})}Ac.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};function em(r){return!r.ctrlKey&&!r.button}function tm(){return this.parentNode}function im(r,c){return c??{x:r.x,y:r.y}}function sm(){return navigator.maxTouchPoints||"ontouchstart"in this}function rm(){var r=em,c=tm,p=im,y=sm,D={},k=mn("start","drag","end"),L=0,l,u,h,m,v=0;function S(g){g.on("mousedown.drag",x).filter(y).on("touchstart.drag",a).on("touchmove.drag",o,Jp).on("touchend.drag touchcancel.drag",f).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(g,w){if(!(m||!r.call(this,g,w))){var B=d(this,c.call(this,g,w),g,w,"mouse");B&&(ht(g.view).on("mousemove.drag",T,dn).on("mouseup.drag",C,dn),M_(g.view),mc(g),h=!1,l=g.clientX,u=g.clientY,B("start",g))}}function T(g){if(rr(g),!h){var w=g.clientX-l,B=g.clientY-u;h=w*w+B*B>v}D.mouse("drag",g)}function C(g){ht(g.view).on("mousemove.drag mouseup.drag",null),B_(g.view,h),rr(g),D.mouse("end",g)}function a(g,w){if(r.call(this,g,w)){var B=g.changedTouches,H=c.call(this,g,w),b=B.length,M,$;for(M=0;M<b;++M)($=d(this,H,g,w,B[M].identifier,B[M]))&&(mc(g),$("start",g,B[M]))}}function o(g){var w=g.changedTouches,B=w.length,H,b;for(H=0;H<B;++H)(b=D[w[H].identifier])&&(rr(g),b("drag",g,w[H]))}function f(g){var w=g.changedTouches,B=w.length,H,b;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),H=0;H<B;++H)(b=D[w[H].identifier])&&(mc(g),b("end",g,w[H]))}function d(g,w,B,H,b,M){var $=k.copy(),Y=vi(M||B,w),P,X,I;if((I=p.call(g,new Ac("beforestart",{sourceEvent:B,target:S,identifier:b,active:L,x:Y[0],y:Y[1],dx:0,dy:0,dispatch:$}),H))!=null)return P=I.x-Y[0]||0,X=I.y-Y[1]||0,function G(z,j,A){var N=Y,E;switch(z){case"start":D[b]=G,E=L++;break;case"end":delete D[b],--L;case"drag":Y=vi(A||j,w),E=L;break}$.call(z,g,new Ac(z,{sourceEvent:j,subject:I,target:S,identifier:b,active:E,x:Y[0]+P,y:Y[1]+X,dx:Y[0]-N[0],dy:Y[1]-N[1],dispatch:$}),H)}}return S.filter=function(g){return arguments.length?(r=typeof g=="function"?g:Oa(!!g),S):r},S.container=function(g){return arguments.length?(c=typeof g=="function"?g:Oa(g),S):c},S.subject=function(g){return arguments.length?(p=typeof g=="function"?g:Oa(g),S):p},S.touchable=function(g){return arguments.length?(y=typeof g=="function"?g:Oa(!!g),S):y},S.on=function(){var g=k.on.apply(k,arguments);return g===k?S:g},S.clickDistance=function(g){return arguments.length?(v=(g=+g)*g,S):Math.sqrt(v)},S}function zc(r,c,p){r.prototype=c.prototype=p,p.constructor=r}function L_(r,c){var p=Object.create(r.prototype);for(var y in c)p[y]=c[y];return p}function Sn(){}var _n=.7,Fa=1/_n,nr="\\s*([+-]?\\d+)\\s*",vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nm=/^#([0-9a-f]{3,8})$/,am=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),lm=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),om=new RegExp(`^rgba\\(${nr},${nr},${nr},${vn}\\)$`),cm=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${vn}\\)$`),um=new RegExp(`^hsl\\(${vn},${Qt},${Qt}\\)$`),hm=new RegExp(`^hsla\\(${vn},${Qt},${Qt},${vn}\\)$`),Xd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zc(Sn,gn,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Gd,formatHex:Gd,formatHex8:fm,formatHsl:dm,formatRgb:Kd,toString:Kd});function Gd(){return this.rgb().formatHex()}function fm(){return this.rgb().formatHex8()}function dm(){return O_(this).formatHsl()}function Kd(){return this.rgb().formatRgb()}function gn(r){var c,p;return r=(r+"").trim().toLowerCase(),(c=nm.exec(r))?(p=c[1].length,c=parseInt(c[1],16),p===6?Vd(c):p===3?new St(c>>8&15|c>>4&240,c>>4&15|c&240,(c&15)<<4|c&15,1):p===8?ka(c>>24&255,c>>16&255,c>>8&255,(c&255)/255):p===4?ka(c>>12&15|c>>8&240,c>>8&15|c>>4&240,c>>4&15|c&240,((c&15)<<4|c&15)/255):null):(c=am.exec(r))?new St(c[1],c[2],c[3],1):(c=lm.exec(r))?new St(c[1]*255/100,c[2]*255/100,c[3]*255/100,1):(c=om.exec(r))?ka(c[1],c[2],c[3],c[4]):(c=cm.exec(r))?ka(c[1]*255/100,c[2]*255/100,c[3]*255/100,c[4]):(c=um.exec(r))?Zd(c[1],c[2]/100,c[3]/100,1):(c=hm.exec(r))?Zd(c[1],c[2]/100,c[3]/100,c[4]):Xd.hasOwnProperty(r)?Vd(Xd[r]):r==="transparent"?new St(NaN,NaN,NaN,0):null}function Vd(r){return new St(r>>16&255,r>>8&255,r&255,1)}function ka(r,c,p,y){return y<=0&&(r=c=p=NaN),new St(r,c,p,y)}function _m(r){return r instanceof Sn||(r=gn(r)),r?(r=r.rgb(),new St(r.r,r.g,r.b,r.opacity)):new St}function Dc(r,c,p,y){return arguments.length===1?_m(r):new St(r,c,p,y??1)}function St(r,c,p,y){this.r=+r,this.g=+c,this.b=+p,this.opacity=+y}zc(St,Dc,L_(Sn,{brighter(r){return r=r==null?Fa:Math.pow(Fa,r),new St(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?_n:Math.pow(_n,r),new St(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new St(ds(this.r),ds(this.g),ds(this.b),Ya(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wd,formatHex:Wd,formatHex8:vm,formatRgb:Qd,toString:Qd}));function Wd(){return`#${fs(this.r)}${fs(this.g)}${fs(this.b)}`}function vm(){return`#${fs(this.r)}${fs(this.g)}${fs(this.b)}${fs((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qd(){const r=Ya(this.opacity);return`${r===1?"rgb(":"rgba("}${ds(this.r)}, ${ds(this.g)}, ${ds(this.b)}${r===1?")":`, ${r})`}`}function Ya(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function ds(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function fs(r){return r=ds(r),(r<16?"0":"")+r.toString(16)}function Zd(r,c,p,y){return y<=0?r=c=p=NaN:p<=0||p>=1?r=c=NaN:c<=0&&(r=NaN),new Pt(r,c,p,y)}function O_(r){if(r instanceof Pt)return new Pt(r.h,r.s,r.l,r.opacity);if(r instanceof Sn||(r=gn(r)),!r)return new Pt;if(r instanceof Pt)return r;r=r.rgb();var c=r.r/255,p=r.g/255,y=r.b/255,D=Math.min(c,p,y),k=Math.max(c,p,y),L=NaN,l=k-D,u=(k+D)/2;return l?(c===k?L=(p-y)/l+(p<y)*6:p===k?L=(y-c)/l+2:L=(c-p)/l+4,l/=u<.5?k+D:2-k-D,L*=60):l=u>0&&u<1?0:L,new Pt(L,l,u,r.opacity)}function gm(r,c,p,y){return arguments.length===1?O_(r):new Pt(r,c,p,y??1)}function Pt(r,c,p,y){this.h=+r,this.s=+c,this.l=+p,this.opacity=+y}zc(Pt,gm,L_(Sn,{brighter(r){return r=r==null?Fa:Math.pow(Fa,r),new Pt(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?_n:Math.pow(_n,r),new Pt(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,c=isNaN(r)||isNaN(this.s)?0:this.s,p=this.l,y=p+(p<.5?p:1-p)*c,D=2*p-y;return new St(yc(r>=240?r-240:r+120,D,y),yc(r,D,y),yc(r<120?r+240:r-120,D,y),this.opacity)},clamp(){return new Pt(Jd(this.h),Ha(this.s),Ha(this.l),Ya(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Ya(this.opacity);return`${r===1?"hsl(":"hsla("}${Jd(this.h)}, ${Ha(this.s)*100}%, ${Ha(this.l)*100}%${r===1?")":`, ${r})`}`}}));function Jd(r){return r=(r||0)%360,r<0?r+360:r}function Ha(r){return Math.max(0,Math.min(1,r||0))}function yc(r,c,p){return(r<60?c+(p-c)*r/60:r<180?p:r<240?c+(p-c)*(240-r)/60:c)*255}const k_=r=>()=>r;function pm(r,c){return function(p){return r+p*c}}function mm(r,c,p){return r=Math.pow(r,p),c=Math.pow(c,p)-r,p=1/p,function(y){return Math.pow(r+y*c,p)}}function ym(r){return(r=+r)==1?H_:function(c,p){return p-c?mm(c,p,r):k_(isNaN(c)?p:c)}}function H_(r,c){var p=c-r;return p?pm(r,p):k_(isNaN(r)?c:r)}const e_=function r(c){var p=ym(c);function y(D,k){var L=p((D=Dc(D)).r,(k=Dc(k)).r),l=p(D.g,k.g),u=p(D.b,k.b),h=H_(D.opacity,k.opacity);return function(m){return D.r=L(m),D.g=l(m),D.b=u(m),D.opacity=h(m),D+""}}return y.gamma=r,y}(1);function Pi(r,c){return r=+r,c=+c,function(p){return r*(1-p)+c*p}}var Tc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sc=new RegExp(Tc.source,"g");function Sm(r){return function(){return r}}function bm(r){return function(c){return r(c)+""}}function Cm(r,c){var p=Tc.lastIndex=Sc.lastIndex=0,y,D,k,L=-1,l=[],u=[];for(r=r+"",c=c+"";(y=Tc.exec(r))&&(D=Sc.exec(c));)(k=D.index)>p&&(k=c.slice(p,k),l[L]?l[L]+=k:l[++L]=k),(y=y[0])===(D=D[0])?l[L]?l[L]+=D:l[++L]=D:(l[++L]=null,u.push({i:L,x:Pi(y,D)})),p=Sc.lastIndex;return p<c.length&&(k=c.slice(p),l[L]?l[L]+=k:l[++L]=k),l.length<2?u[0]?bm(u[0].x):Sm(c):(c=u.length,function(h){for(var m=0,v;m<c;++m)l[(v=u[m]).i]=v.x(h);return l.join("")})}var t_=180/Math.PI,Rc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function N_(r,c,p,y,D,k){var L,l,u;return(L=Math.sqrt(r*r+c*c))&&(r/=L,c/=L),(u=r*p+c*y)&&(p-=r*u,y-=c*u),(l=Math.sqrt(p*p+y*y))&&(p/=l,y/=l,u/=l),r*y<c*p&&(r=-r,c=-c,u=-u,L=-L),{translateX:D,translateY:k,rotate:Math.atan2(c,r)*t_,skewX:Math.atan(u)*t_,scaleX:L,scaleY:l}}var Na;function wm(r){const c=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return c.isIdentity?Rc:N_(c.a,c.b,c.c,c.d,c.e,c.f)}function xm(r){return r==null||(Na||(Na=document.createElementNS("http://www.w3.org/2000/svg","g")),Na.setAttribute("transform",r),!(r=Na.transform.baseVal.consolidate()))?Rc:(r=r.matrix,N_(r.a,r.b,r.c,r.d,r.e,r.f))}function z_(r,c,p,y){function D(h){return h.length?h.pop()+" ":""}function k(h,m,v,S,x,T){if(h!==v||m!==S){var C=x.push("translate(",null,c,null,p);T.push({i:C-4,x:Pi(h,v)},{i:C-2,x:Pi(m,S)})}else(v||S)&&x.push("translate("+v+c+S+p)}function L(h,m,v,S){h!==m?(h-m>180?m+=360:m-h>180&&(h+=360),S.push({i:v.push(D(v)+"rotate(",null,y)-2,x:Pi(h,m)})):m&&v.push(D(v)+"rotate("+m+y)}function l(h,m,v,S){h!==m?S.push({i:v.push(D(v)+"skewX(",null,y)-2,x:Pi(h,m)}):m&&v.push(D(v)+"skewX("+m+y)}function u(h,m,v,S,x,T){if(h!==v||m!==S){var C=x.push(D(x)+"scale(",null,",",null,")");T.push({i:C-4,x:Pi(h,v)},{i:C-2,x:Pi(m,S)})}else(v!==1||S!==1)&&x.push(D(x)+"scale("+v+","+S+")")}return function(h,m){var v=[],S=[];return h=r(h),m=r(m),k(h.translateX,h.translateY,m.translateX,m.translateY,v,S),L(h.rotate,m.rotate,v,S),l(h.skewX,m.skewX,v,S),u(h.scaleX,h.scaleY,m.scaleX,m.scaleY,v,S),h=m=null,function(x){for(var T=-1,C=S.length,a;++T<C;)v[(a=S[T]).i]=a.x(x);return v.join("")}}}var Em=z_(wm,"px, ","px)","deg)"),Am=z_(xm,", ",")",")"),Dm=1e-12;function i_(r){return((r=Math.exp(r))+1/r)/2}function Tm(r){return((r=Math.exp(r))-1/r)/2}function Rm(r){return((r=Math.exp(2*r))-1)/(r+1)}const Mm=function r(c,p,y){function D(k,L){var l=k[0],u=k[1],h=k[2],m=L[0],v=L[1],S=L[2],x=m-l,T=v-u,C=x*x+T*T,a,o;if(C<Dm)o=Math.log(S/h)/c,a=function(H){return[l+H*x,u+H*T,h*Math.exp(c*H*o)]};else{var f=Math.sqrt(C),d=(S*S-h*h+y*C)/(2*h*p*f),g=(S*S-h*h-y*C)/(2*S*p*f),w=Math.log(Math.sqrt(d*d+1)-d),B=Math.log(Math.sqrt(g*g+1)-g);o=(B-w)/c,a=function(H){var b=H*o,M=i_(w),$=h/(p*f)*(M*Rm(c*b+w)-Tm(w));return[l+$*x,u+$*T,h*M/i_(c*b+w)]}}return a.duration=o*1e3*c/Math.SQRT2,a}return D.rho=function(k){var L=Math.max(.001,+k),l=L*L,u=l*l;return r(L,l,u)},D}(Math.SQRT2,2,4);var lr=0,hn=0,ln=0,U_=1e3,Xa,fn,Ga=0,_s=0,Za=0,pn=typeof performance=="object"&&performance.now?performance:Date,j_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function Uc(){return _s||(j_(Bm),_s=pn.now()+Za)}function Bm(){_s=0}function Ka(){this._call=this._time=this._next=null}Ka.prototype=jc.prototype={constructor:Ka,restart:function(r,c,p){if(typeof r!="function")throw new TypeError("callback is not a function");p=(p==null?Uc():+p)+(c==null?0:+c),!this._next&&fn!==this&&(fn?fn._next=this:Xa=this,fn=this),this._call=r,this._time=p,Mc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mc())}};function jc(r,c,p){var y=new Ka;return y.restart(r,c,p),y}function Lm(){Uc(),++lr;for(var r=Xa,c;r;)(c=_s-r._time)>=0&&r._call.call(void 0,c),r=r._next;--lr}function s_(){_s=(Ga=pn.now())+Za,lr=hn=0;try{Lm()}finally{lr=0,km(),_s=0}}function Om(){var r=pn.now(),c=r-Ga;c>U_&&(Za-=c,Ga=r)}function km(){for(var r,c=Xa,p,y=1/0;c;)c._call?(y>c._time&&(y=c._time),r=c,c=c._next):(p=c._next,c._next=null,c=r?r._next=p:Xa=p);fn=r,Mc(y)}function Mc(r){if(!lr){hn&&(hn=clearTimeout(hn));var c=r-_s;c>24?(r<1/0&&(hn=setTimeout(s_,r-pn.now()-Za)),ln&&(ln=clearInterval(ln))):(ln||(Ga=pn.now(),ln=setInterval(Om,U_)),lr=1,j_(s_))}}function r_(r,c,p){var y=new Ka;return c=c==null?0:+c,y.restart(D=>{y.stop(),r(D+c)},c,p),y}var Hm=mn("start","end","cancel","interrupt"),Nm=[],q_=0,n_=1,Bc=2,qa=3,a_=4,Lc=5,Ia=6;function Ja(r,c,p,y,D,k){var L=r.__transition;if(!L)r.__transition={};else if(p in L)return;zm(r,p,{name:c,index:y,group:D,on:Hm,tween:Nm,time:k.time,delay:k.delay,duration:k.duration,ease:k.ease,timer:null,state:q_})}function qc(r,c){var p=Ft(r,c);if(p.state>q_)throw new Error("too late; already scheduled");return p}function Zt(r,c){var p=Ft(r,c);if(p.state>qa)throw new Error("too late; already running");return p}function Ft(r,c){var p=r.__transition;if(!p||!(p=p[c]))throw new Error("transition not found");return p}function zm(r,c,p){var y=r.__transition,D;y[c]=p,p.timer=jc(k,0,p.time);function k(h){p.state=n_,p.timer.restart(L,p.delay,p.time),p.delay<=h&&L(h-p.delay)}function L(h){var m,v,S,x;if(p.state!==n_)return u();for(m in y)if(x=y[m],x.name===p.name){if(x.state===qa)return r_(L);x.state===a_?(x.state=Ia,x.timer.stop(),x.on.call("interrupt",r,r.__data__,x.index,x.group),delete y[m]):+m<c&&(x.state=Ia,x.timer.stop(),x.on.call("cancel",r,r.__data__,x.index,x.group),delete y[m])}if(r_(function(){p.state===qa&&(p.state=a_,p.timer.restart(l,p.delay,p.time),l(h))}),p.state=Bc,p.on.call("start",r,r.__data__,p.index,p.group),p.state===Bc){for(p.state=qa,D=new Array(S=p.tween.length),m=0,v=-1;m<S;++m)(x=p.tween[m].value.call(r,r.__data__,p.index,p.group))&&(D[++v]=x);D.length=v+1}}function l(h){for(var m=h<p.duration?p.ease.call(null,h/p.duration):(p.timer.restart(u),p.state=Lc,1),v=-1,S=D.length;++v<S;)D[v].call(r,m);p.state===Lc&&(p.on.call("end",r,r.__data__,p.index,p.group),u())}function u(){p.state=Ia,p.timer.stop(),delete y[c];for(var h in y)return;delete r.__transition}}function $a(r,c){var p=r.__transition,y,D,k=!0,L;if(p){c=c==null?null:c+"";for(L in p){if((y=p[L]).name!==c){k=!1;continue}D=y.state>Bc&&y.state<Lc,y.state=Ia,y.timer.stop(),y.on.call(D?"interrupt":"cancel",r,r.__data__,y.index,y.group),delete p[L]}k&&delete r.__transition}}function Um(r){return this.each(function(){$a(this,r)})}function jm(r,c){var p,y;return function(){var D=Zt(this,r),k=D.tween;if(k!==p){y=p=k;for(var L=0,l=y.length;L<l;++L)if(y[L].name===c){y=y.slice(),y.splice(L,1);break}}D.tween=y}}function qm(r,c,p){var y,D;if(typeof p!="function")throw new Error;return function(){var k=Zt(this,r),L=k.tween;if(L!==y){D=(y=L).slice();for(var l={name:c,value:p},u=0,h=D.length;u<h;++u)if(D[u].name===c){D[u]=l;break}u===h&&D.push(l)}k.tween=D}}function Im(r,c){var p=this._id;if(r+="",arguments.length<2){for(var y=Ft(this.node(),p).tween,D=0,k=y.length,L;D<k;++D)if((L=y[D]).name===r)return L.value;return null}return this.each((c==null?jm:qm)(p,r,c))}function Ic(r,c,p){var y=r._id;return r.each(function(){var D=Zt(this,y);(D.value||(D.value={}))[c]=p.apply(this,arguments)}),function(D){return Ft(D,y).value[c]}}function I_(r,c){var p;return(typeof c=="number"?Pi:c instanceof gn?e_:(p=gn(c))?(c=p,e_):Cm)(r,c)}function $m(r){return function(){this.removeAttribute(r)}}function Pm(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Fm(r,c,p){var y,D=p+"",k;return function(){var L=this.getAttribute(r);return L===D?null:L===y?k:k=c(y=L,p)}}function Ym(r,c,p){var y,D=p+"",k;return function(){var L=this.getAttributeNS(r.space,r.local);return L===D?null:L===y?k:k=c(y=L,p)}}function Xm(r,c,p){var y,D,k;return function(){var L,l=p(this),u;return l==null?void this.removeAttribute(r):(L=this.getAttribute(r),u=l+"",L===u?null:L===y&&u===D?k:(D=u,k=c(y=L,l)))}}function Gm(r,c,p){var y,D,k;return function(){var L,l=p(this),u;return l==null?void this.removeAttributeNS(r.space,r.local):(L=this.getAttributeNS(r.space,r.local),u=l+"",L===u?null:L===y&&u===D?k:(D=u,k=c(y=L,l)))}}function Km(r,c){var p=Qa(r),y=p==="transform"?Am:I_;return this.attrTween(r,typeof c=="function"?(p.local?Gm:Xm)(p,y,Ic(this,"attr."+r,c)):c==null?(p.local?Pm:$m)(p):(p.local?Ym:Fm)(p,y,c))}function Vm(r,c){return function(p){this.setAttribute(r,c.call(this,p))}}function Wm(r,c){return function(p){this.setAttributeNS(r.space,r.local,c.call(this,p))}}function Qm(r,c){var p,y;function D(){var k=c.apply(this,arguments);return k!==y&&(p=(y=k)&&Wm(r,k)),p}return D._value=c,D}function Zm(r,c){var p,y;function D(){var k=c.apply(this,arguments);return k!==y&&(p=(y=k)&&Vm(r,k)),p}return D._value=c,D}function Jm(r,c){var p="attr."+r;if(arguments.length<2)return(p=this.tween(p))&&p._value;if(c==null)return this.tween(p,null);if(typeof c!="function")throw new Error;var y=Qa(r);return this.tween(p,(y.local?Qm:Zm)(y,c))}function e1(r,c){return function(){qc(this,r).delay=+c.apply(this,arguments)}}function t1(r,c){return c=+c,function(){qc(this,r).delay=c}}function i1(r){var c=this._id;return arguments.length?this.each((typeof r=="function"?e1:t1)(c,r)):Ft(this.node(),c).delay}function s1(r,c){return function(){Zt(this,r).duration=+c.apply(this,arguments)}}function r1(r,c){return c=+c,function(){Zt(this,r).duration=c}}function n1(r){var c=this._id;return arguments.length?this.each((typeof r=="function"?s1:r1)(c,r)):Ft(this.node(),c).duration}function a1(r,c){if(typeof c!="function")throw new Error;return function(){Zt(this,r).ease=c}}function l1(r){var c=this._id;return arguments.length?this.each(a1(c,r)):Ft(this.node(),c).ease}function o1(r,c){return function(){var p=c.apply(this,arguments);if(typeof p!="function")throw new Error;Zt(this,r).ease=p}}function c1(r){if(typeof r!="function")throw new Error;return this.each(o1(this._id,r))}function u1(r){typeof r!="function"&&(r=S_(r));for(var c=this._groups,p=c.length,y=new Array(p),D=0;D<p;++D)for(var k=c[D],L=k.length,l=y[D]=[],u,h=0;h<L;++h)(u=k[h])&&r.call(u,u.__data__,h,k)&&l.push(u);return new pi(y,this._parents,this._name,this._id)}function h1(r){if(r._id!==this._id)throw new Error;for(var c=this._groups,p=r._groups,y=c.length,D=p.length,k=Math.min(y,D),L=new Array(y),l=0;l<k;++l)for(var u=c[l],h=p[l],m=u.length,v=L[l]=new Array(m),S,x=0;x<m;++x)(S=u[x]||h[x])&&(v[x]=S);for(;l<y;++l)L[l]=c[l];return new pi(L,this._parents,this._name,this._id)}function f1(r){return(r+"").trim().split(/^|\s+/).every(function(c){var p=c.indexOf(".");return p>=0&&(c=c.slice(0,p)),!c||c==="start"})}function d1(r,c,p){var y,D,k=f1(c)?qc:Zt;return function(){var L=k(this,r),l=L.on;l!==y&&(D=(y=l).copy()).on(c,p),L.on=D}}function _1(r,c){var p=this._id;return arguments.length<2?Ft(this.node(),p).on.on(r):this.each(d1(p,r,c))}function v1(r){return function(){var c=this.parentNode;for(var p in this.__transition)if(+p!==r)return;c&&c.removeChild(this)}}function g1(){return this.on("end.remove",v1(this._id))}function p1(r){var c=this._name,p=this._id;typeof r!="function"&&(r=Hc(r));for(var y=this._groups,D=y.length,k=new Array(D),L=0;L<D;++L)for(var l=y[L],u=l.length,h=k[L]=new Array(u),m,v,S=0;S<u;++S)(m=l[S])&&(v=r.call(m,m.__data__,S,l))&&("__data__"in m&&(v.__data__=m.__data__),h[S]=v,Ja(h[S],c,p,S,h,Ft(m,p)));return new pi(k,this._parents,c,p)}function m1(r){var c=this._name,p=this._id;typeof r!="function"&&(r=y_(r));for(var y=this._groups,D=y.length,k=[],L=[],l=0;l<D;++l)for(var u=y[l],h=u.length,m,v=0;v<h;++v)if(m=u[v]){for(var S=r.call(m,m.__data__,v,u),x,T=Ft(m,p),C=0,a=S.length;C<a;++C)(x=S[C])&&Ja(x,c,p,C,S,T);k.push(S),L.push(m)}return new pi(k,L,c,p)}var y1=yn.prototype.constructor;function S1(){return new y1(this._groups,this._parents)}function b1(r,c){var p,y,D;return function(){var k=ar(this,r),L=(this.style.removeProperty(r),ar(this,r));return k===L?null:k===p&&L===y?D:D=c(p=k,y=L)}}function $_(r){return function(){this.style.removeProperty(r)}}function C1(r,c,p){var y,D=p+"",k;return function(){var L=ar(this,r);return L===D?null:L===y?k:k=c(y=L,p)}}function w1(r,c,p){var y,D,k;return function(){var L=ar(this,r),l=p(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(r),ar(this,r))),L===u?null:L===y&&u===D?k:(D=u,k=c(y=L,l))}}function x1(r,c){var p,y,D,k="style."+c,L="end."+k,l;return function(){var u=Zt(this,r),h=u.on,m=u.value[k]==null?l||(l=$_(c)):void 0;(h!==p||D!==m)&&(y=(p=h).copy()).on(L,D=m),u.on=y}}function E1(r,c,p){var y=(r+="")=="transform"?Em:I_;return c==null?this.styleTween(r,b1(r,y)).on("end.style."+r,$_(r)):typeof c=="function"?this.styleTween(r,w1(r,y,Ic(this,"style."+r,c))).each(x1(this._id,r)):this.styleTween(r,C1(r,y,c),p).on("end.style."+r,null)}function A1(r,c,p){return function(y){this.style.setProperty(r,c.call(this,y),p)}}function D1(r,c,p){var y,D;function k(){var L=c.apply(this,arguments);return L!==D&&(y=(D=L)&&A1(r,L,p)),y}return k._value=c,k}function T1(r,c,p){var y="style."+(r+="");if(arguments.length<2)return(y=this.tween(y))&&y._value;if(c==null)return this.tween(y,null);if(typeof c!="function")throw new Error;return this.tween(y,D1(r,c,p??""))}function R1(r){return function(){this.textContent=r}}function M1(r){return function(){var c=r(this);this.textContent=c??""}}function B1(r){return this.tween("text",typeof r=="function"?M1(Ic(this,"text",r)):R1(r==null?"":r+""))}function L1(r){return function(c){this.textContent=r.call(this,c)}}function O1(r){var c,p;function y(){var D=r.apply(this,arguments);return D!==p&&(c=(p=D)&&L1(D)),c}return y._value=r,y}function k1(r){var c="text";if(arguments.length<1)return(c=this.tween(c))&&c._value;if(r==null)return this.tween(c,null);if(typeof r!="function")throw new Error;return this.tween(c,O1(r))}function H1(){for(var r=this._name,c=this._id,p=P_(),y=this._groups,D=y.length,k=0;k<D;++k)for(var L=y[k],l=L.length,u,h=0;h<l;++h)if(u=L[h]){var m=Ft(u,c);Ja(u,r,p,h,L,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new pi(y,this._parents,r,p)}function N1(){var r,c,p=this,y=p._id,D=p.size();return new Promise(function(k,L){var l={value:L},u={value:function(){--D===0&&k()}};p.each(function(){var h=Zt(this,y),m=h.on;m!==r&&(c=(r=m).copy(),c._.cancel.push(l),c._.interrupt.push(l),c._.end.push(u)),h.on=c}),D===0&&k()})}var z1=0;function pi(r,c,p,y){this._groups=r,this._parents=c,this._name=p,this._id=y}function P_(){return++z1}var _i=yn.prototype;pi.prototype={constructor:pi,select:p1,selectAll:m1,selectChild:_i.selectChild,selectChildren:_i.selectChildren,filter:u1,merge:h1,selection:S1,transition:H1,call:_i.call,nodes:_i.nodes,node:_i.node,size:_i.size,empty:_i.empty,each:_i.each,on:_1,attr:Km,attrTween:Jm,style:E1,styleTween:T1,text:B1,textTween:k1,remove:g1,tween:Im,delay:i1,duration:n1,ease:l1,easeVarying:c1,end:N1,[Symbol.iterator]:_i[Symbol.iterator]};function U1(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var j1={time:null,delay:0,duration:250,ease:U1};function q1(r,c){for(var p;!(p=r.__transition)||!(p=p[c]);)if(!(r=r.parentNode))throw new Error(`transition ${c} not found`);return p}function I1(r){var c,p;r instanceof pi?(c=r._id,r=r._name):(c=P_(),(p=j1).time=Uc(),r=r==null?null:r+"");for(var y=this._groups,D=y.length,k=0;k<D;++k)for(var L=y[k],l=L.length,u,h=0;h<l;++h)(u=L[h])&&Ja(u,r,c,h,L,p||q1(u,c));return new pi(y,this._parents,r,c)}yn.prototype.interrupt=Um;yn.prototype.transition=I1;function $1(r){const c=+this._x.call(null,r),p=+this._y.call(null,r);return F_(this.cover(c,p),c,p,r)}function F_(r,c,p,y){if(isNaN(c)||isNaN(p))return r;var D,k=r._root,L={data:y},l=r._x0,u=r._y0,h=r._x1,m=r._y1,v,S,x,T,C,a,o,f;if(!k)return r._root=L,r;for(;k.length;)if((C=c>=(v=(l+h)/2))?l=v:h=v,(a=p>=(S=(u+m)/2))?u=S:m=S,D=k,!(k=k[o=a<<1|C]))return D[o]=L,r;if(x=+r._x.call(null,k.data),T=+r._y.call(null,k.data),c===x&&p===T)return L.next=k,D?D[o]=L:r._root=L,r;do D=D?D[o]=new Array(4):r._root=new Array(4),(C=c>=(v=(l+h)/2))?l=v:h=v,(a=p>=(S=(u+m)/2))?u=S:m=S;while((o=a<<1|C)===(f=(T>=S)<<1|x>=v));return D[f]=k,D[o]=L,r}function P1(r){var c,p,y=r.length,D,k,L=new Array(y),l=new Array(y),u=1/0,h=1/0,m=-1/0,v=-1/0;for(p=0;p<y;++p)isNaN(D=+this._x.call(null,c=r[p]))||isNaN(k=+this._y.call(null,c))||(L[p]=D,l[p]=k,D<u&&(u=D),D>m&&(m=D),k<h&&(h=k),k>v&&(v=k));if(u>m||h>v)return this;for(this.cover(u,h).cover(m,v),p=0;p<y;++p)F_(this,L[p],l[p],r[p]);return this}function F1(r,c){if(isNaN(r=+r)||isNaN(c=+c))return this;var p=this._x0,y=this._y0,D=this._x1,k=this._y1;if(isNaN(p))D=(p=Math.floor(r))+1,k=(y=Math.floor(c))+1;else{for(var L=D-p||1,l=this._root,u,h;p>r||r>=D||y>c||c>=k;)switch(h=(c<y)<<1|r<p,u=new Array(4),u[h]=l,l=u,L*=2,h){case 0:D=p+L,k=y+L;break;case 1:p=D-L,k=y+L;break;case 2:D=p+L,y=k-L;break;case 3:p=D-L,y=k-L;break}this._root&&this._root.length&&(this._root=l)}return this._x0=p,this._y0=y,this._x1=D,this._y1=k,this}function Y1(){var r=[];return this.visit(function(c){if(!c.length)do r.push(c.data);while(c=c.next)}),r}function X1(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ft(r,c,p,y,D){this.node=r,this.x0=c,this.y0=p,this.x1=y,this.y1=D}function G1(r,c,p){var y,D=this._x0,k=this._y0,L,l,u,h,m=this._x1,v=this._y1,S=[],x=this._root,T,C;for(x&&S.push(new ft(x,D,k,m,v)),p==null?p=1/0:(D=r-p,k=c-p,m=r+p,v=c+p,p*=p);T=S.pop();)if(!(!(x=T.node)||(L=T.x0)>m||(l=T.y0)>v||(u=T.x1)<D||(h=T.y1)<k))if(x.length){var a=(L+u)/2,o=(l+h)/2;S.push(new ft(x[3],a,o,u,h),new ft(x[2],L,o,a,h),new ft(x[1],a,l,u,o),new ft(x[0],L,l,a,o)),(C=(c>=o)<<1|r>=a)&&(T=S[S.length-1],S[S.length-1]=S[S.length-1-C],S[S.length-1-C]=T)}else{var f=r-+this._x.call(null,x.data),d=c-+this._y.call(null,x.data),g=f*f+d*d;if(g<p){var w=Math.sqrt(p=g);D=r-w,k=c-w,m=r+w,v=c+w,y=x.data}}return y}function K1(r){if(isNaN(m=+this._x.call(null,r))||isNaN(v=+this._y.call(null,r)))return this;var c,p=this._root,y,D,k,L=this._x0,l=this._y0,u=this._x1,h=this._y1,m,v,S,x,T,C,a,o;if(!p)return this;if(p.length)for(;;){if((T=m>=(S=(L+u)/2))?L=S:u=S,(C=v>=(x=(l+h)/2))?l=x:h=x,c=p,!(p=p[a=C<<1|T]))return this;if(!p.length)break;(c[a+1&3]||c[a+2&3]||c[a+3&3])&&(y=c,o=a)}for(;p.data!==r;)if(D=p,!(p=p.next))return this;return(k=p.next)&&delete p.next,D?(k?D.next=k:delete D.next,this):c?(k?c[a]=k:delete c[a],(p=c[0]||c[1]||c[2]||c[3])&&p===(c[3]||c[2]||c[1]||c[0])&&!p.length&&(y?y[o]=p:this._root=p),this):(this._root=k,this)}function V1(r){for(var c=0,p=r.length;c<p;++c)this.remove(r[c]);return this}function W1(){return this._root}function Q1(){var r=0;return this.visit(function(c){if(!c.length)do++r;while(c=c.next)}),r}function Z1(r){var c=[],p,y=this._root,D,k,L,l,u;for(y&&c.push(new ft(y,this._x0,this._y0,this._x1,this._y1));p=c.pop();)if(!r(y=p.node,k=p.x0,L=p.y0,l=p.x1,u=p.y1)&&y.length){var h=(k+l)/2,m=(L+u)/2;(D=y[3])&&c.push(new ft(D,h,m,l,u)),(D=y[2])&&c.push(new ft(D,k,m,h,u)),(D=y[1])&&c.push(new ft(D,h,L,l,m)),(D=y[0])&&c.push(new ft(D,k,L,h,m))}return this}function J1(r){var c=[],p=[],y;for(this._root&&c.push(new ft(this._root,this._x0,this._y0,this._x1,this._y1));y=c.pop();){var D=y.node;if(D.length){var k,L=y.x0,l=y.y0,u=y.x1,h=y.y1,m=(L+u)/2,v=(l+h)/2;(k=D[0])&&c.push(new ft(k,L,l,m,v)),(k=D[1])&&c.push(new ft(k,m,l,u,v)),(k=D[2])&&c.push(new ft(k,L,v,m,h)),(k=D[3])&&c.push(new ft(k,m,v,u,h))}p.push(y)}for(;y=p.pop();)r(y.node,y.x0,y.y0,y.x1,y.y1);return this}function ey(r){return r[0]}function ty(r){return arguments.length?(this._x=r,this):this._x}function iy(r){return r[1]}function sy(r){return arguments.length?(this._y=r,this):this._y}function $c(r,c,p){var y=new Pc(c??ey,p??iy,NaN,NaN,NaN,NaN);return r==null?y:y.addAll(r)}function Pc(r,c,p,y,D,k){this._x=r,this._y=c,this._x0=p,this._y0=y,this._x1=D,this._y1=k,this._root=void 0}function l_(r){for(var c={data:r.data},p=c;r=r.next;)p=p.next={data:r.data};return c}var _t=$c.prototype=Pc.prototype;_t.copy=function(){var r=new Pc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),c=this._root,p,y;if(!c)return r;if(!c.length)return r._root=l_(c),r;for(p=[{source:c,target:r._root=new Array(4)}];c=p.pop();)for(var D=0;D<4;++D)(y=c.source[D])&&(y.length?p.push({source:y,target:c.target[D]=new Array(4)}):c.target[D]=l_(y));return r};_t.add=$1;_t.addAll=P1;_t.cover=F1;_t.data=Y1;_t.extent=X1;_t.find=G1;_t.remove=K1;_t.removeAll=V1;_t.root=W1;_t.size=Q1;_t.visit=Z1;_t.visitAfter=J1;_t.x=ty;_t.y=sy;function dt(r){return function(){return r}}function Fi(r){return(r()-.5)*1e-6}function ry(r){return r.x+r.vx}function ny(r){return r.y+r.vy}function ay(r){var c,p,y,D=1,k=1;typeof r!="function"&&(r=dt(r==null?1:+r));function L(){for(var h,m=c.length,v,S,x,T,C,a,o=0;o<k;++o)for(v=$c(c,ry,ny).visitAfter(l),h=0;h<m;++h)S=c[h],C=p[S.index],a=C*C,x=S.x+S.vx,T=S.y+S.vy,v.visit(f);function f(d,g,w,B,H){var b=d.data,M=d.r,$=C+M;if(b){if(b.index>S.index){var Y=x-b.x-b.vx,P=T-b.y-b.vy,X=Y*Y+P*P;X<$*$&&(Y===0&&(Y=Fi(y),X+=Y*Y),P===0&&(P=Fi(y),X+=P*P),X=($-(X=Math.sqrt(X)))/X*D,S.vx+=(Y*=X)*($=(M*=M)/(a+M)),S.vy+=(P*=X)*$,b.vx-=Y*($=1-$),b.vy-=P*$)}return}return g>x+$||B<x-$||w>T+$||H<T-$}}function l(h){if(h.data)return h.r=p[h.data.index];for(var m=h.r=0;m<4;++m)h[m]&&h[m].r>h.r&&(h.r=h[m].r)}function u(){if(c){var h,m=c.length,v;for(p=new Array(m),h=0;h<m;++h)v=c[h],p[v.index]=+r(v,h,c)}}return L.initialize=function(h,m){c=h,y=m,u()},L.iterations=function(h){return arguments.length?(k=+h,L):k},L.strength=function(h){return arguments.length?(D=+h,L):D},L.radius=function(h){return arguments.length?(r=typeof h=="function"?h:dt(+h),u(),L):r},L}function ly(r){return r.index}function o_(r,c){var p=r.get(c);if(!p)throw new Error("node not found: "+c);return p}function oy(r){var c=ly,p=v,y,D=dt(30),k,L,l,u,h,m=1;r==null&&(r=[]);function v(a){return 1/Math.min(l[a.source.index],l[a.target.index])}function S(a){for(var o=0,f=r.length;o<m;++o)for(var d=0,g,w,B,H,b,M,$;d<f;++d)g=r[d],w=g.source,B=g.target,H=B.x+B.vx-w.x-w.vx||Fi(h),b=B.y+B.vy-w.y-w.vy||Fi(h),M=Math.sqrt(H*H+b*b),M=(M-k[d])/M*a*y[d],H*=M,b*=M,B.vx-=H*($=u[d]),B.vy-=b*$,w.vx+=H*($=1-$),w.vy+=b*$}function x(){if(L){var a,o=L.length,f=r.length,d=new Map(L.map((w,B)=>[c(w,B,L),w])),g;for(a=0,l=new Array(o);a<f;++a)g=r[a],g.index=a,typeof g.source!="object"&&(g.source=o_(d,g.source)),typeof g.target!="object"&&(g.target=o_(d,g.target)),l[g.source.index]=(l[g.source.index]||0)+1,l[g.target.index]=(l[g.target.index]||0)+1;for(a=0,u=new Array(f);a<f;++a)g=r[a],u[a]=l[g.source.index]/(l[g.source.index]+l[g.target.index]);y=new Array(f),T(),k=new Array(f),C()}}function T(){if(L)for(var a=0,o=r.length;a<o;++a)y[a]=+p(r[a],a,r)}function C(){if(L)for(var a=0,o=r.length;a<o;++a)k[a]=+D(r[a],a,r)}return S.initialize=function(a,o){L=a,h=o,x()},S.links=function(a){return arguments.length?(r=a,x(),S):r},S.id=function(a){return arguments.length?(c=a,S):c},S.iterations=function(a){return arguments.length?(m=+a,S):m},S.strength=function(a){return arguments.length?(p=typeof a=="function"?a:dt(+a),T(),S):p},S.distance=function(a){return arguments.length?(D=typeof a=="function"?a:dt(+a),C(),S):D},S}const cy=1664525,uy=1013904223,c_=4294967296;function hy(){let r=1;return()=>(r=(cy*r+uy)%c_)/c_}function fy(r){return r.x}function dy(r){return r.y}var _y=10,vy=Math.PI*(3-Math.sqrt(5));function gy(r){var c,p=1,y=.001,D=1-Math.pow(y,1/300),k=0,L=.6,l=new Map,u=jc(v),h=mn("tick","end"),m=hy();r==null&&(r=[]);function v(){S(),h.call("tick",c),p<y&&(u.stop(),h.call("end",c))}function S(C){var a,o=r.length,f;C===void 0&&(C=1);for(var d=0;d<C;++d)for(p+=(k-p)*D,l.forEach(function(g){g(p)}),a=0;a<o;++a)f=r[a],f.fx==null?f.x+=f.vx*=L:(f.x=f.fx,f.vx=0),f.fy==null?f.y+=f.vy*=L:(f.y=f.fy,f.vy=0);return c}function x(){for(var C=0,a=r.length,o;C<a;++C){if(o=r[C],o.index=C,o.fx!=null&&(o.x=o.fx),o.fy!=null&&(o.y=o.fy),isNaN(o.x)||isNaN(o.y)){var f=_y*Math.sqrt(.5+C),d=C*vy;o.x=f*Math.cos(d),o.y=f*Math.sin(d)}(isNaN(o.vx)||isNaN(o.vy))&&(o.vx=o.vy=0)}}function T(C){return C.initialize&&C.initialize(r,m),C}return x(),c={tick:S,restart:function(){return u.restart(v),c},stop:function(){return u.stop(),c},nodes:function(C){return arguments.length?(r=C,x(),l.forEach(T),c):r},alpha:function(C){return arguments.length?(p=+C,c):p},alphaMin:function(C){return arguments.length?(y=+C,c):y},alphaDecay:function(C){return arguments.length?(D=+C,c):+D},alphaTarget:function(C){return arguments.length?(k=+C,c):k},velocityDecay:function(C){return arguments.length?(L=1-C,c):1-L},randomSource:function(C){return arguments.length?(m=C,l.forEach(T),c):m},force:function(C,a){return arguments.length>1?(a==null?l.delete(C):l.set(C,T(a)),c):l.get(C)},find:function(C,a,o){var f=0,d=r.length,g,w,B,H,b;for(o==null?o=1/0:o*=o,f=0;f<d;++f)H=r[f],g=C-H.x,w=a-H.y,B=g*g+w*w,B<o&&(b=H,o=B);return b},on:function(C,a){return arguments.length>1?(h.on(C,a),c):h.on(C)}}}function py(){var r,c,p,y,D=dt(-30),k,L=1,l=1/0,u=.81;function h(x){var T,C=r.length,a=$c(r,fy,dy).visitAfter(v);for(y=x,T=0;T<C;++T)c=r[T],a.visit(S)}function m(){if(r){var x,T=r.length,C;for(k=new Array(T),x=0;x<T;++x)C=r[x],k[C.index]=+D(C,x,r)}}function v(x){var T=0,C,a,o=0,f,d,g;if(x.length){for(f=d=g=0;g<4;++g)(C=x[g])&&(a=Math.abs(C.value))&&(T+=C.value,o+=a,f+=a*C.x,d+=a*C.y);x.x=f/o,x.y=d/o}else{C=x,C.x=C.data.x,C.y=C.data.y;do T+=k[C.data.index];while(C=C.next)}x.value=T}function S(x,T,C,a){if(!x.value)return!0;var o=x.x-c.x,f=x.y-c.y,d=a-T,g=o*o+f*f;if(d*d/u<g)return g<l&&(o===0&&(o=Fi(p),g+=o*o),f===0&&(f=Fi(p),g+=f*f),g<L&&(g=Math.sqrt(L*g)),c.vx+=o*x.value*y/g,c.vy+=f*x.value*y/g),!0;if(x.length||g>=l)return;(x.data!==c||x.next)&&(o===0&&(o=Fi(p),g+=o*o),f===0&&(f=Fi(p),g+=f*f),g<L&&(g=Math.sqrt(L*g)));do x.data!==c&&(d=k[x.data.index]*y/g,c.vx+=o*d,c.vy+=f*d);while(x=x.next)}return h.initialize=function(x,T){r=x,p=T,m()},h.strength=function(x){return arguments.length?(D=typeof x=="function"?x:dt(+x),m(),h):D},h.distanceMin=function(x){return arguments.length?(L=x*x,h):Math.sqrt(L)},h.distanceMax=function(x){return arguments.length?(l=x*x,h):Math.sqrt(l)},h.theta=function(x){return arguments.length?(u=x*x,h):Math.sqrt(u)},h}function my(r){var c=dt(.1),p,y,D;typeof r!="function"&&(r=dt(r==null?0:+r));function k(l){for(var u=0,h=p.length,m;u<h;++u)m=p[u],m.vx+=(D[u]-m.x)*y[u]*l}function L(){if(p){var l,u=p.length;for(y=new Array(u),D=new Array(u),l=0;l<u;++l)y[l]=isNaN(D[l]=+r(p[l],l,p))?0:+c(p[l],l,p)}}return k.initialize=function(l){p=l,L()},k.strength=function(l){return arguments.length?(c=typeof l=="function"?l:dt(+l),L(),k):c},k.x=function(l){return arguments.length?(r=typeof l=="function"?l:dt(+l),L(),k):r},k}function yy(r){var c=dt(.1),p,y,D;typeof r!="function"&&(r=dt(r==null?0:+r));function k(l){for(var u=0,h=p.length,m;u<h;++u)m=p[u],m.vy+=(D[u]-m.y)*y[u]*l}function L(){if(p){var l,u=p.length;for(y=new Array(u),D=new Array(u),l=0;l<u;++l)y[l]=isNaN(D[l]=+r(p[l],l,p))?0:+c(p[l],l,p)}}return k.initialize=function(l){p=l,L()},k.strength=function(l){return arguments.length?(c=typeof l=="function"?l:dt(+l),L(),k):c},k.y=function(l){return arguments.length?(r=typeof l=="function"?l:dt(+l),L(),k):r},k}const za=r=>()=>r;function Sy(r,{sourceEvent:c,target:p,transform:y,dispatch:D}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:c,enumerable:!0,configurable:!0},target:{value:p,enumerable:!0,configurable:!0},transform:{value:y,enumerable:!0,configurable:!0},_:{value:D}})}function gi(r,c,p){this.k=r,this.x=c,this.y=p}gi.prototype={constructor:gi,scale:function(r){return r===1?this:new gi(this.k*r,this.x,this.y)},translate:function(r,c){return r===0&c===0?this:new gi(this.k,this.x+this.k*r,this.y+this.k*c)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Va=new gi(1,0,0);gi.prototype;function bc(r){r.stopImmediatePropagation()}function on(r){r.preventDefault(),r.stopImmediatePropagation()}function by(r){return(!r.ctrlKey||r.type==="wheel")&&!r.button}function Cy(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r,r.hasAttribute("viewBox")?(r=r.viewBox.baseVal,[[r.x,r.y],[r.x+r.width,r.y+r.height]]):[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]):[[0,0],[r.clientWidth,r.clientHeight]]}function u_(){return this.__zoom||Va}function wy(r){return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*(r.ctrlKey?10:1)}function xy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ey(r,c,p){var y=r.invertX(c[0][0])-p[0][0],D=r.invertX(c[1][0])-p[1][0],k=r.invertY(c[0][1])-p[0][1],L=r.invertY(c[1][1])-p[1][1];return r.translate(D>y?(y+D)/2:Math.min(0,y)||Math.max(0,D),L>k?(k+L)/2:Math.min(0,k)||Math.max(0,L))}function Ay(){var r=by,c=Cy,p=Ey,y=wy,D=xy,k=[0,1/0],L=[[-1/0,-1/0],[1/0,1/0]],l=250,u=Mm,h=mn("start","zoom","end"),m,v,S,x=500,T=150,C=0,a=10;function o(I){I.property("__zoom",u_).on("wheel.zoom",b,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",$).filter(D).on("touchstart.zoom",Y).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}o.transform=function(I,G,z,j){var A=I.selection?I.selection():I;A.property("__zoom",u_),I!==A?w(I,G,z,j):A.interrupt().each(function(){B(this,arguments).event(j).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},o.scaleBy=function(I,G,z,j){o.scaleTo(I,function(){var A=this.__zoom.k,N=typeof G=="function"?G.apply(this,arguments):G;return A*N},z,j)},o.scaleTo=function(I,G,z,j){o.transform(I,function(){var A=c.apply(this,arguments),N=this.__zoom,E=z==null?g(A):typeof z=="function"?z.apply(this,arguments):z,R=N.invert(E),F=typeof G=="function"?G.apply(this,arguments):G;return p(d(f(N,F),E,R),A,L)},z,j)},o.translateBy=function(I,G,z,j){o.transform(I,function(){return p(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof z=="function"?z.apply(this,arguments):z),c.apply(this,arguments),L)},null,j)},o.translateTo=function(I,G,z,j,A){o.transform(I,function(){var N=c.apply(this,arguments),E=this.__zoom,R=j==null?g(N):typeof j=="function"?j.apply(this,arguments):j;return p(Va.translate(R[0],R[1]).scale(E.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof z=="function"?-z.apply(this,arguments):-z),N,L)},j,A)};function f(I,G){return G=Math.max(k[0],Math.min(k[1],G)),G===I.k?I:new gi(G,I.x,I.y)}function d(I,G,z){var j=G[0]-z[0]*I.k,A=G[1]-z[1]*I.k;return j===I.x&&A===I.y?I:new gi(I.k,j,A)}function g(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function w(I,G,z,j){I.on("start.zoom",function(){B(this,arguments).event(j).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(j).end()}).tween("zoom",function(){var A=this,N=arguments,E=B(A,N).event(j),R=c.apply(A,N),F=z==null?g(R):typeof z=="function"?z.apply(A,N):z,W=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),se=A.__zoom,ae=typeof G=="function"?G.apply(A,N):G,he=u(se.invert(F).concat(W/se.k),ae.invert(F).concat(W/ae.k));return function(U){if(U===1)U=ae;else{var Q=he(U),ne=W/Q[2];U=new gi(ne,F[0]-Q[0]*ne,F[1]-Q[1]*ne)}E.zoom(null,U)}})}function B(I,G,z){return!z&&I.__zooming||new H(I,G)}function H(I,G){this.that=I,this.args=G,this.active=0,this.sourceEvent=null,this.extent=c.apply(I,G),this.taps=0}H.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,G){return this.mouse&&I!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var G=ht(this.that).datum();h.call(I,this.that,new Sy(I,{sourceEvent:this.sourceEvent,target:o,transform:this.that.__zoom,dispatch:h}),G)}};function b(I,...G){if(!r.apply(this,arguments))return;var z=B(this,G).event(I),j=this.__zoom,A=Math.max(k[0],Math.min(k[1],j.k*Math.pow(2,y.apply(this,arguments)))),N=vi(I);if(z.wheel)(z.mouse[0][0]!==N[0]||z.mouse[0][1]!==N[1])&&(z.mouse[1]=j.invert(z.mouse[0]=N)),clearTimeout(z.wheel);else{if(j.k===A)return;z.mouse=[N,j.invert(N)],$a(this),z.start()}on(I),z.wheel=setTimeout(E,T),z.zoom("mouse",p(d(f(j,A),z.mouse[0],z.mouse[1]),z.extent,L));function E(){z.wheel=null,z.end()}}function M(I,...G){if(S||!r.apply(this,arguments))return;var z=I.currentTarget,j=B(this,G,!0).event(I),A=ht(I.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",W,!0),N=vi(I,z),E=I.clientX,R=I.clientY;M_(I.view),bc(I),j.mouse=[N,this.__zoom.invert(N)],$a(this),j.start();function F(se){if(on(se),!j.moved){var ae=se.clientX-E,he=se.clientY-R;j.moved=ae*ae+he*he>C}j.event(se).zoom("mouse",p(d(j.that.__zoom,j.mouse[0]=vi(se,z),j.mouse[1]),j.extent,L))}function W(se){A.on("mousemove.zoom mouseup.zoom",null),B_(se.view,j.moved),on(se),j.event(se).end()}}function $(I,...G){if(r.apply(this,arguments)){var z=this.__zoom,j=vi(I.changedTouches?I.changedTouches[0]:I,this),A=z.invert(j),N=z.k*(I.shiftKey?.5:2),E=p(d(f(z,N),j,A),c.apply(this,G),L);on(I),l>0?ht(this).transition().duration(l).call(w,E,j,I):ht(this).call(o.transform,E,j,I)}}function Y(I,...G){if(r.apply(this,arguments)){var z=I.touches,j=z.length,A=B(this,G,I.changedTouches.length===j).event(I),N,E,R,F;for(bc(I),E=0;E<j;++E)R=z[E],F=vi(R,this),F=[F,this.__zoom.invert(F),R.identifier],A.touch0?!A.touch1&&A.touch0[2]!==F[2]&&(A.touch1=F,A.taps=0):(A.touch0=F,N=!0,A.taps=1+!!m);m&&(m=clearTimeout(m)),N&&(A.taps<2&&(v=F[0],m=setTimeout(function(){m=null},x)),$a(this),A.start())}}function P(I,...G){if(this.__zooming){var z=B(this,G).event(I),j=I.changedTouches,A=j.length,N,E,R,F;for(on(I),N=0;N<A;++N)E=j[N],R=vi(E,this),z.touch0&&z.touch0[2]===E.identifier?z.touch0[0]=R:z.touch1&&z.touch1[2]===E.identifier&&(z.touch1[0]=R);if(E=z.that.__zoom,z.touch1){var W=z.touch0[0],se=z.touch0[1],ae=z.touch1[0],he=z.touch1[1],U=(U=ae[0]-W[0])*U+(U=ae[1]-W[1])*U,Q=(Q=he[0]-se[0])*Q+(Q=he[1]-se[1])*Q;E=f(E,Math.sqrt(U/Q)),R=[(W[0]+ae[0])/2,(W[1]+ae[1])/2],F=[(se[0]+he[0])/2,(se[1]+he[1])/2]}else if(z.touch0)R=z.touch0[0],F=z.touch0[1];else return;z.zoom("touch",p(d(E,R,F),z.extent,L))}}function X(I,...G){if(this.__zooming){var z=B(this,G).event(I),j=I.changedTouches,A=j.length,N,E;for(bc(I),S&&clearTimeout(S),S=setTimeout(function(){S=null},x),N=0;N<A;++N)E=j[N],z.touch0&&z.touch0[2]===E.identifier?delete z.touch0:z.touch1&&z.touch1[2]===E.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(E=vi(E,this),Math.hypot(v[0]-E[0],v[1]-E[1])<a)){var R=ht(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return o.wheelDelta=function(I){return arguments.length?(y=typeof I=="function"?I:za(+I),o):y},o.filter=function(I){return arguments.length?(r=typeof I=="function"?I:za(!!I),o):r},o.touchable=function(I){return arguments.length?(D=typeof I=="function"?I:za(!!I),o):D},o.extent=function(I){return arguments.length?(c=typeof I=="function"?I:za([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),o):c},o.scaleExtent=function(I){return arguments.length?(k[0]=+I[0],k[1]=+I[1],o):[k[0],k[1]]},o.translateExtent=function(I){return arguments.length?(L[0][0]=+I[0][0],L[1][0]=+I[1][0],L[0][1]=+I[0][1],L[1][1]=+I[1][1],o):[[L[0][0],L[0][1]],[L[1][0],L[1][1]]]},o.constrain=function(I){return arguments.length?(p=I,o):p},o.duration=function(I){return arguments.length?(l=+I,o):l},o.interpolate=function(I){return arguments.length?(u=I,o):u},o.on=function(){var I=h.on.apply(h,arguments);return I===h?o:I},o.clickDistance=function(I){return arguments.length?(C=(I=+I)*I,o):Math.sqrt(C)},o.tapDistance=function(I){return arguments.length?(a=+I,o):a},o}function Dy({graphData:r,viewMode:c}){const p=De.useRef();De.useEffect(()=>{const D=ht("body").append("div").attr("class","tooltip").style("position","absolute").style("padding","6px 8px").style("background","black").style("color","white").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("opacity",0);return()=>D.remove()},[]);const y=De.useRef(Va);return De.useEffect(()=>{var N,E;const D=ht(p.current);D.selectAll("*").remove();const k=Ay().scaleExtent([.2,4]).on("zoom",A);D.call(k);const L=D.append("g").attr("class","zoomable").attr("transform",y.current);if(!r||r.nodes.length===0){y.current=Va,D.call(k.transform,y.current),D.selectAll("*").remove();return}const l=((N=p.current)==null?void 0:N.clientWidth)||800,u=((E=p.current)==null?void 0:E.clientHeight)||500,h=c==="bdd",m=r.nodes.map(R=>({...R,fx:R.fx??void 0,fy:R.fy??void 0})),v=r.links,S=20,x=S-5,T=10;v.forEach(R=>{const F=typeof R.source=="string"?R.source:R.source.id,W=typeof R.target=="string"?R.target:R.target.id;R.source=m.find(se=>se.id===F),R.target=m.find(se=>se.id===W)});const C=m.filter(R=>!R.invisible),a=C.find(R=>R.isInitial);a&&(a.fx==null||a.fy==null)&&(a.fx=100,a.fy=u/2),m.forEach(R=>{R.fx===null&&delete R.fx,R.fy===null&&delete R.fy}),h&&(Ty(m,v,l,u),m.forEach(R=>{R.fx=R.x,R.fy=R.y,R.isPinned=!0}));const o=gy(m).force("charge",py().strength(-300)).force("collision",ay().radius(S*2)).force("link",oy(v).id(R=>R.id).distance(150).strength(1)).force("x",my(l/2).strength(.05)).force("y",yy(u/2).strength(.05)).alphaDecay(.005).velocityDecay(.3);h&&o.stop();const f=D.append("defs");f.append("marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",S+T).attr("refY",0).attr("markerWidth",T).attr("markerHeight",T).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#000"),f.append("marker").attr("id","arrowLoop").attr("viewBox","0 -5 10 10").attr("refX",S-T).attr("refY",0).attr("markerWidth",T).attr("markerHeight",T).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#000");const g=L.append("g").selectAll("path").data(v).enter().append("path").attr("id",(R,F)=>`linkPath-${F}`).attr("class",h?"link bdd":"link").attr("stroke","#000").attr("stroke-width",1).attr("fill","none").attr("marker-end",R=>R.source.id===R.target.id?"url(#arrowLoop)":"url(#arrow)");g.attr("stroke-dasharray",R=>R.style==="dashed"?"4 3":null);const B=L.append("g").selectAll("text").data(v).enter().append("text").attr("class","edge-label").attr("text-anchor","middle").attr("dy",-2).attr("stroke","#fff").attr("stroke-width",1).attr("paint-order","stroke").text(R=>R.label).merge(g),H=64,b=36,M=H/2,$=b,P=L.append("g").selectAll("g").data(C).enter().append("g").call(rm().on("start",G).on("drag",z).on("end",j)).on("click",function(R,F){if(F.isInitial)return;F.isPinned=!F.isPinned,F.isPinned?(F.fx=F.x,F.fy=F.y):(F.fx=null,F.fy=null),ht(this).select(F.shape==="box"?"rect":"circle").attr("stroke",F.isPinned?"#000":"#444").attr("stroke-width",F.isPinned?2:1)});P.each(function(R){const F=ht(this);R.shape==="image"&&R.imageUrl?F.append("image").attr("href",R.imageUrl).attr("x",-30).attr("y",-30).attr("width",55).attr("height",55).attr("fill","#fff"):R.shape==="box"?F.append("rect").attr("x",-M/2).attr("y",-$/2).attr("width",M).attr("height",$).attr("rx",0).attr("ry",0).attr("fill","#fff").attr("stroke",R.isPinned?"#000":"#444").attr("stroke-width",R.isPinned?2:1):(F.append("circle").attr("r",20).attr("fill","#fff").attr("stroke",R.isPinned?"#000":"#444").attr("stroke-width",R.isPinned?2:1),R.isFinal&&F.append("circle").attr("r",24).attr("fill","none").attr("stroke","#000").attr("stroke-width",1.5))}),P.append("text").attr("dy",5).attr("y",R=>R.shape==="image"?-3:0).attr("x",R=>R.shape==="image"?3:0).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill","#000").attr("stroke","#fff").attr("stroke-width",1).attr("paint-order","stroke").text(R=>R.label??R.id),P.selectAll("circle, rect").attr("stroke",R=>R.isPinned?"#000":"#444").attr("stroke-width",R=>R.isPinned?2:1);const X=ht("body").select("div.tooltip");P.on("mouseover",function(R,F){F.isPinned&&X.style("opacity",.5).html("Pinned").style("left",R.pageX+10+"px").style("top",R.pageY-20+"px")}),P.on("mousemove",function(R){X.style("left",R.pageX+10+"px").style("top",R.pageY-20+"px")}),P.on("mouseout",function(){X.style("opacity",0)});function I(){g.attr("d",R=>{if(!R.source||!R.target)return"";if(!h&&R.source.id===R.target.id){const Q=R.source.x,ne=R.source.y;return`M${Q},${ne-x} A${x},${x} 0 1,1 ${Q+.1},${ne-x}`}if(h)return`M${R.source.x},${R.source.y} L${R.target.x},${R.target.y}`;const F=R.target.x-R.source.x,W=R.target.y-R.source.y,se=Math.sqrt(F*F+W*W)*2,ae=v.some(Q=>{var ne,oe,pe,fe;return((ne=Q.source)==null?void 0:ne.id)===((oe=R.target)==null?void 0:oe.id)&&((pe=Q.target)==null?void 0:pe.id)===((fe=R.source)==null?void 0:fe.id)}),he=R.sourceId<R.targetId,U=ae?he?1:0:1;return`M${R.source.x},${R.source.y} A${se},${se} 0 0,${U} ${R.target.x},${R.target.y}`}),B.each(function(R,F){if(!R.source||!R.target)return"";const W=ht(this);if(R.source.id===R.target.id){W.attr("x",R.source.x+15).attr("y",R.source.y-45);return}const se=document.getElementById(`linkPath-${F}`);if(!se)return;const ae=se.getTotalLength(),he=se.getPointAtLength(ae/2);W.attr("x",he.x).attr("y",he.y-3)}),P.attr("transform",R=>`translate(${R.x},${R.y})`)}return o.on("tick",I),I(),()=>o.stop();function G(R,F){F.isInitial||(R.active||o.alphaTarget(.3).restart(),F.fx=F.x,F.fy=F.y)}function z(R,F){F.isInitial||(F.fx=R.x,F.fy=R.y,I())}function j(R,F){F.isInitial||(R.active||o.alphaTarget(0),F.isPinned||(F.fx=null,F.fy=null),I())}function A({transform:R}){y.current=R,L.attr("transform",R)}},[r,c]),J.jsx("svg",{ref:p,style:{width:"100%",height:"100%",display:"block"}})}function Ty(r,c,p,y){const m=new Map,v=new Map;r.forEach(b=>{m.set(b.id,[]),v.set(b.id,0)}),c.forEach(b=>{const M=typeof b.source=="object"?b.source.id:b.source,$=typeof b.target=="object"?b.target.id:b.target;m.has(M)||m.set(M,[]),m.get(M).push($),v.set($,(v.get($)||0)+1)});const S=new Map,x=b=>{if(b==null)return null;if(typeof b=="number"&&Number.isFinite(b))return b;if(typeof b=="string"){const M=b.match(/(\d+)/);if(M)return+M[1]}return null};let T=!1;for(const b of r){const M=x(b.var??b.level);M!==null&&(S.set(b.id,M),T=!0)}if(!T){const b=new Map(r.map(Y=>[Y.id,0])),M=new Map(v),$=[];for(r.forEach(Y=>{(M.get(Y.id)||0)===0&&$.push(Y.id)}),$.length===0&&r.length&&$.push(r[0].id);$.length;){const Y=$.shift();for(const P of m.get(Y)||[])b.set(P,Math.max(b.get(P),b.get(Y)+1)),M.set(P,(M.get(P)||0)-1),M.get(P)===0&&$.push(P)}b.forEach((Y,P)=>S.set(P,Y))}let C=-1/0;S.forEach(b=>{b>C&&(C=b)});for(const b of r)(m.get(b.id)||[]).length===0&&S.set(b.id,C+1);if(C=-1/0,S.forEach(b=>{b>C&&(C=b)}),new Set(S.values()).size<=1){const b=Math.ceil(Math.sqrt(r.length)),M=Math.ceil(r.length/b),$=(p-60-60)/b,Y=(y-40-40)/Math.max(1,M);r.forEach((P,X)=>{const I=X%b,G=Math.floor(X/b);P.x=60+$*(I+.5),P.y=40+Y*(G+.5)});return}const o=new Map;r.forEach(b=>{const M=S.get(b.id)??0;o.has(M)||o.set(M,[]),o.get(M).push(b)});const f=new Map;c.forEach(b=>{const M=typeof b.source=="object"?b.source.id:b.source,$=typeof b.target=="object"?b.target.id:b.target;f.has($)||f.set($,new Set),f.get($).add(M)});const d=Array.from(o.keys()).sort((b,M)=>b-M),g=40,w=y-40,B=Math.min(90,(w-g)/Math.max(1,d.length));let H=new Map;d.forEach((b,M)=>{const Y=o.get(b).map(G=>{const z=Array.from(f.get(G.id)||[]),j=z.length?z.reduce((A,N)=>A+(H.get(N)??0),0)/z.length:0;return{n:G,score:j}}).sort((G,z)=>G.score-z.score),P=g+M*B,X=Math.max(1,Y.length),I=Math.max(80,(p-60-60)/(X+1));Y.forEach((G,z)=>{const j=60+I*(z+1);G.n.x=j,G.n.y=P,H.set(G.n.id,j)})})}var Cc={exports:{}},h_;function Ry(){return h_||(h_=1,function(r,c){(function(p,y){r.exports=y()})(self,()=>(()=>{var p={4567:function(L,l,u){var h=this&&this.__decorate||function(d,g,w,B){var H,b=arguments.length,M=b<3?g:B===null?B=Object.getOwnPropertyDescriptor(g,w):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(d,g,w,B);else for(var $=d.length-1;$>=0;$--)(H=d[$])&&(M=(b<3?H(M):b>3?H(g,w,M):H(g,w))||M);return b>3&&M&&Object.defineProperty(g,w,M),M},m=this&&this.__param||function(d,g){return function(w,B){g(w,B,d)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const v=u(9042),S=u(6114),x=u(9924),T=u(844),C=u(5596),a=u(4725),o=u(3656);let f=l.AccessibilityManager=class extends T.Disposable{constructor(d,g){super(),this._terminal=d,this._renderService=g,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new x.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(w=>this._handleResize(w.rows))),this.register(this._terminal.onRender(w=>this._refreshRows(w.start,w.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(w=>this._handleChar(w))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(w=>this._handleTab(w))),this.register(this._terminal.onKey(w=>this._handleKey(w.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new C.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,o.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,T.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(d){for(let g=0;g<d;g++)this._handleChar(" ")}_handleChar(d){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==d&&(this._charsToAnnounce+=d):this._charsToAnnounce+=d,d===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=v.tooMuchOutput)),S.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,S.isMac&&this._liveRegion.remove()}_handleKey(d){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(d)||this._charsToConsume.push(d)}_refreshRows(d,g){this._liveRegionDebouncer.refresh(d,g,this._terminal.rows)}_renderRows(d,g){const w=this._terminal.buffer,B=w.lines.length.toString();for(let H=d;H<=g;H++){const b=w.translateBufferLineToString(w.ydisp+H,!0),M=(w.ydisp+H+1).toString(),$=this._rowElements[H];$&&(b.length===0?$.innerText="":$.textContent=b,$.setAttribute("aria-posinset",M),$.setAttribute("aria-setsize",B))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(d,g){const w=d.target,B=this._rowElements[g===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(g===0?"1":`${this._terminal.buffer.lines.length}`)||d.relatedTarget!==B)return;let H,b;if(g===0?(H=w,b=this._rowElements.pop(),this._rowContainer.removeChild(b)):(H=this._rowElements.shift(),b=w,this._rowContainer.removeChild(H)),H.removeEventListener("focus",this._topBoundaryFocusListener),b.removeEventListener("focus",this._bottomBoundaryFocusListener),g===0){const M=this._createAccessibilityTreeNode();this._rowElements.unshift(M),this._rowContainer.insertAdjacentElement("afterbegin",M)}else{const M=this._createAccessibilityTreeNode();this._rowElements.push(M),this._rowContainer.appendChild(M)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(g===0?-1:1),this._rowElements[g===0?1:this._rowElements.length-2].focus(),d.preventDefault(),d.stopImmediatePropagation()}_handleResize(d){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let g=this._rowContainer.children.length;g<this._terminal.rows;g++)this._rowElements[g]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[g]);for(;this._rowElements.length>d;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const d=document.createElement("div");return d.setAttribute("role","listitem"),d.tabIndex=-1,this._refreshRowDimensions(d),d}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let d=0;d<this._terminal.rows;d++)this._refreshRowDimensions(this._rowElements[d])}}_refreshRowDimensions(d){d.style.height=`${this._renderService.dimensions.css.cell.height}px`}};l.AccessibilityManager=f=h([m(1,a.IRenderService)],f)},3614:(L,l)=>{function u(S){return S.replace(/\r?\n/g,"\r")}function h(S,x){return x?"\x1B[200~"+S+"\x1B[201~":S}function m(S,x,T,C){S=h(S=u(S),T.decPrivateModes.bracketedPasteMode&&C.rawOptions.ignoreBracketedPasteMode!==!0),T.triggerDataEvent(S,!0),x.value=""}function v(S,x,T){const C=T.getBoundingClientRect(),a=S.clientX-C.left-10,o=S.clientY-C.top-10;x.style.width="20px",x.style.height="20px",x.style.left=`${a}px`,x.style.top=`${o}px`,x.style.zIndex="1000",x.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=u,l.bracketTextForPaste=h,l.copyHandler=function(S,x){S.clipboardData&&S.clipboardData.setData("text/plain",x.selectionText),S.preventDefault()},l.handlePasteEvent=function(S,x,T,C){S.stopPropagation(),S.clipboardData&&m(S.clipboardData.getData("text/plain"),x,T,C)},l.paste=m,l.moveTextAreaUnderMouseCursor=v,l.rightClickHandler=function(S,x,T,C,a){v(S,x,T),a&&C.rightClickSelect(S),x.value=C.selectionText,x.select()}},7239:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const h=u(1505);l.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(m,v,S){this._css.set(m,v,S)}getCss(m,v){return this._css.get(m,v)}setColor(m,v,S){this._color.set(m,v,S)}getColor(m,v){return this._color.get(m,v)}clear(){this._color.clear(),this._css.clear()}}},3656:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(u,h,m,v){u.addEventListener(h,m,v);let S=!1;return{dispose:()=>{S||(S=!0,u.removeEventListener(h,m,v))}}}},6465:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,B=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(B=(w<3?g(B):w>3?g(o,f,B):g(o,f))||B);return w>3&&B&&Object.defineProperty(o,f,B),B},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier2=void 0;const v=u(3656),S=u(8460),x=u(844),T=u(2585);let C=l.Linkifier2=class extends x.Disposable{get currentLink(){return this._currentLink}constructor(a){super(),this._bufferService=a,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new S.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new S.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,x.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,x.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(a){return this._linkProviders.push(a),{dispose:()=>{const o=this._linkProviders.indexOf(a);o!==-1&&this._linkProviders.splice(o,1)}}}attachToDom(a,o,f){this._element=a,this._mouseService=o,this._renderService=f,this.register((0,v.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,v.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,v.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,v.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(a){if(this._lastMouseEvent=a,!this._element||!this._mouseService)return;const o=this._positionFromMouseEvent(a,this._element,this._mouseService);if(!o)return;this._isMouseOut=!1;const f=a.composedPath();for(let d=0;d<f.length;d++){const g=f[d];if(g.classList.contains("xterm"))break;if(g.classList.contains("xterm-hover"))return}this._lastBufferCell&&o.x===this._lastBufferCell.x&&o.y===this._lastBufferCell.y||(this._handleHover(o),this._lastBufferCell=o)}_handleHover(a){if(this._activeLine!==a.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(a,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))}_askForLink(a,o){var f,d;this._activeProviderReplies&&o||((f=this._activeProviderReplies)===null||f===void 0||f.forEach(w=>{w==null||w.forEach(B=>{B.link.dispose&&B.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=a.y);let g=!1;for(const[w,B]of this._linkProviders.entries())o?!((d=this._activeProviderReplies)===null||d===void 0)&&d.get(w)&&(g=this._checkLinkProviderResult(w,a,g)):B.provideLinks(a.y,H=>{var b,M;if(this._isMouseOut)return;const $=H==null?void 0:H.map(Y=>({link:Y}));(b=this._activeProviderReplies)===null||b===void 0||b.set(w,$),g=this._checkLinkProviderResult(w,a,g),((M=this._activeProviderReplies)===null||M===void 0?void 0:M.size)===this._linkProviders.length&&this._removeIntersectingLinks(a.y,this._activeProviderReplies)})}_removeIntersectingLinks(a,o){const f=new Set;for(let d=0;d<o.size;d++){const g=o.get(d);if(g)for(let w=0;w<g.length;w++){const B=g[w],H=B.link.range.start.y<a?0:B.link.range.start.x,b=B.link.range.end.y>a?this._bufferService.cols:B.link.range.end.x;for(let M=H;M<=b;M++){if(f.has(M)){g.splice(w--,1);break}f.add(M)}}}}_checkLinkProviderResult(a,o,f){var d;if(!this._activeProviderReplies)return f;const g=this._activeProviderReplies.get(a);let w=!1;for(let B=0;B<a;B++)this._activeProviderReplies.has(B)&&!this._activeProviderReplies.get(B)||(w=!0);if(!w&&g){const B=g.find(H=>this._linkAtPosition(H.link,o));B&&(f=!0,this._handleNewLink(B))}if(this._activeProviderReplies.size===this._linkProviders.length&&!f)for(let B=0;B<this._activeProviderReplies.size;B++){const H=(d=this._activeProviderReplies.get(B))===null||d===void 0?void 0:d.find(b=>this._linkAtPosition(b.link,o));if(H){f=!0,this._handleNewLink(H);break}}return f}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(a){if(!this._element||!this._mouseService||!this._currentLink)return;const o=this._positionFromMouseEvent(a,this._element,this._mouseService);o&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,o)&&this._currentLink.link.activate(a,this._currentLink.link.text)}_clearCurrentLink(a,o){this._element&&this._currentLink&&this._lastMouseEvent&&(!a||!o||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=o)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,x.disposeArray)(this._linkCacheDisposables))}_handleNewLink(a){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const o=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);o&&this._linkAtPosition(a.link,o)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:()=>{var f,d;return(d=(f=this._currentLink)===null||f===void 0?void 0:f.state)===null||d===void 0?void 0:d.decorations.pointerCursor},set:f=>{var d,g;!((d=this._currentLink)===null||d===void 0)&&d.state&&this._currentLink.state.decorations.pointerCursor!==f&&(this._currentLink.state.decorations.pointerCursor=f,this._currentLink.state.isHovered&&((g=this._element)===null||g===void 0||g.classList.toggle("xterm-cursor-pointer",f)))}},underline:{get:()=>{var f,d;return(d=(f=this._currentLink)===null||f===void 0?void 0:f.state)===null||d===void 0?void 0:d.decorations.underline},set:f=>{var d,g,w;!((d=this._currentLink)===null||d===void 0)&&d.state&&((w=(g=this._currentLink)===null||g===void 0?void 0:g.state)===null||w===void 0?void 0:w.decorations.underline)!==f&&(this._currentLink.state.decorations.underline=f,this._currentLink.state.isHovered&&this._fireUnderlineEvent(a.link,f))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(f=>{if(!this._currentLink)return;const d=f.start===0?0:f.start+1+this._bufferService.buffer.ydisp,g=this._bufferService.buffer.ydisp+1+f.end;if(this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=g&&(this._clearCurrentLink(d,g),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(a,o,f){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),o.hover&&o.hover(f,o.text)}_fireUnderlineEvent(a,o){const f=a.range,d=this._bufferService.buffer.ydisp,g=this._createLinkUnderlineEvent(f.start.x-1,f.start.y-d-1,f.end.x,f.end.y-d-1,void 0);(o?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(g)}_linkLeave(a,o,f){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),o.leave&&o.leave(f,o.text)}_linkAtPosition(a,o){const f=a.range.start.y*this._bufferService.cols+a.range.start.x,d=a.range.end.y*this._bufferService.cols+a.range.end.x,g=o.y*this._bufferService.cols+o.x;return f<=g&&g<=d}_positionFromMouseEvent(a,o,f){const d=f.getCoords(a,o,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(a,o,f,d,g){return{x1:a,y1:o,x2:f,y2:d,cols:this._bufferService.cols,fg:g}}};l.Linkifier2=C=h([m(0,T.IBufferService)],C)},9042:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(L,l,u){var h=this&&this.__decorate||function(C,a,o,f){var d,g=arguments.length,w=g<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,o):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(C,a,o,f);else for(var B=C.length-1;B>=0;B--)(d=C[B])&&(w=(g<3?d(w):g>3?d(a,o,w):d(a,o))||w);return g>3&&w&&Object.defineProperty(a,o,w),w},m=this&&this.__param||function(C,a){return function(o,f){a(o,f,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const v=u(511),S=u(2585);let x=l.OscLinkProvider=class{constructor(C,a,o){this._bufferService=C,this._optionsService=a,this._oscLinkService=o}provideLinks(C,a){var o;const f=this._bufferService.buffer.lines.get(C-1);if(!f)return void a(void 0);const d=[],g=this._optionsService.rawOptions.linkHandler,w=new v.CellData,B=f.getTrimmedLength();let H=-1,b=-1,M=!1;for(let $=0;$<B;$++)if(b!==-1||f.hasContent($)){if(f.loadCell($,w),w.hasExtendedAttrs()&&w.extended.urlId){if(b===-1){b=$,H=w.extended.urlId;continue}M=w.extended.urlId!==H}else b!==-1&&(M=!0);if(M||b!==-1&&$===B-1){const Y=(o=this._oscLinkService.getLinkData(H))===null||o===void 0?void 0:o.uri;if(Y){const P={start:{x:b+1,y:C},end:{x:$+(M||$!==B-1?0:1),y:C}};let X=!1;if(!(g!=null&&g.allowNonHttpProtocols))try{const I=new URL(Y);["http:","https:"].includes(I.protocol)||(X=!0)}catch{X=!0}X||d.push({text:Y,range:P,activate:(I,G)=>g?g.activate(I,G,P):T(0,G),hover:(I,G)=>{var z;return(z=g==null?void 0:g.hover)===null||z===void 0?void 0:z.call(g,I,G,P)},leave:(I,G)=>{var z;return(z=g==null?void 0:g.leave)===null||z===void 0?void 0:z.call(g,I,G,P)}})}M=!1,w.hasExtendedAttrs()&&w.extended.urlId?(b=$,H=w.extended.urlId):(b=-1,H=-1)}}a(d)}};function T(C,a){if(confirm(`Do you want to navigate to ${a}?

WARNING: This link could potentially be dangerous`)){const o=window.open();if(o){try{o.opener=null}catch{}o.location.href=a}else console.warn("Opening link blocked as opener could not be cleared")}}l.OscLinkProvider=x=h([m(0,S.IBufferService),m(1,S.IOptionsService),m(2,S.IOscLinkService)],x)},6193:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(u,h){this._parentWindow=u,this._renderCallback=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(u,h,m){this._rowCount=m,u=u!==void 0?u:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const u=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},5596:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ScreenDprMonitor=void 0;const h=u(844);class m extends h.Disposable{constructor(S){super(),this._parentWindow=S,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,h.toDisposable)(()=>{this.clearListener()}))}setListener(S){this._listener&&this.clearListener(),this._listener=S,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var S;this._outerListener&&((S=this._resolutionMediaMatchList)===null||S===void 0||S.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}l.ScreenDprMonitor=m},3236:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const h=u(3614),m=u(3656),v=u(6465),S=u(9042),x=u(3730),T=u(1680),C=u(3107),a=u(5744),o=u(2950),f=u(1296),d=u(428),g=u(4269),w=u(5114),B=u(8934),H=u(3230),b=u(9312),M=u(4725),$=u(6731),Y=u(8055),P=u(8969),X=u(8460),I=u(844),G=u(6114),z=u(8437),j=u(2584),A=u(7399),N=u(5941),E=u(9074),R=u(2585),F=u(5435),W=u(4567),se=typeof window<"u"?window.document:null;class ae extends P.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(U={}){super(U),this.browser=G,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new I.MutableDisposable),this._onCursorMove=this.register(new X.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new X.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new X.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new X.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new X.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new X.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new X.EventEmitter),this._onBlur=this.register(new X.EventEmitter),this._onA11yCharEmitter=this.register(new X.EventEmitter),this._onA11yTabEmitter=this.register(new X.EventEmitter),this._onWillOpen=this.register(new X.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(v.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(x.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(E.DecorationService),this._instantiationService.setService(R.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((Q,ne)=>this.refresh(Q,ne))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(Q=>this._reportWindowsOptions(Q))),this.register(this._inputHandler.onColor(Q=>this._handleColorEvent(Q))),this.register((0,X.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,X.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,X.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,X.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(Q=>this._afterResize(Q.cols,Q.rows))),this.register((0,I.toDisposable)(()=>{var Q,ne;this._customKeyEventHandler=void 0,(ne=(Q=this.element)===null||Q===void 0?void 0:Q.parentNode)===null||ne===void 0||ne.removeChild(this.element)}))}_handleColorEvent(U){if(this._themeService)for(const Q of U){let ne,oe="";switch(Q.index){case 256:ne="foreground",oe="10";break;case 257:ne="background",oe="11";break;case 258:ne="cursor",oe="12";break;default:ne="ansi",oe="4;"+Q.index}switch(Q.type){case 0:const pe=Y.color.toColorRGB(ne==="ansi"?this._themeService.colors.ansi[Q.index]:this._themeService.colors[ne]);this.coreService.triggerDataEvent(`${j.C0.ESC}]${oe};${(0,N.toRgbString)(pe)}${j.C1_ESCAPED.ST}`);break;case 1:if(ne==="ansi")this._themeService.modifyColors(fe=>fe.ansi[Q.index]=Y.rgba.toColor(...Q.color));else{const fe=ne;this._themeService.modifyColors(Ae=>Ae[fe]=Y.rgba.toColor(...Q.color))}break;case 2:this._themeService.restoreColor(Q.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(U){U?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(W.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(U){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(j.C0.ESC+"[I"),this.updateCursorStyle(U),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var U;return(U=this.textarea)===null||U===void 0?void 0:U.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(j.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const U=this.buffer.ybase+this.buffer.y,Q=this.buffer.lines.get(U);if(!Q)return;const ne=Math.min(this.buffer.x,this.cols-1),oe=this._renderService.dimensions.css.cell.height,pe=Q.getWidth(ne),fe=this._renderService.dimensions.css.cell.width*pe,Ae=this.buffer.y*this._renderService.dimensions.css.cell.height,$e=ne*this._renderService.dimensions.css.cell.width;this.textarea.style.left=$e+"px",this.textarea.style.top=Ae+"px",this.textarea.style.width=fe+"px",this.textarea.style.height=oe+"px",this.textarea.style.lineHeight=oe+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,m.addDisposableDomListener)(this.element,"copy",Q=>{this.hasSelection()&&(0,h.copyHandler)(Q,this._selectionService)}));const U=Q=>(0,h.handlePasteEvent)(Q,this.textarea,this.coreService,this.optionsService);this.register((0,m.addDisposableDomListener)(this.textarea,"paste",U)),this.register((0,m.addDisposableDomListener)(this.element,"paste",U)),G.isFirefox?this.register((0,m.addDisposableDomListener)(this.element,"mousedown",Q=>{Q.button===2&&(0,h.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,m.addDisposableDomListener)(this.element,"contextmenu",Q=>{(0,h.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),G.isLinux&&this.register((0,m.addDisposableDomListener)(this.element,"auxclick",Q=>{Q.button===1&&(0,h.moveTextAreaUnderMouseCursor)(Q,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,m.addDisposableDomListener)(this.textarea,"keyup",U=>this._keyUp(U),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keydown",U=>this._keyDown(U),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keypress",U=>this._keyPress(U),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionupdate",U=>this._compositionHelper.compositionupdate(U))),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,m.addDisposableDomListener)(this.textarea,"input",U=>this._inputEvent(U),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(U){var Q;if(!U)throw new Error("Terminal requires a parent element.");U.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=U.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),U.appendChild(this.element);const ne=se.createDocumentFragment();this._viewportElement=se.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ne.appendChild(this._viewportElement),this._viewportScrollArea=se.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=se.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=se.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ne.appendChild(this.screenElement),this.textarea=se.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",S.promptLabel),G.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(Q=this._document.defaultView)!==null&&Q!==void 0?Q:window),this._instantiationService.setService(M.ICoreBrowserService,this._coreBrowserService),this.register((0,m.addDisposableDomListener)(this.textarea,"focus",oe=>this._handleTextAreaFocus(oe))),this.register((0,m.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(d.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(M.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance($.ThemeService),this._instantiationService.setService(M.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(g.CharacterJoinerService),this._instantiationService.setService(M.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(H.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(M.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(oe=>this._onRender.fire(oe))),this.onResize(oe=>this._renderService.resize(oe.cols,oe.rows)),this._compositionView=se.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ne);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(B.MouseService),this._instantiationService.setService(M.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(T.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(oe=>this.scrollLines(oe.amount,oe.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(M.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(oe=>this.scrollLines(oe.amount,oe.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(oe=>this._renderService.handleSelectionChanged(oe.start,oe.end,oe.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(oe=>{this.textarea.value=oe,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(oe=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(C.BufferDecorationRenderer,this.screenElement)),this.register((0,m.addDisposableDomListener)(this.element,"mousedown",oe=>this._selectionService.handleMouseDown(oe))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(W.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",oe=>this._handleScreenReaderModeOptionChange(oe))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",oe=>{!this._overviewRulerRenderer&&oe&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(f.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const U=this,Q=this.element;function ne(fe){const Ae=U._mouseService.getMouseReportCoords(fe,U.screenElement);if(!Ae)return!1;let $e,nt;switch(fe.overrideType||fe.type){case"mousemove":nt=32,fe.buttons===void 0?($e=3,fe.button!==void 0&&($e=fe.button<3?fe.button:3)):$e=1&fe.buttons?0:4&fe.buttons?1:2&fe.buttons?2:3;break;case"mouseup":nt=0,$e=fe.button<3?fe.button:3;break;case"mousedown":nt=1,$e=fe.button<3?fe.button:3;break;case"wheel":if(U.viewport.getLinesScrolled(fe)===0)return!1;nt=fe.deltaY<0?0:1,$e=4;break;default:return!1}return!(nt===void 0||$e===void 0||$e>4)&&U.coreMouseService.triggerMouseEvent({col:Ae.col,row:Ae.row,x:Ae.x,y:Ae.y,button:$e,action:nt,ctrl:fe.ctrlKey,alt:fe.altKey,shift:fe.shiftKey})}const oe={mouseup:null,wheel:null,mousedrag:null,mousemove:null},pe={mouseup:fe=>(ne(fe),fe.buttons||(this._document.removeEventListener("mouseup",oe.mouseup),oe.mousedrag&&this._document.removeEventListener("mousemove",oe.mousedrag)),this.cancel(fe)),wheel:fe=>(ne(fe),this.cancel(fe,!0)),mousedrag:fe=>{fe.buttons&&ne(fe)},mousemove:fe=>{fe.buttons||ne(fe)}};this.register(this.coreMouseService.onProtocolChange(fe=>{fe?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(fe)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&fe?oe.mousemove||(Q.addEventListener("mousemove",pe.mousemove),oe.mousemove=pe.mousemove):(Q.removeEventListener("mousemove",oe.mousemove),oe.mousemove=null),16&fe?oe.wheel||(Q.addEventListener("wheel",pe.wheel,{passive:!1}),oe.wheel=pe.wheel):(Q.removeEventListener("wheel",oe.wheel),oe.wheel=null),2&fe?oe.mouseup||(Q.addEventListener("mouseup",pe.mouseup),oe.mouseup=pe.mouseup):(this._document.removeEventListener("mouseup",oe.mouseup),Q.removeEventListener("mouseup",oe.mouseup),oe.mouseup=null),4&fe?oe.mousedrag||(oe.mousedrag=pe.mousedrag):(this._document.removeEventListener("mousemove",oe.mousedrag),oe.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,m.addDisposableDomListener)(Q,"mousedown",fe=>{if(fe.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(fe))return ne(fe),oe.mouseup&&this._document.addEventListener("mouseup",oe.mouseup),oe.mousedrag&&this._document.addEventListener("mousemove",oe.mousedrag),this.cancel(fe)})),this.register((0,m.addDisposableDomListener)(Q,"wheel",fe=>{if(!oe.wheel){if(!this.buffer.hasScrollback){const Ae=this.viewport.getLinesScrolled(fe);if(Ae===0)return;const $e=j.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(fe.deltaY<0?"A":"B");let nt="";for(let mi=0;mi<Math.abs(Ae);mi++)nt+=$e;return this.coreService.triggerDataEvent(nt,!0),this.cancel(fe,!0)}return this.viewport.handleWheel(fe)?this.cancel(fe):void 0}},{passive:!1})),this.register((0,m.addDisposableDomListener)(Q,"touchstart",fe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(fe),this.cancel(fe)},{passive:!0})),this.register((0,m.addDisposableDomListener)(Q,"touchmove",fe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(fe)?void 0:this.cancel(fe)},{passive:!1}))}refresh(U,Q){var ne;(ne=this._renderService)===null||ne===void 0||ne.refreshRows(U,Q)}updateCursorStyle(U){var Q;!((Q=this._selectionService)===null||Q===void 0)&&Q.shouldColumnSelect(U)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(U,Q,ne=0){var oe;ne===1?(super.scrollLines(U,Q,ne),this.refresh(0,this.rows-1)):(oe=this.viewport)===null||oe===void 0||oe.scrollLines(U)}paste(U){(0,h.paste)(U,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(U){this._customKeyEventHandler=U}registerLinkProvider(U){return this.linkifier2.registerLinkProvider(U)}registerCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Q=this._characterJoinerService.register(U);return this.refresh(0,this.rows-1),Q}deregisterCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(U)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(U){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+U)}registerDecoration(U){return this._decorationService.registerDecoration(U)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(U,Q,ne){this._selectionService.setSelection(U,Q,ne)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var U;(U=this._selectionService)===null||U===void 0||U.clearSelection()}selectAll(){var U;(U=this._selectionService)===null||U===void 0||U.selectAll()}selectLines(U,Q){var ne;(ne=this._selectionService)===null||ne===void 0||ne.selectLines(U,Q)}_keyDown(U){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;const Q=this.browser.isMac&&this.options.macOptionIsMeta&&U.altKey;if(!Q&&!this._compositionHelper.keydown(U))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;Q||U.key!=="Dead"&&U.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ne=(0,A.evaluateKeyboardEvent)(U,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(U),ne.type===3||ne.type===2){const oe=this.rows-1;return this.scrollLines(ne.type===2?-oe:oe),this.cancel(U,!0)}return ne.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,U)||(ne.cancel&&this.cancel(U,!0),!ne.key||!!(U.key&&!U.ctrlKey&&!U.altKey&&!U.metaKey&&U.key.length===1&&U.key.charCodeAt(0)>=65&&U.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ne.key!==j.C0.ETX&&ne.key!==j.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ne.key,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(ne.key,!0),!this.optionsService.rawOptions.screenReaderMode||U.altKey||U.ctrlKey?this.cancel(U,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(U,Q){const ne=U.isMac&&!this.options.macOptionIsMeta&&Q.altKey&&!Q.ctrlKey&&!Q.metaKey||U.isWindows&&Q.altKey&&Q.ctrlKey&&!Q.metaKey||U.isWindows&&Q.getModifierState("AltGraph");return Q.type==="keypress"?ne:ne&&(!Q.keyCode||Q.keyCode>47)}_keyUp(U){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1||(function(Q){return Q.keyCode===16||Q.keyCode===17||Q.keyCode===18}(U)||this.focus(),this.updateCursorStyle(U),this._keyPressHandled=!1)}_keyPress(U){let Q;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;if(this.cancel(U),U.charCode)Q=U.charCode;else if(U.which===null||U.which===void 0)Q=U.keyCode;else{if(U.which===0||U.charCode===0)return!1;Q=U.which}return!(!Q||(U.altKey||U.ctrlKey||U.metaKey)&&!this._isThirdLevelShift(this.browser,U)||(Q=String.fromCharCode(Q),this._onKey.fire({key:Q,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(Q,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(U){if(U.data&&U.inputType==="insertText"&&(!U.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const Q=U.data;return this.coreService.triggerDataEvent(Q,!0),this.cancel(U),!0}return!1}resize(U,Q){U!==this.cols||Q!==this.rows?super.resize(U,Q):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(U,Q){var ne,oe;(ne=this._charSizeService)===null||ne===void 0||ne.measure(),(oe=this.viewport)===null||oe===void 0||oe.syncScrollArea(!0)}clear(){var U;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Q=1;Q<this.rows;Q++)this.buffer.lines.push(this.buffer.getBlankLine(z.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(U=this.viewport)===null||U===void 0||U.reset(),this.refresh(0,this.rows-1)}}reset(){var U,Q;this.options.rows=this.rows,this.options.cols=this.cols;const ne=this._customKeyEventHandler;this._setup(),super.reset(),(U=this._selectionService)===null||U===void 0||U.reset(),this._decorationService.reset(),(Q=this.viewport)===null||Q===void 0||Q.reset(),this._customKeyEventHandler=ne,this.refresh(0,this.rows-1)}clearTextureAtlas(){var U;(U=this._renderService)===null||U===void 0||U.clearTextureAtlas()}_reportFocus(){var U;!((U=this.element)===null||U===void 0)&&U.classList.contains("focus")?this.coreService.triggerDataEvent(j.C0.ESC+"[I"):this.coreService.triggerDataEvent(j.C0.ESC+"[O")}_reportWindowsOptions(U){if(this._renderService)switch(U){case F.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Q=this._renderService.dimensions.css.canvas.width.toFixed(0),ne=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${j.C0.ESC}[4;${ne};${Q}t`);break;case F.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const oe=this._renderService.dimensions.css.cell.width.toFixed(0),pe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${j.C0.ESC}[6;${pe};${oe}t`)}}cancel(U,Q){if(this.options.cancelEvents||Q)return U.preventDefault(),U.stopPropagation(),!1}}l.Terminal=ae},9924:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(u,h=1e3){this._renderCallback=u,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,h,m){this._rowCount=m,u=u!==void 0?u:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const v=Date.now();if(v-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=v,this._innerRefresh();else if(!this._additionalRefreshRequested){const S=v-this._lastRefreshMs,x=this._debounceThresholdMS-S;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},x)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const u=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,h)}}},1680:function(L,l,u){var h=this&&this.__decorate||function(o,f,d,g){var w,B=arguments.length,H=B<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(o,f,d,g);else for(var b=o.length-1;b>=0;b--)(w=o[b])&&(H=(B<3?w(H):B>3?w(f,d,H):w(f,d))||H);return B>3&&H&&Object.defineProperty(f,d,H),H},m=this&&this.__param||function(o,f){return function(d,g){f(d,g,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const v=u(3656),S=u(4725),x=u(8460),T=u(844),C=u(2585);let a=l.Viewport=class extends T.Disposable{constructor(o,f,d,g,w,B,H,b){super(),this._viewportElement=o,this._scrollArea=f,this._bufferService=d,this._optionsService=g,this._charSizeService=w,this._renderService=B,this._coreBrowserService=H,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(M=>this._activeBuffer=M.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(M=>this._renderDimensions=M)),this._handleThemeChange(b.colors),this.register(b.onChangeColors(M=>this._handleThemeChange(M))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(o){this._viewportElement.style.backgroundColor=o.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(o){if(o)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const f=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==f&&(this._lastRecordedBufferHeight=f,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const o=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==o&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=o),this._refreshAnimationFrame=null}syncScrollArea(o=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(o);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(o)}_handleScroll(o){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const f=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const o=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(o*(this._smoothScrollState.target-this._smoothScrollState.origin)),o<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(o,f){const d=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(f<0&&this._viewportElement.scrollTop!==0||f>0&&d<this._lastRecordedBufferHeight)||(o.cancelable&&o.preventDefault(),!1)}handleWheel(o){const f=this._getPixelsScrolled(o);return f!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+f:this._smoothScrollState.target+=f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=f,this._bubbleScroll(o,f))}scrollLines(o){if(o!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const f=o*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!1})}_getPixelsScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let f=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_LINE?f*=this._currentRowHeight:o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._currentRowHeight*this._bufferService.rows),f}getBufferElements(o,f){var d;let g,w="";const B=[],H=f??this._bufferService.buffer.lines.length,b=this._bufferService.buffer.lines;for(let M=o;M<H;M++){const $=b.get(M);if(!$)continue;const Y=(d=b.get(M+1))===null||d===void 0?void 0:d.isWrapped;if(w+=$.translateToString(!Y),!Y||M===b.length-1){const P=document.createElement("div");P.textContent=w,B.push(P),w.length>0&&(g=P),w=""}}return{bufferElements:B,cursorElement:g}}getLinesScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let f=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(f/=this._currentRowHeight+0,this._wheelPartialScroll+=f,f=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._bufferService.rows),f}_applyScrollModifier(o,f){const d=this._optionsService.rawOptions.fastScrollModifier;return d==="alt"&&f.altKey||d==="ctrl"&&f.ctrlKey||d==="shift"&&f.shiftKey?o*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:o*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(o){this._lastTouchY=o.touches[0].pageY}handleTouchMove(o){const f=this._lastTouchY-o.touches[0].pageY;return this._lastTouchY=o.touches[0].pageY,f!==0&&(this._viewportElement.scrollTop+=f,this._bubbleScroll(o,f))}};l.Viewport=a=h([m(2,C.IBufferService),m(3,C.IOptionsService),m(4,S.ICharSizeService),m(5,S.IRenderService),m(6,S.ICoreBrowserService),m(7,S.IThemeService)],a)},3107:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,B=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(B=(w<3?g(B):w>3?g(o,f,B):g(o,f))||B);return w>3&&B&&Object.defineProperty(o,f,B),B},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const v=u(3656),S=u(4725),x=u(844),T=u(2585);let C=l.BufferDecorationRenderer=class extends x.Disposable{constructor(a,o,f,d){super(),this._screenElement=a,this._bufferService=o,this._decorationService=f,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,v.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(g=>this._removeDecoration(g))),this.register((0,x.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const a of this._decorationService.decorations)this._renderDecoration(a);this._dimensionsChanged=!1}_renderDecoration(a){this._refreshStyle(a),this._dimensionsChanged&&this._refreshXPosition(a)}_createElement(a){var o,f;const d=document.createElement("div");d.classList.add("xterm-decoration"),d.classList.toggle("xterm-decoration-top-layer",((o=a==null?void 0:a.options)===null||o===void 0?void 0:o.layer)==="top"),d.style.width=`${Math.round((a.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,d.style.height=(a.options.height||1)*this._renderService.dimensions.css.cell.height+"px",d.style.top=(a.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",d.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const g=(f=a.options.x)!==null&&f!==void 0?f:0;return g&&g>this._bufferService.cols&&(d.style.display="none"),this._refreshXPosition(a,d),d}_refreshStyle(a){const o=a.marker.line-this._bufferService.buffers.active.ydisp;if(o<0||o>=this._bufferService.rows)a.element&&(a.element.style.display="none",a.onRenderEmitter.fire(a.element));else{let f=this._decorationElements.get(a);f||(f=this._createElement(a),a.element=f,this._decorationElements.set(a,f),this._container.appendChild(f),a.onDispose(()=>{this._decorationElements.delete(a),f.remove()})),f.style.top=o*this._renderService.dimensions.css.cell.height+"px",f.style.display=this._altBufferIsActive?"none":"block",a.onRenderEmitter.fire(f)}}_refreshXPosition(a,o=a.element){var f;if(!o)return;const d=(f=a.options.x)!==null&&f!==void 0?f:0;(a.options.anchor||"left")==="right"?o.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":o.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(a){var o;(o=this._decorationElements.get(a))===null||o===void 0||o.remove(),this._decorationElements.delete(a),a.dispose()}};l.BufferDecorationRenderer=C=h([m(1,T.IBufferService),m(2,T.IDecorationService),m(3,S.IRenderService)],C)},5871:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(const h of this._zones)if(h.color===u.options.overviewRulerOptions.color&&h.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,u.marker.line))return;if(this._lineAdjacentToZone(h,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(h,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,h){return h>=u.startBufferLine&&h<=u.endBufferLine}_lineAdjacentToZone(u,h,m){return h>=u.startBufferLine-this._linePadding[m||"full"]&&h<=u.endBufferLine+this._linePadding[m||"full"]}_addLineToZone(u,h){u.startBufferLine=Math.min(u.startBufferLine,h),u.endBufferLine=Math.max(u.endBufferLine,h)}}},5744:function(L,l,u){var h=this&&this.__decorate||function(g,w,B,H){var b,M=arguments.length,$=M<3?w:H===null?H=Object.getOwnPropertyDescriptor(w,B):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(g,w,B,H);else for(var Y=g.length-1;Y>=0;Y--)(b=g[Y])&&($=(M<3?b($):M>3?b(w,B,$):b(w,B))||$);return M>3&&$&&Object.defineProperty(w,B,$),$},m=this&&this.__param||function(g,w){return function(B,H){w(B,H,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const v=u(5871),S=u(3656),x=u(4725),T=u(844),C=u(2585),a={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0};let d=l.OverviewRulerRenderer=class extends T.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(g,w,B,H,b,M,$){var Y;super(),this._viewportElement=g,this._screenElement=w,this._bufferService=B,this._decorationService=H,this._renderService=b,this._optionsService=M,this._coreBrowseService=$,this._colorZoneStore=new v.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(Y=this._viewportElement.parentElement)===null||Y===void 0||Y.insertBefore(this._canvas,this._viewportElement);const P=this._canvas.getContext("2d");if(!P)throw new Error("Ctx cannot be null");this._ctx=P,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,T.toDisposable)(()=>{var X;(X=this._canvas)===null||X===void 0||X.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,S.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const g=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);o.full=this._canvas.width,o.left=g,o.center=w,o.right=g,this._refreshDrawHeightConstants(),f.full=0,f.left=0,f.center=o.left,f.right=o.left+o.center}_refreshDrawHeightConstants(){a.full=Math.round(2*this._coreBrowseService.dpr);const g=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(g,12),6)*this._coreBrowseService.dpr);a.left=w,a.center=w,a.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const g=this._colorZoneStore.zones;for(const w of g)w.position!=="full"&&this._renderColorZone(w);for(const w of g)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(g){this._ctx.fillStyle=g.color,this._ctx.fillRect(f[g.position||"full"],Math.round((this._canvas.height-1)*(g.startBufferLine/this._bufferService.buffers.active.lines.length)-a[g.position||"full"]/2),o[g.position||"full"],Math.round((this._canvas.height-1)*((g.endBufferLine-g.startBufferLine)/this._bufferService.buffers.active.lines.length)+a[g.position||"full"]))}_queueRefresh(g,w){this._shouldUpdateDimensions=g||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};l.OverviewRulerRenderer=d=h([m(2,C.IBufferService),m(3,C.IDecorationService),m(4,x.IRenderService),m(5,C.IOptionsService),m(6,x.ICoreBrowserService)],d)},2950:function(L,l,u){var h=this&&this.__decorate||function(C,a,o,f){var d,g=arguments.length,w=g<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,o):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(C,a,o,f);else for(var B=C.length-1;B>=0;B--)(d=C[B])&&(w=(g<3?d(w):g>3?d(a,o,w):d(a,o))||w);return g>3&&w&&Object.defineProperty(a,o,w),w},m=this&&this.__param||function(C,a){return function(o,f){a(o,f,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const v=u(4725),S=u(2585),x=u(2584);let T=l.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(C,a,o,f,d,g){this._textarea=C,this._compositionView=a,this._bufferService=o,this._optionsService=f,this._coreService=d,this._renderService=g,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(C){this._compositionView.textContent=C.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(C){if(this._isComposing||this._isSendingComposition){if(C.keyCode===229||C.keyCode===16||C.keyCode===17||C.keyCode===18)return!1;this._finalizeComposition(!1)}return C.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(C){if(this._compositionView.classList.remove("active"),this._isComposing=!1,C){const a={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let o;this._isSendingComposition=!1,a.start+=this._dataAlreadySent.length,o=this._isComposing?this._textarea.value.substring(a.start,a.end):this._textarea.value.substring(a.start),o.length>0&&this._coreService.triggerDataEvent(o,!0)}},0)}else{this._isSendingComposition=!1;const a=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(a,!0)}}_handleAnyTextareaChanges(){const C=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const a=this._textarea.value,o=a.replace(C,"");this._dataAlreadySent=o,a.length>C.length?this._coreService.triggerDataEvent(o,!0):a.length<C.length?this._coreService.triggerDataEvent(`${x.C0.DEL}`,!0):a.length===C.length&&a!==C&&this._coreService.triggerDataEvent(a,!0)}},0)}updateCompositionElements(C){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const a=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),o=this._renderService.dimensions.css.cell.height,f=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,d=a*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=d+"px",this._compositionView.style.top=f+"px",this._compositionView.style.height=o+"px",this._compositionView.style.lineHeight=o+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const g=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=f+"px",this._textarea.style.width=Math.max(g.width,1)+"px",this._textarea.style.height=Math.max(g.height,1)+"px",this._textarea.style.lineHeight=g.height+"px"}C||setTimeout(()=>this.updateCompositionElements(!0),0)}}};l.CompositionHelper=T=h([m(2,S.IBufferService),m(3,S.IOptionsService),m(4,S.ICoreService),m(5,v.IRenderService)],T)},9806:(L,l)=>{function u(h,m,v){const S=v.getBoundingClientRect(),x=h.getComputedStyle(v),T=parseInt(x.getPropertyValue("padding-left")),C=parseInt(x.getPropertyValue("padding-top"));return[m.clientX-S.left-T,m.clientY-S.top-C]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=u,l.getCoords=function(h,m,v,S,x,T,C,a,o){if(!T)return;const f=u(h,m,v);return f?(f[0]=Math.ceil((f[0]+(o?C/2:0))/C),f[1]=Math.ceil(f[1]/a),f[0]=Math.min(Math.max(f[0],1),S+(o?1:0)),f[1]=Math.min(Math.max(f[1],1),x),f):void 0}},9504:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const h=u(2584);function m(a,o,f,d){const g=a-v(a,f),w=o-v(o,f),B=Math.abs(g-w)-function(H,b,M){let $=0;const Y=H-v(H,M),P=b-v(b,M);for(let X=0;X<Math.abs(Y-P);X++){const I=S(H,b)==="A"?-1:1,G=M.buffer.lines.get(Y+I*X);G!=null&&G.isWrapped&&$++}return $}(a,o,f);return C(B,T(S(a,o),d))}function v(a,o){let f=0,d=o.buffer.lines.get(a),g=d==null?void 0:d.isWrapped;for(;g&&a>=0&&a<o.rows;)f++,d=o.buffer.lines.get(--a),g=d==null?void 0:d.isWrapped;return f}function S(a,o){return a>o?"A":"B"}function x(a,o,f,d,g,w){let B=a,H=o,b="";for(;B!==f||H!==d;)B+=g?1:-1,g&&B>w.cols-1?(b+=w.buffer.translateBufferLineToString(H,!1,a,B),B=0,a=0,H++):!g&&B<0&&(b+=w.buffer.translateBufferLineToString(H,!1,0,a+1),B=w.cols-1,a=B,H--);return b+w.buffer.translateBufferLineToString(H,!1,a,B)}function T(a,o){const f=o?"O":"[";return h.C0.ESC+f+a}function C(a,o){a=Math.floor(a);let f="";for(let d=0;d<a;d++)f+=o;return f}l.moveToCellSequence=function(a,o,f,d){const g=f.buffer.x,w=f.buffer.y;if(!f.buffer.hasScrollback)return function(b,M,$,Y,P,X){return m(M,Y,P,X).length===0?"":C(x(b,M,b,M-v(M,P),!1,P).length,T("D",X))}(g,w,0,o,f,d)+m(w,o,f,d)+function(b,M,$,Y,P,X){let I;I=m(M,Y,P,X).length>0?Y-v(Y,P):M;const G=Y,z=function(j,A,N,E,R,F){let W;return W=m(N,E,R,F).length>0?E-v(E,R):A,j<N&&W<=E||j>=N&&W<E?"C":"D"}(b,M,$,Y,P,X);return C(x(b,I,$,G,z==="C",P).length,T(z,X))}(g,w,a,o,f,d);let B;if(w===o)return B=g>a?"D":"C",C(Math.abs(g-a),T(B,d));B=w>o?"D":"C";const H=Math.abs(w-o);return C(function(b,M){return M.cols-b}(w>o?a:g,f)+(H-1)*f.cols+1+((w>o?g:a)-1),T(B,d))}},1296:function(L,l,u){var h=this&&this.__decorate||function(P,X,I,G){var z,j=arguments.length,A=j<3?X:G===null?G=Object.getOwnPropertyDescriptor(X,I):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(P,X,I,G);else for(var N=P.length-1;N>=0;N--)(z=P[N])&&(A=(j<3?z(A):j>3?z(X,I,A):z(X,I))||A);return j>3&&A&&Object.defineProperty(X,I,A),A},m=this&&this.__param||function(P,X){return function(I,G){X(I,G,P)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const v=u(3787),S=u(2550),x=u(2223),T=u(6171),C=u(4725),a=u(8055),o=u(8460),f=u(844),d=u(2585),g="xterm-dom-renderer-owner-",w="xterm-rows",B="xterm-fg-",H="xterm-bg-",b="xterm-focus",M="xterm-selection";let $=1,Y=l.DomRenderer=class extends f.Disposable{constructor(P,X,I,G,z,j,A,N,E,R){super(),this._element=P,this._screenElement=X,this._viewportElement=I,this._linkifier2=G,this._charSizeService=j,this._optionsService=A,this._bufferService=N,this._coreBrowserService=E,this._themeService=R,this._terminalClass=$++,this._rowElements=[],this.onRequestRedraw=this.register(new o.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(M),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,T.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(F=>this._injectCss(F))),this._injectCss(this._themeService.colors),this._rowFactory=z.createInstance(v.DomRendererRowFactory,document),this._element.classList.add(g+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(F=>this._handleLinkHover(F))),this.register(this._linkifier2.onHideLinkUnderline(F=>this._handleLinkLeave(F))),this.register((0,f.toDisposable)(()=>{this._element.classList.remove(g+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new S.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const P=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*P,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*P),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/P),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/P),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const I of this._rowElements)I.style.width=`${this.dimensions.css.canvas.width}px`,I.style.height=`${this.dimensions.css.cell.height}px`,I.style.lineHeight=`${this.dimensions.css.cell.height}px`,I.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const X=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=X,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(P){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let X=`${this._terminalSelector} .${w} { color: ${P.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;X+=`${this._terminalSelector} .${w} .xterm-dim { color: ${a.color.multiplyOpacity(P.foreground,.5).css};}`,X+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,X+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",X+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${P.cursor.css};  color: ${P.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${P.cursor.css}; }}`,X+=`${this._terminalSelector} .${w}.${b} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${b} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${P.cursor.css}; color: ${P.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${P.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${P.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${P.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,X+=`${this._terminalSelector} .${M} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${M} div { position: absolute; background-color: ${P.selectionBackgroundOpaque.css};}${this._terminalSelector} .${M} div { position: absolute; background-color: ${P.selectionInactiveBackgroundOpaque.css};}`;for(const[I,G]of P.ansi.entries())X+=`${this._terminalSelector} .${B}${I} { color: ${G.css}; }${this._terminalSelector} .${B}${I}.xterm-dim { color: ${a.color.multiplyOpacity(G,.5).css}; }${this._terminalSelector} .${H}${I} { background-color: ${G.css}; }`;X+=`${this._terminalSelector} .${B}${x.INVERTED_DEFAULT_COLOR} { color: ${a.color.opaque(P.background).css}; }${this._terminalSelector} .${B}${x.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${a.color.multiplyOpacity(a.color.opaque(P.background),.5).css}; }${this._terminalSelector} .${H}${x.INVERTED_DEFAULT_COLOR} { background-color: ${P.foreground.css}; }`,this._themeStyleElement.textContent=X}_setDefaultSpacing(){const P=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${P}px`,this._rowFactory.defaultSpacing=P}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(P,X){for(let I=this._rowElements.length;I<=X;I++){const G=document.createElement("div");this._rowContainer.appendChild(G),this._rowElements.push(G)}for(;this._rowElements.length>X;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(P,X){this._refreshRowElements(P,X),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(b)}handleFocus(){this._rowContainer.classList.add(b),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(P,X,I){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(P,X,I),this.renderRows(0,this._bufferService.rows-1),!P||!X)return;const G=P[1]-this._bufferService.buffer.ydisp,z=X[1]-this._bufferService.buffer.ydisp,j=Math.max(G,0),A=Math.min(z,this._bufferService.rows-1);if(j>=this._bufferService.rows||A<0)return;const N=document.createDocumentFragment();if(I){const E=P[0]>X[0];N.appendChild(this._createSelectionElement(j,E?X[0]:P[0],E?P[0]:X[0],A-j+1))}else{const E=G===j?P[0]:0,R=j===z?X[0]:this._bufferService.cols;N.appendChild(this._createSelectionElement(j,E,R));const F=A-j-1;if(N.appendChild(this._createSelectionElement(j+1,0,this._bufferService.cols,F)),j!==A){const W=z===A?X[0]:this._bufferService.cols;N.appendChild(this._createSelectionElement(A,0,W))}}this._selectionContainer.appendChild(N)}_createSelectionElement(P,X,I,G=1){const z=document.createElement("div");return z.style.height=G*this.dimensions.css.cell.height+"px",z.style.top=P*this.dimensions.css.cell.height+"px",z.style.left=X*this.dimensions.css.cell.width+"px",z.style.width=this.dimensions.css.cell.width*(I-X)+"px",z}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const P of this._rowElements)P.replaceChildren()}renderRows(P,X){const I=this._bufferService.buffer,G=I.ybase+I.y,z=Math.min(I.x,this._bufferService.cols-1),j=this._optionsService.rawOptions.cursorBlink,A=this._optionsService.rawOptions.cursorStyle,N=this._optionsService.rawOptions.cursorInactiveStyle;for(let E=P;E<=X;E++){const R=E+I.ydisp,F=this._rowElements[E],W=I.lines.get(R);if(!F||!W)break;F.replaceChildren(...this._rowFactory.createRow(W,R,R===G,A,N,z,j,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${g}${this._terminalClass}`}_handleLinkHover(P){this._setCellUnderline(P.x1,P.x2,P.y1,P.y2,P.cols,!0)}_handleLinkLeave(P){this._setCellUnderline(P.x1,P.x2,P.y1,P.y2,P.cols,!1)}_setCellUnderline(P,X,I,G,z,j){I<0&&(P=0),G<0&&(X=0);const A=this._bufferService.rows-1;I=Math.max(Math.min(I,A),0),G=Math.max(Math.min(G,A),0),z=Math.min(z,this._bufferService.cols);const N=this._bufferService.buffer,E=N.ybase+N.y,R=Math.min(N.x,z-1),F=this._optionsService.rawOptions.cursorBlink,W=this._optionsService.rawOptions.cursorStyle,se=this._optionsService.rawOptions.cursorInactiveStyle;for(let ae=I;ae<=G;++ae){const he=ae+N.ydisp,U=this._rowElements[ae],Q=N.lines.get(he);if(!U||!Q)break;U.replaceChildren(...this._rowFactory.createRow(Q,he,he===E,W,se,R,F,this.dimensions.css.cell.width,this._widthCache,j?ae===I?P:0:-1,j?(ae===G?X:z)-1:-1))}}};l.DomRenderer=Y=h([m(4,d.IInstantiationService),m(5,C.ICharSizeService),m(6,d.IOptionsService),m(7,d.IBufferService),m(8,C.ICoreBrowserService),m(9,C.IThemeService)],Y)},3787:function(L,l,u){var h=this&&this.__decorate||function(B,H,b,M){var $,Y=arguments.length,P=Y<3?H:M===null?M=Object.getOwnPropertyDescriptor(H,b):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(B,H,b,M);else for(var X=B.length-1;X>=0;X--)($=B[X])&&(P=(Y<3?$(P):Y>3?$(H,b,P):$(H,b))||P);return Y>3&&P&&Object.defineProperty(H,b,P),P},m=this&&this.__param||function(B,H){return function(b,M){H(b,M,B)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=void 0;const v=u(2223),S=u(643),x=u(511),T=u(2585),C=u(8055),a=u(4725),o=u(4269),f=u(6171),d=u(3734);let g=l.DomRendererRowFactory=class{constructor(B,H,b,M,$,Y,P){this._document=B,this._characterJoinerService=H,this._optionsService=b,this._coreBrowserService=M,this._coreService=$,this._decorationService=Y,this._themeService=P,this._workCell=new x.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(B,H,b){this._selectionStart=B,this._selectionEnd=H,this._columnSelectMode=b}createRow(B,H,b,M,$,Y,P,X,I,G,z){const j=[],A=this._characterJoinerService.getJoinedCharacters(H),N=this._themeService.colors;let E,R=B.getNoBgTrimmedLength();b&&R<Y+1&&(R=Y+1);let F=0,W="",se=0,ae=0,he=0,U=!1,Q=0,ne=!1,oe=0;const pe=[],fe=G!==-1&&z!==-1;for(let Ae=0;Ae<R;Ae++){B.loadCell(Ae,this._workCell);let $e=this._workCell.getWidth();if($e===0)continue;let nt=!1,mi=Ae,me=this._workCell;if(A.length>0&&Ae===A[0][0]){nt=!0;const ze=A.shift();me=new o.JoinedCellData(this._workCell,B.translateToString(!0,ze[0],ze[1]),ze[1]-ze[0]),mi=ze[1]-1,$e=me.getWidth()}const Yi=this._isCellInSelection(Ae,H),vs=b&&Ae===Y,gs=fe&&Ae>=G&&Ae<=z;let yi=!1;this._decorationService.forEachDecorationAtCell(Ae,H,void 0,ze=>{yi=!0});let ps=me.getChars()||S.WHITESPACE_CELL_CHAR;if(ps===" "&&(me.isUnderline()||me.isOverline())&&(ps=""),oe=$e*X-I.get(ps,me.isBold(),me.isItalic()),E){if(F&&(Yi&&ne||!Yi&&!ne&&me.bg===se)&&(Yi&&ne&&N.selectionForeground||me.fg===ae)&&me.extended.ext===he&&gs===U&&oe===Q&&!vs&&!nt&&!yi){W+=ps,F++;continue}F&&(E.textContent=W),E=this._document.createElement("span"),F=0,W=""}else E=this._document.createElement("span");if(se=me.bg,ae=me.fg,he=me.extended.ext,U=gs,Q=oe,ne=Yi,nt&&Y>=Ae&&Y<=mi&&(Y=Ae),!this._coreService.isCursorHidden&&vs){if(pe.push("xterm-cursor"),this._coreBrowserService.isFocused)P&&pe.push("xterm-cursor-blink"),pe.push(M==="bar"?"xterm-cursor-bar":M==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if($)switch($){case"outline":pe.push("xterm-cursor-outline");break;case"block":pe.push("xterm-cursor-block");break;case"bar":pe.push("xterm-cursor-bar");break;case"underline":pe.push("xterm-cursor-underline")}}if(me.isBold()&&pe.push("xterm-bold"),me.isItalic()&&pe.push("xterm-italic"),me.isDim()&&pe.push("xterm-dim"),W=me.isInvisible()?S.WHITESPACE_CELL_CHAR:me.getChars()||S.WHITESPACE_CELL_CHAR,me.isUnderline()&&(pe.push(`xterm-underline-${me.extended.underlineStyle}`),W===" "&&(W=""),!me.isUnderlineColorDefault()))if(me.isUnderlineColorRGB())E.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(me.getUnderlineColor()).join(",")})`;else{let ze=me.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&me.isBold()&&ze<8&&(ze+=8),E.style.textDecorationColor=N.ansi[ze].css}me.isOverline()&&(pe.push("xterm-overline"),W===" "&&(W="")),me.isStrikethrough()&&pe.push("xterm-strikethrough"),gs&&(E.style.textDecoration="underline");let ct=me.getFgColor(),Xi=me.getFgColorMode(),Rt=me.getBgColor(),jt=me.getBgColorMode();const Je=!!me.isInverse();if(Je){const ze=ct;ct=Rt,Rt=ze;const ms=Xi;Xi=jt,jt=ms}let et,tt,Yt,Gi=!1;switch(this._decorationService.forEachDecorationAtCell(Ae,H,void 0,ze=>{ze.options.layer!=="top"&&Gi||(ze.backgroundColorRGB&&(jt=50331648,Rt=ze.backgroundColorRGB.rgba>>8&16777215,et=ze.backgroundColorRGB),ze.foregroundColorRGB&&(Xi=50331648,ct=ze.foregroundColorRGB.rgba>>8&16777215,tt=ze.foregroundColorRGB),Gi=ze.options.layer==="top")}),!Gi&&Yi&&(et=this._coreBrowserService.isFocused?N.selectionBackgroundOpaque:N.selectionInactiveBackgroundOpaque,Rt=et.rgba>>8&16777215,jt=50331648,Gi=!0,N.selectionForeground&&(Xi=50331648,ct=N.selectionForeground.rgba>>8&16777215,tt=N.selectionForeground)),Gi&&pe.push("xterm-decoration-top"),jt){case 16777216:case 33554432:Yt=N.ansi[Rt],pe.push(`xterm-bg-${Rt}`);break;case 50331648:Yt=C.rgba.toColor(Rt>>16,Rt>>8&255,255&Rt),this._addStyle(E,`background-color:#${w((Rt>>>0).toString(16),"0",6)}`);break;default:Je?(Yt=N.foreground,pe.push(`xterm-bg-${v.INVERTED_DEFAULT_COLOR}`)):Yt=N.background}switch(et||me.isDim()&&(et=C.color.multiplyOpacity(Yt,.5)),Xi){case 16777216:case 33554432:me.isBold()&&ct<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ct+=8),this._applyMinimumContrast(E,Yt,N.ansi[ct],me,et,void 0)||pe.push(`xterm-fg-${ct}`);break;case 50331648:const ze=C.rgba.toColor(ct>>16&255,ct>>8&255,255&ct);this._applyMinimumContrast(E,Yt,ze,me,et,tt)||this._addStyle(E,`color:#${w(ct.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(E,Yt,N.foreground,me,et,void 0)||Je&&pe.push(`xterm-fg-${v.INVERTED_DEFAULT_COLOR}`)}pe.length&&(E.className=pe.join(" "),pe.length=0),vs||nt||yi?E.textContent=W:F++,oe!==this.defaultSpacing&&(E.style.letterSpacing=`${oe}px`),j.push(E),Ae=mi}return E&&F&&(E.textContent=W),j}_applyMinimumContrast(B,H,b,M,$,Y){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,f.excludeFromContrastRatioDemands)(M.getCode()))return!1;const P=this._getContrastCache(M);let X;if($||Y||(X=P.getColor(H.rgba,b.rgba)),X===void 0){const I=this._optionsService.rawOptions.minimumContrastRatio/(M.isDim()?2:1);X=C.color.ensureContrastRatio($||H,Y||b,I),P.setColor(($||H).rgba,(Y||b).rgba,X??null)}return!!X&&(this._addStyle(B,`color:${X.css}`),!0)}_getContrastCache(B){return B.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(B,H){B.setAttribute("style",`${B.getAttribute("style")||""}${H};`)}_isCellInSelection(B,H){const b=this._selectionStart,M=this._selectionEnd;return!(!b||!M)&&(this._columnSelectMode?b[0]<=M[0]?B>=b[0]&&H>=b[1]&&B<M[0]&&H<=M[1]:B<b[0]&&H>=b[1]&&B>=M[0]&&H<=M[1]:H>b[1]&&H<M[1]||b[1]===M[1]&&H===b[1]&&B>=b[0]&&B<M[0]||b[1]<M[1]&&H===M[1]&&B<M[0]||b[1]<M[1]&&H===b[1]&&B>=b[0])}};function w(B,H,b){for(;B.length<b;)B=H+B;return B}l.DomRendererRowFactory=g=h([m(1,a.ICharacterJoinerService),m(2,T.IOptionsService),m(3,a.ICoreBrowserService),m(4,T.ICoreService),m(5,T.IDecorationService),m(6,a.IThemeService)],g)},2550:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WidthCache=void 0,l.WidthCache=class{constructor(u){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=u.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const h=u.createElement("span"),m=u.createElement("span");m.style.fontWeight="bold";const v=u.createElement("span");v.style.fontStyle="italic";const S=u.createElement("span");S.style.fontWeight="bold",S.style.fontStyle="italic",this._measureElements=[h,m,v,S],this._container.appendChild(h),this._container.appendChild(m),this._container.appendChild(v),this._container.appendChild(S),u.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(u,h,m,v){u===this._font&&h===this._fontSize&&m===this._weight&&v===this._weightBold||(this._font=u,this._fontSize=h,this._weight=m,this._weightBold=v,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${m}`,this._measureElements[1].style.fontWeight=`${v}`,this._measureElements[2].style.fontWeight=`${m}`,this._measureElements[3].style.fontWeight=`${v}`,this.clear())}get(u,h,m){let v=0;if(!h&&!m&&u.length===1&&(v=u.charCodeAt(0))<256)return this._flat[v]!==-9999?this._flat[v]:this._flat[v]=this._measure(u,0);let S=u;h&&(S+="B"),m&&(S+="I");let x=this._holey.get(S);if(x===void 0){let T=0;h&&(T|=1),m&&(T|=2),x=this._measure(u,T),this._holey.set(S,x)}return x}_measure(u,h){const m=this._measureElements[h];return m.textContent=u.repeat(32),m.offsetWidth/32}}},2223:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const h=u(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(L,l)=>{function u(h){return 57508<=h&&h<=57558}Object.defineProperty(l,"__esModule",{value:!0}),l.createRenderDimensions=l.excludeFromContrastRatioDemands=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},l.isPowerlineGlyph=u,l.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},l.excludeFromContrastRatioDemands=function(h){return u(h)||function(m){return 9472<=m&&m<=9631}(h)},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const u=this.selectionStart,h=this.selectionEnd;return!(!u||!h)&&(u[1]>h[1]||u[1]===h[1]&&u[0]>h[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,B=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(B=(w<3?g(B):w>3?g(o,f,B):g(o,f))||B);return w>3&&B&&Object.defineProperty(o,f,B),B},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const v=u(2585),S=u(8460),x=u(844);let T=l.CharSizeService=class extends x.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(a,o,f){super(),this._optionsService=f,this.width=0,this.height=0,this._onCharSizeChange=this.register(new S.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new C(a,o,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())}};l.CharSizeService=T=h([m(2,v.IOptionsService)],T);class C{constructor(o,f,d){this._document=o,this._parentElement=f,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const o={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return o.width!==0&&o.height!==0&&(this._result.width=o.width/32,this._result.height=Math.ceil(o.height)),this._result}}},4269:function(L,l,u){var h=this&&this.__decorate||function(o,f,d,g){var w,B=arguments.length,H=B<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(o,f,d,g);else for(var b=o.length-1;b>=0;b--)(w=o[b])&&(H=(B<3?w(H):B>3?w(f,d,H):w(f,d))||H);return B>3&&H&&Object.defineProperty(f,d,H),H},m=this&&this.__param||function(o,f){return function(d,g){f(d,g,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const v=u(3734),S=u(643),x=u(511),T=u(2585);class C extends v.AttributeData{constructor(f,d,g){super(),this.content=0,this.combinedData="",this.fg=f.fg,this.bg=f.bg,this.combinedData=d,this._width=g}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(f){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.JoinedCellData=C;let a=l.CharacterJoinerService=class Y_{constructor(f){this._bufferService=f,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new x.CellData}register(f){const d={id:this._nextCharacterJoinerId++,handler:f};return this._characterJoiners.push(d),d.id}deregister(f){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===f)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(f){if(this._characterJoiners.length===0)return[];const d=this._bufferService.buffer.lines.get(f);if(!d||d.length===0)return[];const g=[],w=d.translateToString(!0);let B=0,H=0,b=0,M=d.getFg(0),$=d.getBg(0);for(let Y=0;Y<d.getTrimmedLength();Y++)if(d.loadCell(Y,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==M||this._workCell.bg!==$){if(Y-B>1){const P=this._getJoinedRanges(w,b,H,d,B);for(let X=0;X<P.length;X++)g.push(P[X])}B=Y,b=H,M=this._workCell.fg,$=this._workCell.bg}H+=this._workCell.getChars().length||S.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-B>1){const Y=this._getJoinedRanges(w,b,H,d,B);for(let P=0;P<Y.length;P++)g.push(Y[P])}return g}_getJoinedRanges(f,d,g,w,B){const H=f.substring(d,g);let b=[];try{b=this._characterJoiners[0].handler(H)}catch(M){console.error(M)}for(let M=1;M<this._characterJoiners.length;M++)try{const $=this._characterJoiners[M].handler(H);for(let Y=0;Y<$.length;Y++)Y_._mergeRanges(b,$[Y])}catch($){console.error($)}return this._stringRangesToCellRanges(b,w,B),b}_stringRangesToCellRanges(f,d,g){let w=0,B=!1,H=0,b=f[w];if(b){for(let M=g;M<this._bufferService.cols;M++){const $=d.getWidth(M),Y=d.getString(M).length||S.WHITESPACE_CELL_CHAR.length;if($!==0){if(!B&&b[0]<=H&&(b[0]=M,B=!0),b[1]<=H){if(b[1]=M,b=f[++w],!b)break;b[0]<=H?(b[0]=M,B=!0):B=!1}H+=Y}}b&&(b[1]=this._bufferService.cols)}}static _mergeRanges(f,d){let g=!1;for(let w=0;w<f.length;w++){const B=f[w];if(g){if(d[1]<=B[0])return f[w-1][1]=d[1],f;if(d[1]<=B[1])return f[w-1][1]=Math.max(d[1],B[1]),f.splice(w,1),f;f.splice(w,1),w--}else{if(d[1]<=B[0])return f.splice(w,0,d),f;if(d[1]<=B[1])return B[0]=Math.min(d[0],B[0]),f;d[0]<B[1]&&(B[0]=Math.min(d[0],B[0]),g=!0)}}return g?f[f.length-1][1]=d[1]:f.push(d),f}};l.CharacterJoinerService=a=h([m(0,T.IBufferService)],a)},5114:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0,l.CoreBrowserService=class{constructor(u,h){this._textarea=u,this.window=h,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(L,l,u){var h=this&&this.__decorate||function(T,C,a,o){var f,d=arguments.length,g=d<3?C:o===null?o=Object.getOwnPropertyDescriptor(C,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(T,C,a,o);else for(var w=T.length-1;w>=0;w--)(f=T[w])&&(g=(d<3?f(g):d>3?f(C,a,g):f(C,a))||g);return d>3&&g&&Object.defineProperty(C,a,g),g},m=this&&this.__param||function(T,C){return function(a,o){C(a,o,T)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const v=u(4725),S=u(9806);let x=l.MouseService=class{constructor(T,C){this._renderService=T,this._charSizeService=C}getCoords(T,C,a,o,f){return(0,S.getCoords)(window,T,C,a,o,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,f)}getMouseReportCoords(T,C){const a=(0,S.getCoordsRelativeToElement)(window,T,C);if(this._charSizeService.hasValidSize)return a[0]=Math.min(Math.max(a[0],0),this._renderService.dimensions.css.canvas.width-1),a[1]=Math.min(Math.max(a[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(a[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(a[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(a[0]),y:Math.floor(a[1])}}};l.MouseService=x=h([m(0,v.IRenderService),m(1,v.ICharSizeService)],x)},3230:function(L,l,u){var h=this&&this.__decorate||function(g,w,B,H){var b,M=arguments.length,$=M<3?w:H===null?H=Object.getOwnPropertyDescriptor(w,B):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(g,w,B,H);else for(var Y=g.length-1;Y>=0;Y--)(b=g[Y])&&($=(M<3?b($):M>3?b(w,B,$):b(w,B))||$);return M>3&&$&&Object.defineProperty(w,B,$),$},m=this&&this.__param||function(g,w){return function(B,H){w(B,H,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const v=u(3656),S=u(6193),x=u(5596),T=u(4725),C=u(8460),a=u(844),o=u(7226),f=u(2585);let d=l.RenderService=class extends a.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(g,w,B,H,b,M,$,Y){if(super(),this._rowCount=g,this._charSizeService=H,this._renderer=this.register(new a.MutableDisposable),this._pausedResizeTask=new o.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new C.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new C.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new C.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new C.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new S.RenderDebouncer($.window,(P,X)=>this._renderRows(P,X)),this.register(this._renderDebouncer),this._screenDprMonitor=new x.ScreenDprMonitor($.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(M.onResize(()=>this._fullRefresh())),this.register(M.buffers.onBufferActivate(()=>{var P;return(P=this._renderer.value)===null||P===void 0?void 0:P.clear()})),this.register(B.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(b.onDecorationRegistered(()=>this._fullRefresh())),this.register(b.onDecorationRemoved(()=>this._fullRefresh())),this.register(B.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(M.cols,M.rows),this._fullRefresh()})),this.register(B.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(M.buffer.y,M.buffer.y,!0))),this.register((0,v.addDisposableDomListener)($.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(Y.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in $.window){const P=new $.window.IntersectionObserver(X=>this._handleIntersectionChange(X[X.length-1]),{threshold:0});P.observe(w),this.register({dispose:()=>P.disconnect()})}}_handleIntersectionChange(g){this._isPaused=g.isIntersecting===void 0?g.intersectionRatio===0:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(g,w,B=!1){this._isPaused?this._needsFullRefresh=!0:(B||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,w,this._rowCount))}_renderRows(g,w){this._renderer.value&&(g=Math.min(g,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(g,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:g,end:w}),this._onRender.fire({start:g,end:w}),this._isNextRenderRedrawOnly=!0)}resize(g,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(g){this._renderer.value=g,this._renderer.value.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(g){return this._renderDebouncer.addRefreshCallback(g)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var g,w;this._renderer.value&&((w=(g=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(g),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(g,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(g,w)):this._renderer.value.handleResize(g,w),this._fullRefresh())}handleCharSizeChanged(){var g;(g=this._renderer.value)===null||g===void 0||g.handleCharSizeChanged()}handleBlur(){var g;(g=this._renderer.value)===null||g===void 0||g.handleBlur()}handleFocus(){var g;(g=this._renderer.value)===null||g===void 0||g.handleFocus()}handleSelectionChanged(g,w,B){var H;this._selectionState.start=g,this._selectionState.end=w,this._selectionState.columnSelectMode=B,(H=this._renderer.value)===null||H===void 0||H.handleSelectionChanged(g,w,B)}handleCursorMove(){var g;(g=this._renderer.value)===null||g===void 0||g.handleCursorMove()}clear(){var g;(g=this._renderer.value)===null||g===void 0||g.clear()}};l.RenderService=d=h([m(2,f.IOptionsService),m(3,T.ICharSizeService),m(4,f.IDecorationService),m(5,f.IBufferService),m(6,T.ICoreBrowserService),m(7,T.IThemeService)],d)},9312:function(L,l,u){var h=this&&this.__decorate||function(b,M,$,Y){var P,X=arguments.length,I=X<3?M:Y===null?Y=Object.getOwnPropertyDescriptor(M,$):Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(b,M,$,Y);else for(var G=b.length-1;G>=0;G--)(P=b[G])&&(I=(X<3?P(I):X>3?P(M,$,I):P(M,$))||I);return X>3&&I&&Object.defineProperty(M,$,I),I},m=this&&this.__param||function(b,M){return function($,Y){M($,Y,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const v=u(9806),S=u(9504),x=u(456),T=u(4725),C=u(8460),a=u(844),o=u(6114),f=u(4841),d=u(511),g=u(2585),w="",B=new RegExp(w,"g");let H=l.SelectionService=class extends a.Disposable{constructor(b,M,$,Y,P,X,I,G,z){super(),this._element=b,this._screenElement=M,this._linkifier=$,this._bufferService=Y,this._coreService=P,this._mouseService=X,this._optionsService=I,this._renderService=G,this._coreBrowserService=z,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new d.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new C.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new C.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new C.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=j=>this._handleMouseMove(j),this._mouseUpListener=j=>this._handleMouseUp(j),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(j=>this._handleTrim(j)),this.register(this._bufferService.buffers.onBufferActivate(j=>this._handleBufferActivate(j))),this.enable(),this._model=new x.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,a.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const b=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!b||!M||b[0]===M[0]&&b[1]===M[1])}get selectionText(){const b=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;if(!b||!M)return"";const $=this._bufferService.buffer,Y=[];if(this._activeSelectionMode===3){if(b[0]===M[0])return"";const P=b[0]<M[0]?b[0]:M[0],X=b[0]<M[0]?M[0]:b[0];for(let I=b[1];I<=M[1];I++){const G=$.translateBufferLineToString(I,!0,P,X);Y.push(G)}}else{const P=b[1]===M[1]?M[0]:void 0;Y.push($.translateBufferLineToString(b[1],!0,b[0],P));for(let X=b[1]+1;X<=M[1]-1;X++){const I=$.lines.get(X),G=$.translateBufferLineToString(X,!0);I!=null&&I.isWrapped?Y[Y.length-1]+=G:Y.push(G)}if(b[1]!==M[1]){const X=$.lines.get(M[1]),I=$.translateBufferLineToString(M[1],!0,0,M[0]);X&&X.isWrapped?Y[Y.length-1]+=I:Y.push(I)}}return Y.map(P=>P.replace(B," ")).join(o.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(b){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),o.isLinux&&b&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(b){const M=this._getMouseBufferCoords(b),$=this._model.finalSelectionStart,Y=this._model.finalSelectionEnd;return!!($&&Y&&M)&&this._areCoordsInSelection(M,$,Y)}isCellInSelection(b,M){const $=this._model.finalSelectionStart,Y=this._model.finalSelectionEnd;return!(!$||!Y)&&this._areCoordsInSelection([b,M],$,Y)}_areCoordsInSelection(b,M,$){return b[1]>M[1]&&b[1]<$[1]||M[1]===$[1]&&b[1]===M[1]&&b[0]>=M[0]&&b[0]<$[0]||M[1]<$[1]&&b[1]===$[1]&&b[0]<$[0]||M[1]<$[1]&&b[1]===M[1]&&b[0]>=M[0]}_selectWordAtCursor(b,M){var $,Y;const P=(Y=($=this._linkifier.currentLink)===null||$===void 0?void 0:$.link)===null||Y===void 0?void 0:Y.range;if(P)return this._model.selectionStart=[P.start.x-1,P.start.y-1],this._model.selectionStartLength=(0,f.getRangeLength)(P,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const X=this._getMouseBufferCoords(b);return!!X&&(this._selectWordAt(X,M),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(b,M){this._model.clearSelection(),b=Math.max(b,0),M=Math.min(M,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,b],this._model.selectionEnd=[this._bufferService.cols,M],this.refresh(),this._onSelectionChange.fire()}_handleTrim(b){this._model.handleTrim(b)&&this.refresh()}_getMouseBufferCoords(b){const M=this._mouseService.getCoords(b,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(M)return M[0]--,M[1]--,M[1]+=this._bufferService.buffer.ydisp,M}_getMouseEventScrollAmount(b){let M=(0,v.getCoordsRelativeToElement)(this._coreBrowserService.window,b,this._screenElement)[1];const $=this._renderService.dimensions.css.canvas.height;return M>=0&&M<=$?0:(M>$&&(M-=$),M=Math.min(Math.max(M,-50),50),M/=50,M/Math.abs(M)+Math.round(14*M))}shouldForceSelection(b){return o.isMac?b.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:b.shiftKey}handleMouseDown(b){if(this._mouseDownTimeStamp=b.timeStamp,(b.button!==2||!this.hasSelection)&&b.button===0){if(!this._enabled){if(!this.shouldForceSelection(b))return;b.stopPropagation()}b.preventDefault(),this._dragScrollAmount=0,this._enabled&&b.shiftKey?this._handleIncrementalClick(b):b.detail===1?this._handleSingleClick(b):b.detail===2?this._handleDoubleClick(b):b.detail===3&&this._handleTripleClick(b),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(b){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(b))}_handleSingleClick(b){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(b)?3:0,this._model.selectionStart=this._getMouseBufferCoords(b),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const M=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);M&&M.length!==this._model.selectionStart[0]&&M.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(b){this._selectWordAtCursor(b,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(b){const M=this._getMouseBufferCoords(b);M&&(this._activeSelectionMode=2,this._selectLineAt(M[1]))}shouldColumnSelect(b){return b.altKey&&!(o.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(b){if(b.stopImmediatePropagation(),!this._model.selectionStart)return;const M=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(b),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(b),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const $=this._bufferService.buffer;if(this._model.selectionEnd[1]<$.lines.length){const Y=$.lines.get(this._model.selectionEnd[1]);Y&&Y.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}M&&M[0]===this._model.selectionEnd[0]&&M[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const b=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(b.ydisp+this._bufferService.rows,b.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=b.ydisp),this.refresh()}}_handleMouseUp(b){const M=b.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&M<500&&b.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const $=this._mouseService.getCoords(b,this._element,this._bufferService.cols,this._bufferService.rows,!1);if($&&$[0]!==void 0&&$[1]!==void 0){const Y=(0,S.moveToCellSequence)($[0]-1,$[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(Y,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const b=this._model.finalSelectionStart,M=this._model.finalSelectionEnd,$=!(!b||!M||b[0]===M[0]&&b[1]===M[1]);$?b&&M&&(this._oldSelectionStart&&this._oldSelectionEnd&&b[0]===this._oldSelectionStart[0]&&b[1]===this._oldSelectionStart[1]&&M[0]===this._oldSelectionEnd[0]&&M[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(b,M,$)):this._oldHasSelection&&this._fireOnSelectionChange(b,M,$)}_fireOnSelectionChange(b,M,$){this._oldSelectionStart=b,this._oldSelectionEnd=M,this._oldHasSelection=$,this._onSelectionChange.fire()}_handleBufferActivate(b){this.clearSelection(),this._trimListener.dispose(),this._trimListener=b.activeBuffer.lines.onTrim(M=>this._handleTrim(M))}_convertViewportColToCharacterIndex(b,M){let $=M;for(let Y=0;M>=Y;Y++){const P=b.loadCell(Y,this._workCell).getChars().length;this._workCell.getWidth()===0?$--:P>1&&M!==Y&&($+=P-1)}return $}setSelection(b,M,$){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[b,M],this._model.selectionStartLength=$,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(b){this._isClickInSelection(b)||(this._selectWordAtCursor(b,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(b,M,$=!0,Y=!0){if(b[0]>=this._bufferService.cols)return;const P=this._bufferService.buffer,X=P.lines.get(b[1]);if(!X)return;const I=P.translateBufferLineToString(b[1],!1);let G=this._convertViewportColToCharacterIndex(X,b[0]),z=G;const j=b[0]-G;let A=0,N=0,E=0,R=0;if(I.charAt(G)===" "){for(;G>0&&I.charAt(G-1)===" ";)G--;for(;z<I.length&&I.charAt(z+1)===" ";)z++}else{let se=b[0],ae=b[0];X.getWidth(se)===0&&(A++,se--),X.getWidth(ae)===2&&(N++,ae++);const he=X.getString(ae).length;for(he>1&&(R+=he-1,z+=he-1);se>0&&G>0&&!this._isCharWordSeparator(X.loadCell(se-1,this._workCell));){X.loadCell(se-1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===0?(A++,se--):U>1&&(E+=U-1,G-=U-1),G--,se--}for(;ae<X.length&&z+1<I.length&&!this._isCharWordSeparator(X.loadCell(ae+1,this._workCell));){X.loadCell(ae+1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===2?(N++,ae++):U>1&&(R+=U-1,z+=U-1),z++,ae++}}z++;let F=G+j-A+E,W=Math.min(this._bufferService.cols,z-G+A+N-E-R);if(M||I.slice(G,z).trim()!==""){if($&&F===0&&X.getCodePoint(0)!==32){const se=P.lines.get(b[1]-1);if(se&&X.isWrapped&&se.getCodePoint(this._bufferService.cols-1)!==32){const ae=this._getWordAt([this._bufferService.cols-1,b[1]-1],!1,!0,!1);if(ae){const he=this._bufferService.cols-ae.start;F-=he,W+=he}}}if(Y&&F+W===this._bufferService.cols&&X.getCodePoint(this._bufferService.cols-1)!==32){const se=P.lines.get(b[1]+1);if(se!=null&&se.isWrapped&&se.getCodePoint(0)!==32){const ae=this._getWordAt([0,b[1]+1],!1,!1,!0);ae&&(W+=ae.length)}}return{start:F,length:W}}}_selectWordAt(b,M){const $=this._getWordAt(b,M);if($){for(;$.start<0;)$.start+=this._bufferService.cols,b[1]--;this._model.selectionStart=[$.start,b[1]],this._model.selectionStartLength=$.length}}_selectToWordAt(b){const M=this._getWordAt(b,!0);if(M){let $=b[1];for(;M.start<0;)M.start+=this._bufferService.cols,$--;if(!this._model.areSelectionValuesReversed())for(;M.start+M.length>this._bufferService.cols;)M.length-=this._bufferService.cols,$++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?M.start:M.start+M.length,$]}}_isCharWordSeparator(b){return b.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(b.getChars())>=0}_selectLineAt(b){const M=this._bufferService.buffer.getWrappedRangeForLine(b),$={start:{x:0,y:M.first},end:{x:this._bufferService.cols-1,y:M.last}};this._model.selectionStart=[0,M.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,f.getRangeLength)($,this._bufferService.cols)}};l.SelectionService=H=h([m(3,g.IBufferService),m(4,g.ICoreService),m(5,T.IMouseService),m(6,g.IOptionsService),m(7,T.IRenderService),m(8,T.ICoreBrowserService)],H)},4725:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const h=u(8343);l.ICharSizeService=(0,h.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),l.IMouseService=(0,h.createDecorator)("MouseService"),l.IRenderService=(0,h.createDecorator)("RenderService"),l.ISelectionService=(0,h.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,h.createDecorator)("ThemeService")},6731:function(L,l,u){var h=this&&this.__decorate||function(H,b,M,$){var Y,P=arguments.length,X=P<3?b:$===null?$=Object.getOwnPropertyDescriptor(b,M):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(H,b,M,$);else for(var I=H.length-1;I>=0;I--)(Y=H[I])&&(X=(P<3?Y(X):P>3?Y(b,M,X):Y(b,M))||X);return P>3&&X&&Object.defineProperty(b,M,X),X},m=this&&this.__param||function(H,b){return function(M,$){b(M,$,H)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const v=u(7239),S=u(8055),x=u(8460),T=u(844),C=u(2585),a=S.css.toColor("#ffffff"),o=S.css.toColor("#000000"),f=S.css.toColor("#ffffff"),d=S.css.toColor("#000000"),g={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const H=[S.css.toColor("#2e3436"),S.css.toColor("#cc0000"),S.css.toColor("#4e9a06"),S.css.toColor("#c4a000"),S.css.toColor("#3465a4"),S.css.toColor("#75507b"),S.css.toColor("#06989a"),S.css.toColor("#d3d7cf"),S.css.toColor("#555753"),S.css.toColor("#ef2929"),S.css.toColor("#8ae234"),S.css.toColor("#fce94f"),S.css.toColor("#729fcf"),S.css.toColor("#ad7fa8"),S.css.toColor("#34e2e2"),S.css.toColor("#eeeeec")],b=[0,95,135,175,215,255];for(let M=0;M<216;M++){const $=b[M/36%6|0],Y=b[M/6%6|0],P=b[M%6];H.push({css:S.channels.toCss($,Y,P),rgba:S.channels.toRgba($,Y,P)})}for(let M=0;M<24;M++){const $=8+10*M;H.push({css:S.channels.toCss($,$,$),rgba:S.channels.toRgba($,$,$)})}return H})());let w=l.ThemeService=class extends T.Disposable{get colors(){return this._colors}constructor(H){super(),this._optionsService=H,this._contrastCache=new v.ColorContrastCache,this._halfContrastCache=new v.ColorContrastCache,this._onChangeColors=this.register(new x.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:a,background:o,cursor:f,cursorAccent:d,selectionForeground:void 0,selectionBackgroundTransparent:g,selectionBackgroundOpaque:S.color.blend(o,g),selectionInactiveBackgroundTransparent:g,selectionInactiveBackgroundOpaque:S.color.blend(o,g),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(H={}){const b=this._colors;if(b.foreground=B(H.foreground,a),b.background=B(H.background,o),b.cursor=B(H.cursor,f),b.cursorAccent=B(H.cursorAccent,d),b.selectionBackgroundTransparent=B(H.selectionBackground,g),b.selectionBackgroundOpaque=S.color.blend(b.background,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundTransparent=B(H.selectionInactiveBackground,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundOpaque=S.color.blend(b.background,b.selectionInactiveBackgroundTransparent),b.selectionForeground=H.selectionForeground?B(H.selectionForeground,S.NULL_COLOR):void 0,b.selectionForeground===S.NULL_COLOR&&(b.selectionForeground=void 0),S.color.isOpaque(b.selectionBackgroundTransparent)&&(b.selectionBackgroundTransparent=S.color.opacity(b.selectionBackgroundTransparent,.3)),S.color.isOpaque(b.selectionInactiveBackgroundTransparent)&&(b.selectionInactiveBackgroundTransparent=S.color.opacity(b.selectionInactiveBackgroundTransparent,.3)),b.ansi=l.DEFAULT_ANSI_COLORS.slice(),b.ansi[0]=B(H.black,l.DEFAULT_ANSI_COLORS[0]),b.ansi[1]=B(H.red,l.DEFAULT_ANSI_COLORS[1]),b.ansi[2]=B(H.green,l.DEFAULT_ANSI_COLORS[2]),b.ansi[3]=B(H.yellow,l.DEFAULT_ANSI_COLORS[3]),b.ansi[4]=B(H.blue,l.DEFAULT_ANSI_COLORS[4]),b.ansi[5]=B(H.magenta,l.DEFAULT_ANSI_COLORS[5]),b.ansi[6]=B(H.cyan,l.DEFAULT_ANSI_COLORS[6]),b.ansi[7]=B(H.white,l.DEFAULT_ANSI_COLORS[7]),b.ansi[8]=B(H.brightBlack,l.DEFAULT_ANSI_COLORS[8]),b.ansi[9]=B(H.brightRed,l.DEFAULT_ANSI_COLORS[9]),b.ansi[10]=B(H.brightGreen,l.DEFAULT_ANSI_COLORS[10]),b.ansi[11]=B(H.brightYellow,l.DEFAULT_ANSI_COLORS[11]),b.ansi[12]=B(H.brightBlue,l.DEFAULT_ANSI_COLORS[12]),b.ansi[13]=B(H.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),b.ansi[14]=B(H.brightCyan,l.DEFAULT_ANSI_COLORS[14]),b.ansi[15]=B(H.brightWhite,l.DEFAULT_ANSI_COLORS[15]),H.extendedAnsi){const M=Math.min(b.ansi.length-16,H.extendedAnsi.length);for(let $=0;$<M;$++)b.ansi[$+16]=B(H.extendedAnsi[$],l.DEFAULT_ANSI_COLORS[$+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(H){this._restoreColor(H),this._onChangeColors.fire(this.colors)}_restoreColor(H){if(H!==void 0)switch(H){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[H]=this._restoreColors.ansi[H]}else for(let b=0;b<this._restoreColors.ansi.length;++b)this._colors.ansi[b]=this._restoreColors.ansi[b]}modifyColors(H){H(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function B(H,b){if(H!==void 0)try{return S.css.toColor(H)}catch{}return b}l.ThemeService=w=h([m(0,C.IOptionsService)],w)},6349:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const h=u(8460),m=u(844);class v extends m.Disposable{constructor(x){super(),this._maxLength=x,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(x){if(this._maxLength===x)return;const T=new Array(x);for(let C=0;C<Math.min(x,this.length);C++)T[C]=this._array[this._getCyclicIndex(C)];this._array=T,this._maxLength=x,this._startIndex=0}get length(){return this._length}set length(x){if(x>this._length)for(let T=this._length;T<x;T++)this._array[T]=void 0;this._length=x}get(x){return this._array[this._getCyclicIndex(x)]}set(x,T){this._array[this._getCyclicIndex(x)]=T}push(x){this._array[this._getCyclicIndex(this._length)]=x,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(x,T,...C){if(T){for(let a=x;a<this._length-T;a++)this._array[this._getCyclicIndex(a)]=this._array[this._getCyclicIndex(a+T)];this._length-=T,this.onDeleteEmitter.fire({index:x,amount:T})}for(let a=this._length-1;a>=x;a--)this._array[this._getCyclicIndex(a+C.length)]=this._array[this._getCyclicIndex(a)];for(let a=0;a<C.length;a++)this._array[this._getCyclicIndex(x+a)]=C[a];if(C.length&&this.onInsertEmitter.fire({index:x,amount:C.length}),this._length+C.length>this._maxLength){const a=this._length+C.length-this._maxLength;this._startIndex+=a,this._length=this._maxLength,this.onTrimEmitter.fire(a)}else this._length+=C.length}trimStart(x){x>this._length&&(x=this._length),this._startIndex+=x,this._length-=x,this.onTrimEmitter.fire(x)}shiftElements(x,T,C){if(!(T<=0)){if(x<0||x>=this._length)throw new Error("start argument out of range");if(x+C<0)throw new Error("Cannot shift elements in list beyond index 0");if(C>0){for(let o=T-1;o>=0;o--)this.set(x+o+C,this.get(x+o));const a=x+T+C-this._length;if(a>0)for(this._length+=a;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let a=0;a<T;a++)this.set(x+a+C,this.get(x+a))}}_getCyclicIndex(x){return(this._startIndex+x)%this._maxLength}}l.CircularList=v},1439:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function u(h,m=5){if(typeof h!="object")return h;const v=Array.isArray(h)?[]:{};for(const S in h)v[S]=m<=1?h[S]:h[S]&&u(h[S],m-1);return v}},8055:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;const h=u(6114);let m=0,v=0,S=0,x=0;var T,C,a,o,f;function d(w){const B=w.toString(16);return B.length<2?"0"+B:B}function g(w,B){return w<B?(B+.05)/(w+.05):(w+.05)/(B+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(B,H,b,M){return M!==void 0?`#${d(B)}${d(H)}${d(b)}${d(M)}`:`#${d(B)}${d(H)}${d(b)}`},w.toRgba=function(B,H,b,M=255){return(B<<24|H<<16|b<<8|M)>>>0}}(T||(l.channels=T={})),function(w){function B(H,b){return x=Math.round(255*b),[m,v,S]=f.toChannels(H.rgba),{css:T.toCss(m,v,S,x),rgba:T.toRgba(m,v,S,x)}}w.blend=function(H,b){if(x=(255&b.rgba)/255,x===1)return{css:b.css,rgba:b.rgba};const M=b.rgba>>24&255,$=b.rgba>>16&255,Y=b.rgba>>8&255,P=H.rgba>>24&255,X=H.rgba>>16&255,I=H.rgba>>8&255;return m=P+Math.round((M-P)*x),v=X+Math.round(($-X)*x),S=I+Math.round((Y-I)*x),{css:T.toCss(m,v,S),rgba:T.toRgba(m,v,S)}},w.isOpaque=function(H){return(255&H.rgba)==255},w.ensureContrastRatio=function(H,b,M){const $=f.ensureContrastRatio(H.rgba,b.rgba,M);if($)return f.toColor($>>24&255,$>>16&255,$>>8&255)},w.opaque=function(H){const b=(255|H.rgba)>>>0;return[m,v,S]=f.toChannels(b),{css:T.toCss(m,v,S),rgba:b}},w.opacity=B,w.multiplyOpacity=function(H,b){return x=255&H.rgba,B(H,x*b/255)},w.toColorRGB=function(H){return[H.rgba>>24&255,H.rgba>>16&255,H.rgba>>8&255]}}(C||(l.color=C={})),function(w){let B,H;if(!h.isNode){const b=document.createElement("canvas");b.width=1,b.height=1;const M=b.getContext("2d",{willReadFrequently:!0});M&&(B=M,B.globalCompositeOperation="copy",H=B.createLinearGradient(0,0,1,1))}w.toColor=function(b){if(b.match(/#[\da-f]{3,8}/i))switch(b.length){case 4:return m=parseInt(b.slice(1,2).repeat(2),16),v=parseInt(b.slice(2,3).repeat(2),16),S=parseInt(b.slice(3,4).repeat(2),16),f.toColor(m,v,S);case 5:return m=parseInt(b.slice(1,2).repeat(2),16),v=parseInt(b.slice(2,3).repeat(2),16),S=parseInt(b.slice(3,4).repeat(2),16),x=parseInt(b.slice(4,5).repeat(2),16),f.toColor(m,v,S,x);case 7:return{css:b,rgba:(parseInt(b.slice(1),16)<<8|255)>>>0};case 9:return{css:b,rgba:parseInt(b.slice(1),16)>>>0}}const M=b.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(M)return m=parseInt(M[1]),v=parseInt(M[2]),S=parseInt(M[3]),x=Math.round(255*(M[5]===void 0?1:parseFloat(M[5]))),f.toColor(m,v,S,x);if(!B||!H)throw new Error("css.toColor: Unsupported css format");if(B.fillStyle=H,B.fillStyle=b,typeof B.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(B.fillRect(0,0,1,1),[m,v,S,x]=B.getImageData(0,0,1,1).data,x!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:T.toRgba(m,v,S,x),css:b}}}(a||(l.css=a={})),function(w){function B(H,b,M){const $=H/255,Y=b/255,P=M/255;return .2126*($<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4))+.7152*(Y<=.03928?Y/12.92:Math.pow((Y+.055)/1.055,2.4))+.0722*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))}w.relativeLuminance=function(H){return B(H>>16&255,H>>8&255,255&H)},w.relativeLuminance2=B}(o||(l.rgb=o={})),function(w){function B(b,M,$){const Y=b>>24&255,P=b>>16&255,X=b>>8&255;let I=M>>24&255,G=M>>16&255,z=M>>8&255,j=g(o.relativeLuminance2(I,G,z),o.relativeLuminance2(Y,P,X));for(;j<$&&(I>0||G>0||z>0);)I-=Math.max(0,Math.ceil(.1*I)),G-=Math.max(0,Math.ceil(.1*G)),z-=Math.max(0,Math.ceil(.1*z)),j=g(o.relativeLuminance2(I,G,z),o.relativeLuminance2(Y,P,X));return(I<<24|G<<16|z<<8|255)>>>0}function H(b,M,$){const Y=b>>24&255,P=b>>16&255,X=b>>8&255;let I=M>>24&255,G=M>>16&255,z=M>>8&255,j=g(o.relativeLuminance2(I,G,z),o.relativeLuminance2(Y,P,X));for(;j<$&&(I<255||G<255||z<255);)I=Math.min(255,I+Math.ceil(.1*(255-I))),G=Math.min(255,G+Math.ceil(.1*(255-G))),z=Math.min(255,z+Math.ceil(.1*(255-z))),j=g(o.relativeLuminance2(I,G,z),o.relativeLuminance2(Y,P,X));return(I<<24|G<<16|z<<8|255)>>>0}w.ensureContrastRatio=function(b,M,$){const Y=o.relativeLuminance(b>>8),P=o.relativeLuminance(M>>8);if(g(Y,P)<$){if(P<Y){const G=B(b,M,$),z=g(Y,o.relativeLuminance(G>>8));if(z<$){const j=H(b,M,$);return z>g(Y,o.relativeLuminance(j>>8))?G:j}return G}const X=H(b,M,$),I=g(Y,o.relativeLuminance(X>>8));if(I<$){const G=B(b,M,$);return I>g(Y,o.relativeLuminance(G>>8))?X:G}return X}},w.reduceLuminance=B,w.increaseLuminance=H,w.toChannels=function(b){return[b>>24&255,b>>16&255,b>>8&255,255&b]},w.toColor=function(b,M,$,Y){return{css:T.toCss(b,M,$,Y),rgba:T.toRgba(b,M,$,Y)}}}(f||(l.rgba=f={})),l.toPaddedHex=d,l.contrastRatio=g},8969:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const h=u(844),m=u(2585),v=u(4348),S=u(7866),x=u(744),T=u(7302),C=u(6975),a=u(8460),o=u(1753),f=u(1480),d=u(7994),g=u(9282),w=u(5435),B=u(5981),H=u(2660);let b=!1;class M extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new a.EventEmitter),this._onScroll.event(Y=>{var P;(P=this._onScrollApi)===null||P===void 0||P.fire(Y.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(Y){for(const P in Y)this.optionsService.options[P]=Y[P]}constructor(Y){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new a.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new a.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new a.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new a.EventEmitter),this._instantiationService=new v.InstantiationService,this.optionsService=this.register(new T.OptionsService(Y)),this._instantiationService.setService(m.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(x.BufferService)),this._instantiationService.setService(m.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(S.LogService)),this._instantiationService.setService(m.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(C.CoreService)),this._instantiationService.setService(m.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(o.CoreMouseService)),this._instantiationService.setService(m.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(f.UnicodeService)),this._instantiationService.setService(m.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(d.CharsetService),this._instantiationService.setService(m.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(H.OscLinkService),this._instantiationService.setService(m.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,a.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,a.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,a.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,a.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new B.WriteBuffer((P,X)=>this._inputHandler.parse(P,X))),this.register((0,a.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(Y,P){this._writeBuffer.write(Y,P)}writeSync(Y,P){this._logService.logLevel<=m.LogLevelEnum.WARN&&!b&&(this._logService.warn("writeSync is unreliable and will be removed soon."),b=!0),this._writeBuffer.writeSync(Y,P)}resize(Y,P){isNaN(Y)||isNaN(P)||(Y=Math.max(Y,x.MINIMUM_COLS),P=Math.max(P,x.MINIMUM_ROWS),this._bufferService.resize(Y,P))}scroll(Y,P=!1){this._bufferService.scroll(Y,P)}scrollLines(Y,P,X){this._bufferService.scrollLines(Y,P,X)}scrollPages(Y){this.scrollLines(Y*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(Y){const P=Y-this._bufferService.buffer.ydisp;P!==0&&this.scrollLines(P)}registerEscHandler(Y,P){return this._inputHandler.registerEscHandler(Y,P)}registerDcsHandler(Y,P){return this._inputHandler.registerDcsHandler(Y,P)}registerCsiHandler(Y,P){return this._inputHandler.registerCsiHandler(Y,P)}registerOscHandler(Y,P){return this._inputHandler.registerOscHandler(Y,P)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let Y=!1;const P=this.optionsService.rawOptions.windowsPty;P&&P.buildNumber!==void 0&&P.buildNumber!==void 0?Y=P.backend==="conpty"&&P.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(Y=!0),Y?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const Y=[];Y.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),Y.push(this.registerCsiHandler({final:"H"},()=>((0,g.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)(()=>{for(const P of Y)P.dispose()})}}}l.CoreTerminal=M},8460:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=u=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===u)return void this._listeners.splice(h,1)}}})),this._event}fire(u,h){const m=[];for(let v=0;v<this._listeners.length;v++)m.push(this._listeners[v]);for(let v=0;v<m.length;v++)m[v].call(void 0,u,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(u,h){return u(m=>h.fire(m))}},5435:function(L,l,u){var h=this&&this.__decorate||function(j,A,N,E){var R,F=arguments.length,W=F<3?A:E===null?E=Object.getOwnPropertyDescriptor(A,N):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(j,A,N,E);else for(var se=j.length-1;se>=0;se--)(R=j[se])&&(W=(F<3?R(W):F>3?R(A,N,W):R(A,N))||W);return F>3&&W&&Object.defineProperty(A,N,W),W},m=this&&this.__param||function(j,A){return function(N,E){A(N,E,j)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const v=u(2584),S=u(7116),x=u(2015),T=u(844),C=u(482),a=u(8437),o=u(8460),f=u(643),d=u(511),g=u(3734),w=u(2585),B=u(6242),H=u(6351),b=u(5941),M={"(":0,")":1,"*":2,"+":3,"-":1,".":2},$=131072;function Y(j,A){if(j>24)return A.setWinLines||!1;switch(j){case 1:return!!A.restoreWin;case 2:return!!A.minimizeWin;case 3:return!!A.setWinPosition;case 4:return!!A.setWinSizePixels;case 5:return!!A.raiseWin;case 6:return!!A.lowerWin;case 7:return!!A.refreshWin;case 8:return!!A.setWinSizeChars;case 9:return!!A.maximizeWin;case 10:return!!A.fullscreenWin;case 11:return!!A.getWinState;case 13:return!!A.getWinPosition;case 14:return!!A.getWinSizePixels;case 15:return!!A.getScreenSizePixels;case 16:return!!A.getCellSizePixels;case 18:return!!A.getWinSizeChars;case 19:return!!A.getScreenSizeChars;case 20:return!!A.getIconTitle;case 21:return!!A.getWinTitle;case 22:return!!A.pushTitle;case 23:return!!A.popTitle;case 24:return!!A.setWinLines}return!1}var P;(function(j){j[j.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",j[j.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(P||(l.WindowsOptionsReportType=P={}));let X=0;class I extends T.Disposable{getAttrData(){return this._curAttrData}constructor(A,N,E,R,F,W,se,ae,he=new x.EscapeSequenceParser){super(),this._bufferService=A,this._charsetService=N,this._coreService=E,this._logService=R,this._optionsService=F,this._oscLinkService=W,this._coreMouseService=se,this._unicodeService=ae,this._parser=he,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new C.StringToUtf32,this._utf8Decoder=new C.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new o.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new o.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new o.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new o.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new o.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new o.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new o.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new o.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new o.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new o.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new o.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new o.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new G(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(U=>this._activeBuffer=U.activeBuffer)),this._parser.setCsiHandlerFallback((U,Q)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(U),params:Q.toArray()})}),this._parser.setEscHandlerFallback(U=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(U)})}),this._parser.setExecuteHandlerFallback(U=>{this._logService.debug("Unknown EXECUTE code: ",{code:U})}),this._parser.setOscHandlerFallback((U,Q,ne)=>{this._logService.debug("Unknown OSC code: ",{identifier:U,action:Q,data:ne})}),this._parser.setDcsHandlerFallback((U,Q,ne)=>{Q==="HOOK"&&(ne=ne.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(U),action:Q,payload:ne})}),this._parser.setPrintHandler((U,Q,ne)=>this.print(U,Q,ne)),this._parser.registerCsiHandler({final:"@"},U=>this.insertChars(U)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},U=>this.scrollLeft(U)),this._parser.registerCsiHandler({final:"A"},U=>this.cursorUp(U)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},U=>this.scrollRight(U)),this._parser.registerCsiHandler({final:"B"},U=>this.cursorDown(U)),this._parser.registerCsiHandler({final:"C"},U=>this.cursorForward(U)),this._parser.registerCsiHandler({final:"D"},U=>this.cursorBackward(U)),this._parser.registerCsiHandler({final:"E"},U=>this.cursorNextLine(U)),this._parser.registerCsiHandler({final:"F"},U=>this.cursorPrecedingLine(U)),this._parser.registerCsiHandler({final:"G"},U=>this.cursorCharAbsolute(U)),this._parser.registerCsiHandler({final:"H"},U=>this.cursorPosition(U)),this._parser.registerCsiHandler({final:"I"},U=>this.cursorForwardTab(U)),this._parser.registerCsiHandler({final:"J"},U=>this.eraseInDisplay(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},U=>this.eraseInDisplay(U,!0)),this._parser.registerCsiHandler({final:"K"},U=>this.eraseInLine(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},U=>this.eraseInLine(U,!0)),this._parser.registerCsiHandler({final:"L"},U=>this.insertLines(U)),this._parser.registerCsiHandler({final:"M"},U=>this.deleteLines(U)),this._parser.registerCsiHandler({final:"P"},U=>this.deleteChars(U)),this._parser.registerCsiHandler({final:"S"},U=>this.scrollUp(U)),this._parser.registerCsiHandler({final:"T"},U=>this.scrollDown(U)),this._parser.registerCsiHandler({final:"X"},U=>this.eraseChars(U)),this._parser.registerCsiHandler({final:"Z"},U=>this.cursorBackwardTab(U)),this._parser.registerCsiHandler({final:"`"},U=>this.charPosAbsolute(U)),this._parser.registerCsiHandler({final:"a"},U=>this.hPositionRelative(U)),this._parser.registerCsiHandler({final:"b"},U=>this.repeatPrecedingCharacter(U)),this._parser.registerCsiHandler({final:"c"},U=>this.sendDeviceAttributesPrimary(U)),this._parser.registerCsiHandler({prefix:">",final:"c"},U=>this.sendDeviceAttributesSecondary(U)),this._parser.registerCsiHandler({final:"d"},U=>this.linePosAbsolute(U)),this._parser.registerCsiHandler({final:"e"},U=>this.vPositionRelative(U)),this._parser.registerCsiHandler({final:"f"},U=>this.hVPosition(U)),this._parser.registerCsiHandler({final:"g"},U=>this.tabClear(U)),this._parser.registerCsiHandler({final:"h"},U=>this.setMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"h"},U=>this.setModePrivate(U)),this._parser.registerCsiHandler({final:"l"},U=>this.resetMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"l"},U=>this.resetModePrivate(U)),this._parser.registerCsiHandler({final:"m"},U=>this.charAttributes(U)),this._parser.registerCsiHandler({final:"n"},U=>this.deviceStatus(U)),this._parser.registerCsiHandler({prefix:"?",final:"n"},U=>this.deviceStatusPrivate(U)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},U=>this.softReset(U)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},U=>this.setCursorStyle(U)),this._parser.registerCsiHandler({final:"r"},U=>this.setScrollRegion(U)),this._parser.registerCsiHandler({final:"s"},U=>this.saveCursor(U)),this._parser.registerCsiHandler({final:"t"},U=>this.windowOptions(U)),this._parser.registerCsiHandler({final:"u"},U=>this.restoreCursor(U)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},U=>this.insertColumns(U)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},U=>this.deleteColumns(U)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},U=>this.selectProtected(U)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},U=>this.requestMode(U,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},U=>this.requestMode(U,!1)),this._parser.setExecuteHandler(v.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(v.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(v.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(v.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(v.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(v.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(v.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(v.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(v.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(v.C1.IND,()=>this.index()),this._parser.setExecuteHandler(v.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(v.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new B.OscHandler(U=>(this.setTitle(U),this.setIconName(U),!0))),this._parser.registerOscHandler(1,new B.OscHandler(U=>this.setIconName(U))),this._parser.registerOscHandler(2,new B.OscHandler(U=>this.setTitle(U))),this._parser.registerOscHandler(4,new B.OscHandler(U=>this.setOrReportIndexedColor(U))),this._parser.registerOscHandler(8,new B.OscHandler(U=>this.setHyperlink(U))),this._parser.registerOscHandler(10,new B.OscHandler(U=>this.setOrReportFgColor(U))),this._parser.registerOscHandler(11,new B.OscHandler(U=>this.setOrReportBgColor(U))),this._parser.registerOscHandler(12,new B.OscHandler(U=>this.setOrReportCursorColor(U))),this._parser.registerOscHandler(104,new B.OscHandler(U=>this.restoreIndexedColor(U))),this._parser.registerOscHandler(110,new B.OscHandler(U=>this.restoreFgColor(U))),this._parser.registerOscHandler(111,new B.OscHandler(U=>this.restoreBgColor(U))),this._parser.registerOscHandler(112,new B.OscHandler(U=>this.restoreCursorColor(U))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const U in S.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:U},()=>this.selectCharset("("+U)),this._parser.registerEscHandler({intermediates:")",final:U},()=>this.selectCharset(")"+U)),this._parser.registerEscHandler({intermediates:"*",final:U},()=>this.selectCharset("*"+U)),this._parser.registerEscHandler({intermediates:"+",final:U},()=>this.selectCharset("+"+U)),this._parser.registerEscHandler({intermediates:"-",final:U},()=>this.selectCharset("-"+U)),this._parser.registerEscHandler({intermediates:".",final:U},()=>this.selectCharset("."+U)),this._parser.registerEscHandler({intermediates:"/",final:U},()=>this.selectCharset("/"+U));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(U=>(this._logService.error("Parsing error: ",U),U)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new H.DcsHandler((U,Q)=>this.requestStatusString(U,Q)))}_preserveStack(A,N,E,R){this._parseStack.paused=!0,this._parseStack.cursorStartX=A,this._parseStack.cursorStartY=N,this._parseStack.decodedLength=E,this._parseStack.position=R}_logSlowResolvingAsync(A){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([A,new Promise((N,E)=>setTimeout(()=>E("#SLOW_TIMEOUT"),5e3))]).catch(N=>{if(N!=="#SLOW_TIMEOUT")throw N;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(A,N){let E,R=this._activeBuffer.x,F=this._activeBuffer.y,W=0;const se=this._parseStack.paused;if(se){if(E=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,N))return this._logSlowResolvingAsync(E),E;R=this._parseStack.cursorStartX,F=this._parseStack.cursorStartY,this._parseStack.paused=!1,A.length>$&&(W=this._parseStack.position+$)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof A=="string"?` "${A}"`:` "${Array.prototype.map.call(A,ae=>String.fromCharCode(ae)).join("")}"`),typeof A=="string"?A.split("").map(ae=>ae.charCodeAt(0)):A),this._parseBuffer.length<A.length&&this._parseBuffer.length<$&&(this._parseBuffer=new Uint32Array(Math.min(A.length,$))),se||this._dirtyRowTracker.clearRange(),A.length>$)for(let ae=W;ae<A.length;ae+=$){const he=ae+$<A.length?ae+$:A.length,U=typeof A=="string"?this._stringDecoder.decode(A.substring(ae,he),this._parseBuffer):this._utf8Decoder.decode(A.subarray(ae,he),this._parseBuffer);if(E=this._parser.parse(this._parseBuffer,U))return this._preserveStack(R,F,U,ae),this._logSlowResolvingAsync(E),E}else if(!se){const ae=typeof A=="string"?this._stringDecoder.decode(A,this._parseBuffer):this._utf8Decoder.decode(A,this._parseBuffer);if(E=this._parser.parse(this._parseBuffer,ae))return this._preserveStack(R,F,ae,0),this._logSlowResolvingAsync(E),E}this._activeBuffer.x===R&&this._activeBuffer.y===F||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(A,N,E){let R,F;const W=this._charsetService.charset,se=this._optionsService.rawOptions.screenReaderMode,ae=this._bufferService.cols,he=this._coreService.decPrivateModes.wraparound,U=this._coreService.modes.insertMode,Q=this._curAttrData;let ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&E-N>0&&ne.getWidth(this._activeBuffer.x-1)===2&&ne.setCellFromCodePoint(this._activeBuffer.x-1,0,1,Q.fg,Q.bg,Q.extended);for(let oe=N;oe<E;++oe){if(R=A[oe],F=this._unicodeService.wcwidth(R),R<127&&W){const pe=W[String.fromCharCode(R)];pe&&(R=pe.charCodeAt(0))}if(se&&this._onA11yChar.fire((0,C.stringFromCodePoint)(R)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),F||!this._activeBuffer.x){if(this._activeBuffer.x+F-1>=ae){if(he){for(;this._activeBuffer.x<ae;)ne.setCellFromCodePoint(this._activeBuffer.x++,0,1,Q.fg,Q.bg,Q.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ae-1,F===2)continue}if(U&&(ne.insertCells(this._activeBuffer.x,F,this._activeBuffer.getNullCell(Q),Q),ne.getWidth(ae-1)===2&&ne.setCellFromCodePoint(ae-1,f.NULL_CELL_CODE,f.NULL_CELL_WIDTH,Q.fg,Q.bg,Q.extended)),ne.setCellFromCodePoint(this._activeBuffer.x++,R,F,Q.fg,Q.bg,Q.extended),F>0)for(;--F;)ne.setCellFromCodePoint(this._activeBuffer.x++,0,0,Q.fg,Q.bg,Q.extended)}else ne.getWidth(this._activeBuffer.x-1)?ne.addCodepointToCell(this._activeBuffer.x-1,R):ne.addCodepointToCell(this._activeBuffer.x-2,R)}E-N>0&&(ne.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ae&&E-N>0&&ne.getWidth(this._activeBuffer.x)===0&&!ne.hasContent(this._activeBuffer.x)&&ne.setCellFromCodePoint(this._activeBuffer.x,0,1,Q.fg,Q.bg,Q.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(A,N){return A.final!=="t"||A.prefix||A.intermediates?this._parser.registerCsiHandler(A,N):this._parser.registerCsiHandler(A,E=>!Y(E.params[0],this._optionsService.rawOptions.windowOptions)||N(E))}registerDcsHandler(A,N){return this._parser.registerDcsHandler(A,new H.DcsHandler(N))}registerEscHandler(A,N){return this._parser.registerEscHandler(A,N)}registerOscHandler(A,N){return this._parser.registerOscHandler(A,new B.OscHandler(N))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var A;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||A===void 0)&&A.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);N.hasWidth(this._activeBuffer.x)&&!N.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const A=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-A),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(A=this._bufferService.cols-1){this._activeBuffer.x=Math.min(A,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(A,N){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=A,this._activeBuffer.y=this._activeBuffer.scrollTop+N):(this._activeBuffer.x=A,this._activeBuffer.y=N),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(A,N){this._restrictCursor(),this._setCursor(this._activeBuffer.x+A,this._activeBuffer.y+N)}cursorUp(A){const N=this._activeBuffer.y-this._activeBuffer.scrollTop;return N>=0?this._moveCursor(0,-Math.min(N,A.params[0]||1)):this._moveCursor(0,-(A.params[0]||1)),!0}cursorDown(A){const N=this._activeBuffer.scrollBottom-this._activeBuffer.y;return N>=0?this._moveCursor(0,Math.min(N,A.params[0]||1)):this._moveCursor(0,A.params[0]||1),!0}cursorForward(A){return this._moveCursor(A.params[0]||1,0),!0}cursorBackward(A){return this._moveCursor(-(A.params[0]||1),0),!0}cursorNextLine(A){return this.cursorDown(A),this._activeBuffer.x=0,!0}cursorPrecedingLine(A){return this.cursorUp(A),this._activeBuffer.x=0,!0}cursorCharAbsolute(A){return this._setCursor((A.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(A){return this._setCursor(A.length>=2?(A.params[1]||1)-1:0,(A.params[0]||1)-1),!0}charPosAbsolute(A){return this._setCursor((A.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(A){return this._moveCursor(A.params[0]||1,0),!0}linePosAbsolute(A){return this._setCursor(this._activeBuffer.x,(A.params[0]||1)-1),!0}vPositionRelative(A){return this._moveCursor(0,A.params[0]||1),!0}hVPosition(A){return this.cursorPosition(A),!0}tabClear(A){const N=A.params[0];return N===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:N===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(A){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let N=A.params[0]||1;for(;N--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(A){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let N=A.params[0]||1;for(;N--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(A){const N=A.params[0];return N===1&&(this._curAttrData.bg|=536870912),N!==2&&N!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(A,N,E,R=!1,F=!1){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);W.replaceCells(N,E,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),F),R&&(W.isWrapped=!1)}_resetBufferLine(A,N=!1){const E=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);E&&(E.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),N),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+A),E.isWrapped=!1)}eraseInDisplay(A,N=!1){let E;switch(this._restrictCursor(this._bufferService.cols),A.params[0]){case 0:for(E=this._activeBuffer.y,this._dirtyRowTracker.markDirty(E),this._eraseInBufferLine(E++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,N);E<this._bufferService.rows;E++)this._resetBufferLine(E,N);this._dirtyRowTracker.markDirty(E);break;case 1:for(E=this._activeBuffer.y,this._dirtyRowTracker.markDirty(E),this._eraseInBufferLine(E,0,this._activeBuffer.x+1,!0,N),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(E+1).isWrapped=!1);E--;)this._resetBufferLine(E,N);this._dirtyRowTracker.markDirty(0);break;case 2:for(E=this._bufferService.rows,this._dirtyRowTracker.markDirty(E-1);E--;)this._resetBufferLine(E,N);this._dirtyRowTracker.markDirty(0);break;case 3:const R=this._activeBuffer.lines.length-this._bufferService.rows;R>0&&(this._activeBuffer.lines.trimStart(R),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-R,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-R,0),this._onScroll.fire(0))}return!0}eraseInLine(A,N=!1){switch(this._restrictCursor(this._bufferService.cols),A.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,N);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,N);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,N)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(A){this._restrictCursor();let N=A.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=this._activeBuffer.ybase+this._activeBuffer.y,R=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-R+1;for(;N--;)this._activeBuffer.lines.splice(F-1,1),this._activeBuffer.lines.splice(E,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(A){this._restrictCursor();let N=A.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=this._activeBuffer.ybase+this._activeBuffer.y;let R;for(R=this._bufferService.rows-1-this._activeBuffer.scrollBottom,R=this._bufferService.rows-1+this._activeBuffer.ybase-R;N--;)this._activeBuffer.lines.splice(E,1),this._activeBuffer.lines.splice(R,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(A){this._restrictCursor();const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.insertCells(this._activeBuffer.x,A.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(A){this._restrictCursor();const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.deleteCells(this._activeBuffer.x,A.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(A){let N=A.params[0]||1;for(;N--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(A){let N=A.params[0]||1;for(;N--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(a.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=A.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);R.deleteCells(0,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),R.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=A.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);R.insertCells(0,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),R.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=A.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);R.insertCells(this._activeBuffer.x,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),R.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=A.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);R.deleteCells(this._activeBuffer.x,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),R.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(A){this._restrictCursor();const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(A.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(A){if(!this._parser.precedingCodepoint)return!0;const N=A.params[0]||1,E=new Uint32Array(N);for(let R=0;R<N;++R)E[R]=this._parser.precedingCodepoint;return this.print(E,0,E.length),!0}sendDeviceAttributesPrimary(A){return A.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(v.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(v.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(A){return A.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(v.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(v.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(A.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(v.C0.ESC+"[>83;40003;0c")),!0}_is(A){return(this._optionsService.rawOptions.termName+"").indexOf(A)===0}setMode(A){for(let N=0;N<A.length;N++)switch(A.params[N]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(A){for(let N=0;N<A.length;N++)switch(A.params[N]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,S.DEFAULT_CHARSET),this._charsetService.setgCharset(1,S.DEFAULT_CHARSET),this._charsetService.setgCharset(2,S.DEFAULT_CHARSET),this._charsetService.setgCharset(3,S.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(A){for(let N=0;N<A.length;N++)switch(A.params[N]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(A){for(let N=0;N<A.length;N++)switch(A.params[N]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),A.params[N]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(A,N){const E=this._coreService.decPrivateModes,{activeProtocol:R,activeEncoding:F}=this._coreMouseService,W=this._coreService,{buffers:se,cols:ae}=this._bufferService,{active:he,alt:U}=se,Q=this._optionsService.rawOptions,ne=Ae=>Ae?1:2,oe=A.params[0];return pe=oe,fe=N?oe===2?4:oe===4?ne(W.modes.insertMode):oe===12?3:oe===20?ne(Q.convertEol):0:oe===1?ne(E.applicationCursorKeys):oe===3?Q.windowOptions.setWinLines?ae===80?2:ae===132?1:0:0:oe===6?ne(E.origin):oe===7?ne(E.wraparound):oe===8?3:oe===9?ne(R==="X10"):oe===12?ne(Q.cursorBlink):oe===25?ne(!W.isCursorHidden):oe===45?ne(E.reverseWraparound):oe===66?ne(E.applicationKeypad):oe===67?4:oe===1e3?ne(R==="VT200"):oe===1002?ne(R==="DRAG"):oe===1003?ne(R==="ANY"):oe===1004?ne(E.sendFocus):oe===1005?4:oe===1006?ne(F==="SGR"):oe===1015?4:oe===1016?ne(F==="SGR_PIXELS"):oe===1048?1:oe===47||oe===1047||oe===1049?ne(he===U):oe===2004?ne(E.bracketedPasteMode):0,W.triggerDataEvent(`${v.C0.ESC}[${N?"":"?"}${pe};${fe}$y`),!0;var pe,fe}_updateAttrColor(A,N,E,R,F){return N===2?(A|=50331648,A&=-16777216,A|=g.AttributeData.fromColorRGB([E,R,F])):N===5&&(A&=-50331904,A|=33554432|255&E),A}_extractColor(A,N,E){const R=[0,0,-1,0,0,0];let F=0,W=0;do{if(R[W+F]=A.params[N+W],A.hasSubParams(N+W)){const se=A.getSubParams(N+W);let ae=0;do R[1]===5&&(F=1),R[W+ae+1+F]=se[ae];while(++ae<se.length&&ae+W+1+F<R.length);break}if(R[1]===5&&W+F>=2||R[1]===2&&W+F>=5)break;R[1]&&(F=1)}while(++W+N<A.length&&W+F<R.length);for(let se=2;se<R.length;++se)R[se]===-1&&(R[se]=0);switch(R[0]){case 38:E.fg=this._updateAttrColor(E.fg,R[1],R[3],R[4],R[5]);break;case 48:E.bg=this._updateAttrColor(E.bg,R[1],R[3],R[4],R[5]);break;case 58:E.extended=E.extended.clone(),E.extended.underlineColor=this._updateAttrColor(E.extended.underlineColor,R[1],R[3],R[4],R[5])}return W}_processUnderline(A,N){N.extended=N.extended.clone(),(!~A||A>5)&&(A=1),N.extended.underlineStyle=A,N.fg|=268435456,A===0&&(N.fg&=-268435457),N.updateExtended()}_processSGR0(A){A.fg=a.DEFAULT_ATTR_DATA.fg,A.bg=a.DEFAULT_ATTR_DATA.bg,A.extended=A.extended.clone(),A.extended.underlineStyle=0,A.extended.underlineColor&=-67108864,A.updateExtended()}charAttributes(A){if(A.length===1&&A.params[0]===0)return this._processSGR0(this._curAttrData),!0;const N=A.length;let E;const R=this._curAttrData;for(let F=0;F<N;F++)E=A.params[F],E>=30&&E<=37?(R.fg&=-50331904,R.fg|=16777216|E-30):E>=40&&E<=47?(R.bg&=-50331904,R.bg|=16777216|E-40):E>=90&&E<=97?(R.fg&=-50331904,R.fg|=16777224|E-90):E>=100&&E<=107?(R.bg&=-50331904,R.bg|=16777224|E-100):E===0?this._processSGR0(R):E===1?R.fg|=134217728:E===3?R.bg|=67108864:E===4?(R.fg|=268435456,this._processUnderline(A.hasSubParams(F)?A.getSubParams(F)[0]:1,R)):E===5?R.fg|=536870912:E===7?R.fg|=67108864:E===8?R.fg|=1073741824:E===9?R.fg|=2147483648:E===2?R.bg|=134217728:E===21?this._processUnderline(2,R):E===22?(R.fg&=-134217729,R.bg&=-134217729):E===23?R.bg&=-67108865:E===24?(R.fg&=-268435457,this._processUnderline(0,R)):E===25?R.fg&=-536870913:E===27?R.fg&=-67108865:E===28?R.fg&=-1073741825:E===29?R.fg&=2147483647:E===39?(R.fg&=-67108864,R.fg|=16777215&a.DEFAULT_ATTR_DATA.fg):E===49?(R.bg&=-67108864,R.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):E===38||E===48||E===58?F+=this._extractColor(A,F,R):E===53?R.bg|=1073741824:E===55?R.bg&=-1073741825:E===59?(R.extended=R.extended.clone(),R.extended.underlineColor=-1,R.updateExtended()):E===100?(R.fg&=-67108864,R.fg|=16777215&a.DEFAULT_ATTR_DATA.fg,R.bg&=-67108864,R.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",E);return!0}deviceStatus(A){switch(A.params[0]){case 5:this._coreService.triggerDataEvent(`${v.C0.ESC}[0n`);break;case 6:const N=this._activeBuffer.y+1,E=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${v.C0.ESC}[${N};${E}R`)}return!0}deviceStatusPrivate(A){if(A.params[0]===6){const N=this._activeBuffer.y+1,E=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${v.C0.ESC}[?${N};${E}R`)}return!0}softReset(A){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(A){const N=A.params[0]||1;switch(N){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const E=N%2==1;return this._optionsService.options.cursorBlink=E,!0}setScrollRegion(A){const N=A.params[0]||1;let E;return(A.length<2||(E=A.params[1])>this._bufferService.rows||E===0)&&(E=this._bufferService.rows),E>N&&(this._activeBuffer.scrollTop=N-1,this._activeBuffer.scrollBottom=E-1,this._setCursor(0,0)),!0}windowOptions(A){if(!Y(A.params[0],this._optionsService.rawOptions.windowOptions))return!0;const N=A.length>1?A.params[1]:0;switch(A.params[0]){case 14:N!==2&&this._onRequestWindowsOptionsReport.fire(P.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(P.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${v.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:N!==0&&N!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),N!==0&&N!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:N!==0&&N!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),N!==0&&N!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(A){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(A){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(A){return this._windowTitle=A,this._onTitleChange.fire(A),!0}setIconName(A){return this._iconName=A,!0}setOrReportIndexedColor(A){const N=[],E=A.split(";");for(;E.length>1;){const R=E.shift(),F=E.shift();if(/^\d+$/.exec(R)){const W=parseInt(R);if(z(W))if(F==="?")N.push({type:0,index:W});else{const se=(0,b.parseColor)(F);se&&N.push({type:1,index:W,color:se})}}}return N.length&&this._onColor.fire(N),!0}setHyperlink(A){const N=A.split(";");return!(N.length<2)&&(N[1]?this._createHyperlink(N[0],N[1]):!N[0]&&this._finishHyperlink())}_createHyperlink(A,N){this._getCurrentLinkId()&&this._finishHyperlink();const E=A.split(":");let R;const F=E.findIndex(W=>W.startsWith("id="));return F!==-1&&(R=E[F].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:R,uri:N}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(A,N){const E=A.split(";");for(let R=0;R<E.length&&!(N>=this._specialColors.length);++R,++N)if(E[R]==="?")this._onColor.fire([{type:0,index:this._specialColors[N]}]);else{const F=(0,b.parseColor)(E[R]);F&&this._onColor.fire([{type:1,index:this._specialColors[N],color:F}])}return!0}setOrReportFgColor(A){return this._setOrReportSpecialColor(A,0)}setOrReportBgColor(A){return this._setOrReportSpecialColor(A,1)}setOrReportCursorColor(A){return this._setOrReportSpecialColor(A,2)}restoreIndexedColor(A){if(!A)return this._onColor.fire([{type:2}]),!0;const N=[],E=A.split(";");for(let R=0;R<E.length;++R)if(/^\d+$/.exec(E[R])){const F=parseInt(E[R]);z(F)&&N.push({type:2,index:F})}return N.length&&this._onColor.fire(N),!0}restoreFgColor(A){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(A){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(A){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,S.DEFAULT_CHARSET),!0}selectCharset(A){return A.length!==2?(this.selectDefaultCharset(),!0):(A[0]==="/"||this._charsetService.setgCharset(M[A[0]],S.CHARSETS[A[1]]||S.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const A=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,A,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(A){return this._charsetService.setgLevel(A),!0}screenAlignmentPattern(){const A=new d.CellData;A.content=4194373,A.fg=this._curAttrData.fg,A.bg=this._curAttrData.bg,this._setCursor(0,0);for(let N=0;N<this._bufferService.rows;++N){const E=this._activeBuffer.ybase+this._activeBuffer.y+N,R=this._activeBuffer.lines.get(E);R&&(R.fill(A),R.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(A,N){const E=this._bufferService.buffer,R=this._optionsService.rawOptions;return(F=>(this._coreService.triggerDataEvent(`${v.C0.ESC}${F}${v.C0.ESC}\\`),!0))(A==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:A==='"p'?'P1$r61;1"p':A==="r"?`P1$r${E.scrollTop+1};${E.scrollBottom+1}r`:A==="m"?"P1$r0m":A===" q"?`P1$r${{block:2,underline:4,bar:6}[R.cursorStyle]-(R.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(A,N){this._dirtyRowTracker.markRangeDirty(A,N)}}l.InputHandler=I;let G=class{constructor(j){this._bufferService=j,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(j){j<this.start?this.start=j:j>this.end&&(this.end=j)}markRangeDirty(j,A){j>A&&(X=j,j=A,A=X),j<this.start&&(this.start=j),A>this.end&&(this.end=A)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function z(j){return 0<=j&&j<256}G=h([m(0,w.IBufferService)],G)},844:(L,l)=>{function u(h){for(const m of h)m.dispose();h.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const m=this._disposables.indexOf(h);m!==-1&&this._disposables.splice(m,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var m;this._isDisposed||h===this._value||((m=this._value)===null||m===void 0||m.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}},l.toDisposable=function(h){return{dispose:h}},l.disposeArray=u,l.getDisposeArrayDisposable=function(h){return{dispose:()=>u(h)}}},1505:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(m,v,S){this._data[m]||(this._data[m]={}),this._data[m][v]=S}get(m,v){return this._data[m]?this._data[m][v]:void 0}clear(){this._data={}}}l.TwoKeyMap=u,l.FourKeyMap=class{constructor(){this._data=new u}set(h,m,v,S,x){this._data.get(h,m)||this._data.set(h,m,new u),this._data.get(h,m).set(v,S,x)}get(h,m,v,S){var x;return(x=this._data.get(h,m))===null||x===void 0?void 0:x.get(v,S)}clear(){this._data.clear()}}},6114:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof navigator>"u";const u=l.isNode?"node":navigator.userAgent,h=l.isNode?"node":navigator.platform;l.isFirefox=u.includes("Firefox"),l.isLegacyEdge=u.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(u),l.getSafariVersion=function(){if(!l.isSafari)return 0;const m=u.match(/Version\/(\d+)/);return m===null||m.length<2?0:parseInt(m[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),l.isIpad=h==="iPad",l.isIphone=h==="iPhone",l.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),l.isLinux=h.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(u)},6106:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let u=0;l.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(u=this._search(this._getKey(h)),this._array.splice(u,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const m=this._getKey(h);if(m===void 0||(u=this._search(m),u===-1)||this._getKey(this._array[u])!==m)return!1;do if(this._array[u]===h)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===m);return!1}*getKeyIterator(h){if(this._array.length!==0&&(u=this._search(h),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===h))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===h)}forEachByKey(h,m){if(this._array.length!==0&&(u=this._search(h),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===h))do m(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===h)}values(){return[...this._array].values()}_search(h){let m=0,v=this._array.length-1;for(;v>=m;){let S=m+v>>1;const x=this._getKey(this._array[S]);if(x>h)v=S-1;else{if(!(x<h)){for(;S>0&&this._getKey(this._array[S-1])===h;)S--;return S}m=S+1}}return m}}},7226:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const h=u(6114);class m{constructor(){this._tasks=[],this._i=0}enqueue(x){this._tasks.push(x),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(x){this._idleCallback=void 0;let T=0,C=0,a=x.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(T=Date.now(),this._tasks[this._i]()||this._i++,T=Math.max(1,Date.now()-T),C=Math.max(T,C),o=x.timeRemaining(),1.5*C>o)return a-T<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(a-T))}ms`),void this._start();a=o}this.clear()}}class v extends m{_requestCallback(x){return setTimeout(()=>x(this._createDeadline(16)))}_cancelCallback(x){clearTimeout(x)}_createDeadline(x){const T=Date.now()+x;return{timeRemaining:()=>Math.max(0,T-Date.now())}}}l.PriorityTaskQueue=v,l.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends m{_requestCallback(S){return requestIdleCallback(S)}_cancelCallback(S){cancelIdleCallback(S)}}:v,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(S){this._queue.clear(),this._queue.enqueue(S)}flush(){this._queue.flush()}}},9282:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const h=u(643);l.updateWindowsModeWrappedState=function(m){const v=m.buffer.lines.get(m.buffer.ybase+m.buffer.y-1),S=v==null?void 0:v.get(m.cols-1),x=m.buffer.lines.get(m.buffer.ybase+m.buffer.y);x&&S&&(x.isWrapped=S[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&S[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(v){return[v>>>16&255,v>>>8&255,255&v]}static fromColorRGB(v){return(255&v[0])<<16|(255&v[1])<<8|255&v[2]}clone(){const v=new u;return v.fg=this.fg,v.bg=this.bg,v.extended=this.extended.clone(),v}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}l.AttributeData=u;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(v){this._ext=v}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(v){this._ext&=-469762049,this._ext|=v<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(v){this._ext&=-67108864,this._ext|=67108863&v}get urlId(){return this._urlId}set urlId(v){this._urlId=v}constructor(v=0,S=0){this._ext=0,this._urlId=0,this._ext=v,this._urlId=S}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}l.ExtendedAttrs=h},9092:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const h=u(6349),m=u(7226),v=u(3734),S=u(8437),x=u(4634),T=u(511),C=u(643),a=u(4863),o=u(7116);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(f,d,g){this._hasScrollback=f,this._optionsService=d,this._bufferService=g,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=S.DEFAULT_ATTR_DATA.clone(),this.savedCharset=o.DEFAULT_CHARSET,this.markers=[],this._nullCell=T.CellData.fromCharData([0,C.NULL_CELL_CHAR,C.NULL_CELL_WIDTH,C.NULL_CELL_CODE]),this._whitespaceCell=T.CellData.fromCharData([0,C.WHITESPACE_CELL_CHAR,C.WHITESPACE_CELL_WIDTH,C.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new m.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(f){return f?(this._nullCell.fg=f.fg,this._nullCell.bg=f.bg,this._nullCell.extended=f.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new v.ExtendedAttrs),this._nullCell}getWhitespaceCell(f){return f?(this._whitespaceCell.fg=f.fg,this._whitespaceCell.bg=f.bg,this._whitespaceCell.extended=f.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new v.ExtendedAttrs),this._whitespaceCell}getBlankLine(f,d){return new S.BufferLine(this._bufferService.cols,this.getNullCell(f),d)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const f=this.ybase+this.y-this.ydisp;return f>=0&&f<this._rows}_getCorrectBufferLength(f){if(!this._hasScrollback)return f;const d=f+this._optionsService.rawOptions.scrollback;return d>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:d}fillViewportRows(f){if(this.lines.length===0){f===void 0&&(f=S.DEFAULT_ATTR_DATA);let d=this._rows;for(;d--;)this.lines.push(this.getBlankLine(f))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(f,d){const g=this.getNullCell(S.DEFAULT_ATTR_DATA);let w=0;const B=this._getCorrectBufferLength(d);if(B>this.lines.maxLength&&(this.lines.maxLength=B),this.lines.length>0){if(this._cols<f)for(let b=0;b<this.lines.length;b++)w+=+this.lines.get(b).resize(f,g);let H=0;if(this._rows<d)for(let b=this._rows;b<d;b++)this.lines.length<d+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new S.BufferLine(f,g)):this.ybase>0&&this.lines.length<=this.ybase+this.y+H+1?(this.ybase--,H++,this.ydisp>0&&this.ydisp--):this.lines.push(new S.BufferLine(f,g)));else for(let b=this._rows;b>d;b--)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(B<this.lines.maxLength){const b=this.lines.length-B;b>0&&(this.lines.trimStart(b),this.ybase=Math.max(this.ybase-b,0),this.ydisp=Math.max(this.ydisp-b,0),this.savedY=Math.max(this.savedY-b,0)),this.lines.maxLength=B}this.x=Math.min(this.x,f-1),this.y=Math.min(this.y,d-1),H&&(this.y+=H),this.savedX=Math.min(this.savedX,f-1),this.scrollTop=0}if(this.scrollBottom=d-1,this._isReflowEnabled&&(this._reflow(f,d),this._cols>f))for(let H=0;H<this.lines.length;H++)w+=+this.lines.get(H).resize(f,g);this._cols=f,this._rows=d,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let f=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,f=!1);let d=0;for(;this._memoryCleanupPosition<this.lines.length;)if(d+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),d>100)return!0;return f}get _isReflowEnabled(){const f=this._optionsService.rawOptions.windowsPty;return f&&f.buildNumber?this._hasScrollback&&f.backend==="conpty"&&f.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(f,d){this._cols!==f&&(f>this._cols?this._reflowLarger(f,d):this._reflowSmaller(f,d))}_reflowLarger(f,d){const g=(0,x.reflowLargerGetLinesToRemove)(this.lines,this._cols,f,this.ybase+this.y,this.getNullCell(S.DEFAULT_ATTR_DATA));if(g.length>0){const w=(0,x.reflowLargerCreateNewLayout)(this.lines,g);(0,x.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(f,d,w.countRemoved)}}_reflowLargerAdjustViewport(f,d,g){const w=this.getNullCell(S.DEFAULT_ATTR_DATA);let B=g;for(;B-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<d&&this.lines.push(new S.BufferLine(f,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-g,0)}_reflowSmaller(f,d){const g=this.getNullCell(S.DEFAULT_ATTR_DATA),w=[];let B=0;for(let H=this.lines.length-1;H>=0;H--){let b=this.lines.get(H);if(!b||!b.isWrapped&&b.getTrimmedLength()<=f)continue;const M=[b];for(;b.isWrapped&&H>0;)b=this.lines.get(--H),M.unshift(b);const $=this.ybase+this.y;if($>=H&&$<H+M.length)continue;const Y=M[M.length-1].getTrimmedLength(),P=(0,x.reflowSmallerGetNewLineLengths)(M,this._cols,f),X=P.length-M.length;let I;I=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+X):Math.max(0,this.lines.length-this.lines.maxLength+X);const G=[];for(let R=0;R<X;R++){const F=this.getBlankLine(S.DEFAULT_ATTR_DATA,!0);G.push(F)}G.length>0&&(w.push({start:H+M.length+B,newLines:G}),B+=G.length),M.push(...G);let z=P.length-1,j=P[z];j===0&&(z--,j=P[z]);let A=M.length-X-1,N=Y;for(;A>=0;){const R=Math.min(N,j);if(M[z]===void 0)break;if(M[z].copyCellsFrom(M[A],N-R,j-R,R,!0),j-=R,j===0&&(z--,j=P[z]),N-=R,N===0){A--;const F=Math.max(A,0);N=(0,x.getWrappedLineTrimmedLength)(M,F,this._cols)}}for(let R=0;R<M.length;R++)P[R]<f&&M[R].setCell(P[R],g);let E=X-I;for(;E-- >0;)this.ybase===0?this.y<d-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+B)-d&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+X,this.ybase+d-1)}if(w.length>0){const H=[],b=[];for(let z=0;z<this.lines.length;z++)b.push(this.lines.get(z));const M=this.lines.length;let $=M-1,Y=0,P=w[Y];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+B);let X=0;for(let z=Math.min(this.lines.maxLength-1,M+B-1);z>=0;z--)if(P&&P.start>$+X){for(let j=P.newLines.length-1;j>=0;j--)this.lines.set(z--,P.newLines[j]);z++,H.push({index:$+1,amount:P.newLines.length}),X+=P.newLines.length,P=w[++Y]}else this.lines.set(z,b[$--]);let I=0;for(let z=H.length-1;z>=0;z--)H[z].index+=I,this.lines.onInsertEmitter.fire(H[z]),I+=H[z].amount;const G=Math.max(0,M+B-this.lines.maxLength);G>0&&this.lines.onTrimEmitter.fire(G)}}translateBufferLineToString(f,d,g=0,w){const B=this.lines.get(f);return B?B.translateToString(d,g,w):""}getWrappedRangeForLine(f){let d=f,g=f;for(;d>0&&this.lines.get(d).isWrapped;)d--;for(;g+1<this.lines.length&&this.lines.get(g+1).isWrapped;)g++;return{first:d,last:g}}setupTabStops(f){for(f!=null?this.tabs[f]||(f=this.prevStop(f)):(this.tabs={},f=0);f<this._cols;f+=this._optionsService.rawOptions.tabStopWidth)this.tabs[f]=!0}prevStop(f){for(f==null&&(f=this.x);!this.tabs[--f]&&f>0;);return f>=this._cols?this._cols-1:f<0?0:f}nextStop(f){for(f==null&&(f=this.x);!this.tabs[++f]&&f<this._cols;);return f>=this._cols?this._cols-1:f<0?0:f}clearMarkers(f){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].line===f&&(this.markers[d].dispose(),this.markers.splice(d--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].dispose(),this.markers.splice(f--,1);this._isClearing=!1}addMarker(f){const d=new a.Marker(f);return this.markers.push(d),d.register(this.lines.onTrim(g=>{d.line-=g,d.line<0&&d.dispose()})),d.register(this.lines.onInsert(g=>{d.line>=g.index&&(d.line+=g.amount)})),d.register(this.lines.onDelete(g=>{d.line>=g.index&&d.line<g.index+g.amount&&d.dispose(),d.line>g.index&&(d.line-=g.amount)})),d.register(d.onDispose(()=>this._removeMarker(d))),d}_removeMarker(f){this._isClearing||this.markers.splice(this.markers.indexOf(f),1)}}},8437:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const h=u(3734),m=u(511),v=u(643),S=u(482);l.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let x=0;class T{constructor(a,o,f=!1){this.isWrapped=f,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*a);const d=o||m.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]);for(let g=0;g<a;++g)this.setCell(g,d);this.length=a}get(a){const o=this._data[3*a+0],f=2097151&o;return[this._data[3*a+1],2097152&o?this._combined[a]:f?(0,S.stringFromCodePoint)(f):"",o>>22,2097152&o?this._combined[a].charCodeAt(this._combined[a].length-1):f]}set(a,o){this._data[3*a+1]=o[v.CHAR_DATA_ATTR_INDEX],o[v.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[a]=o[1],this._data[3*a+0]=2097152|a|o[v.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*a+0]=o[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|o[v.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(a){return this._data[3*a+0]>>22}hasWidth(a){return 12582912&this._data[3*a+0]}getFg(a){return this._data[3*a+1]}getBg(a){return this._data[3*a+2]}hasContent(a){return 4194303&this._data[3*a+0]}getCodePoint(a){const o=this._data[3*a+0];return 2097152&o?this._combined[a].charCodeAt(this._combined[a].length-1):2097151&o}isCombined(a){return 2097152&this._data[3*a+0]}getString(a){const o=this._data[3*a+0];return 2097152&o?this._combined[a]:2097151&o?(0,S.stringFromCodePoint)(2097151&o):""}isProtected(a){return 536870912&this._data[3*a+2]}loadCell(a,o){return x=3*a,o.content=this._data[x+0],o.fg=this._data[x+1],o.bg=this._data[x+2],2097152&o.content&&(o.combinedData=this._combined[a]),268435456&o.bg&&(o.extended=this._extendedAttrs[a]),o}setCell(a,o){2097152&o.content&&(this._combined[a]=o.combinedData),268435456&o.bg&&(this._extendedAttrs[a]=o.extended),this._data[3*a+0]=o.content,this._data[3*a+1]=o.fg,this._data[3*a+2]=o.bg}setCellFromCodePoint(a,o,f,d,g,w){268435456&g&&(this._extendedAttrs[a]=w),this._data[3*a+0]=o|f<<22,this._data[3*a+1]=d,this._data[3*a+2]=g}addCodepointToCell(a,o){let f=this._data[3*a+0];2097152&f?this._combined[a]+=(0,S.stringFromCodePoint)(o):(2097151&f?(this._combined[a]=(0,S.stringFromCodePoint)(2097151&f)+(0,S.stringFromCodePoint)(o),f&=-2097152,f|=2097152):f=o|4194304,this._data[3*a+0]=f)}insertCells(a,o,f,d){if((a%=this.length)&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs),o<this.length-a){const g=new m.CellData;for(let w=this.length-a-o-1;w>=0;--w)this.setCell(a+o+w,this.loadCell(a+w,g));for(let w=0;w<o;++w)this.setCell(a+w,f)}else for(let g=a;g<this.length;++g)this.setCell(g,f);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs)}deleteCells(a,o,f,d){if(a%=this.length,o<this.length-a){const g=new m.CellData;for(let w=0;w<this.length-a-o;++w)this.setCell(a+w,this.loadCell(a+o+w,g));for(let w=this.length-o;w<this.length;++w)this.setCell(w,f)}else for(let g=a;g<this.length;++g)this.setCell(g,f);a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs),this.getWidth(a)!==0||this.hasContent(a)||this.setCellFromCodePoint(a,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs)}replaceCells(a,o,f,d,g=!1){if(g)for(a&&this.getWidth(a-1)===2&&!this.isProtected(a-1)&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&!this.isProtected(o)&&this.setCellFromCodePoint(o,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs);a<o&&a<this.length;)this.isProtected(a)||this.setCell(a,f),a++;else for(a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new h.ExtendedAttrs);a<o&&a<this.length;)this.setCell(a++,f)}resize(a,o){if(a===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const f=3*a;if(a>this.length){if(this._data.buffer.byteLength>=4*f)this._data=new Uint32Array(this._data.buffer,0,f);else{const d=new Uint32Array(f);d.set(this._data),this._data=d}for(let d=this.length;d<a;++d)this.setCell(d,o)}else{this._data=this._data.subarray(0,f);const d=Object.keys(this._combined);for(let w=0;w<d.length;w++){const B=parseInt(d[w],10);B>=a&&delete this._combined[B]}const g=Object.keys(this._extendedAttrs);for(let w=0;w<g.length;w++){const B=parseInt(g[w],10);B>=a&&delete this._extendedAttrs[B]}}return this.length=a,4*f*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const a=new Uint32Array(this._data.length);return a.set(this._data),this._data=a,1}return 0}fill(a,o=!1){if(o)for(let f=0;f<this.length;++f)this.isProtected(f)||this.setCell(f,a);else{this._combined={},this._extendedAttrs={};for(let f=0;f<this.length;++f)this.setCell(f,a)}}copyFrom(a){this.length!==a.length?this._data=new Uint32Array(a._data):this._data.set(a._data),this.length=a.length,this._combined={};for(const o in a._combined)this._combined[o]=a._combined[o];this._extendedAttrs={};for(const o in a._extendedAttrs)this._extendedAttrs[o]=a._extendedAttrs[o];this.isWrapped=a.isWrapped}clone(){const a=new T(0);a._data=new Uint32Array(this._data),a.length=this.length;for(const o in this._combined)a._combined[o]=this._combined[o];for(const o in this._extendedAttrs)a._extendedAttrs[o]=this._extendedAttrs[o];return a.isWrapped=this.isWrapped,a}getTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0])return a+(this._data[3*a+0]>>22);return 0}getNoBgTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0]||50331648&this._data[3*a+2])return a+(this._data[3*a+0]>>22);return 0}copyCellsFrom(a,o,f,d,g){const w=a._data;if(g)for(let H=d-1;H>=0;H--){for(let b=0;b<3;b++)this._data[3*(f+H)+b]=w[3*(o+H)+b];268435456&w[3*(o+H)+2]&&(this._extendedAttrs[f+H]=a._extendedAttrs[o+H])}else for(let H=0;H<d;H++){for(let b=0;b<3;b++)this._data[3*(f+H)+b]=w[3*(o+H)+b];268435456&w[3*(o+H)+2]&&(this._extendedAttrs[f+H]=a._extendedAttrs[o+H])}const B=Object.keys(a._combined);for(let H=0;H<B.length;H++){const b=parseInt(B[H],10);b>=o&&(this._combined[b-o+f]=a._combined[b])}}translateToString(a=!1,o=0,f=this.length){a&&(f=Math.min(f,this.getTrimmedLength()));let d="";for(;o<f;){const g=this._data[3*o+0],w=2097151&g;d+=2097152&g?this._combined[o]:w?(0,S.stringFromCodePoint)(w):v.WHITESPACE_CELL_CHAR,o+=g>>22||1}return d}}l.BufferLine=T},4841:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(u,h){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return h*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(L,l)=>{function u(h,m,v){if(m===h.length-1)return h[m].getTrimmedLength();const S=!h[m].hasContent(v-1)&&h[m].getWidth(v-1)===1,x=h[m+1].getWidth(0)===2;return S&&x?v-1:v}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(h,m,v,S,x){const T=[];for(let C=0;C<h.length-1;C++){let a=C,o=h.get(++a);if(!o.isWrapped)continue;const f=[h.get(C)];for(;a<h.length&&o.isWrapped;)f.push(o),o=h.get(++a);if(S>=C&&S<a){C+=f.length-1;continue}let d=0,g=u(f,d,m),w=1,B=0;for(;w<f.length;){const b=u(f,w,m),M=b-B,$=v-g,Y=Math.min(M,$);f[d].copyCellsFrom(f[w],B,g,Y,!1),g+=Y,g===v&&(d++,g=0),B+=Y,B===b&&(w++,B=0),g===0&&d!==0&&f[d-1].getWidth(v-1)===2&&(f[d].copyCellsFrom(f[d-1],v-1,g++,1,!1),f[d-1].setCell(v-1,x))}f[d].replaceCells(g,v,x);let H=0;for(let b=f.length-1;b>0&&(b>d||f[b].getTrimmedLength()===0);b--)H++;H>0&&(T.push(C+f.length-H),T.push(H)),C+=f.length-1}return T},l.reflowLargerCreateNewLayout=function(h,m){const v=[];let S=0,x=m[S],T=0;for(let C=0;C<h.length;C++)if(x===C){const a=m[++S];h.onDeleteEmitter.fire({index:C-T,amount:a}),C+=a-1,T+=a,x=m[++S]}else v.push(C);return{layout:v,countRemoved:T}},l.reflowLargerApplyNewLayout=function(h,m){const v=[];for(let S=0;S<m.length;S++)v.push(h.get(m[S]));for(let S=0;S<v.length;S++)h.set(S,v[S]);h.length=m.length},l.reflowSmallerGetNewLineLengths=function(h,m,v){const S=[],x=h.map((o,f)=>u(h,f,m)).reduce((o,f)=>o+f);let T=0,C=0,a=0;for(;a<x;){if(x-a<v){S.push(x-a);break}T+=v;const o=u(h,C,m);T>o&&(T-=o,C++);const f=h[C].getWidth(T-1)===2;f&&T--;const d=f?v-1:v;S.push(d),a+=d}return S},l.getWrappedLineTrimmedLength=u},5295:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const h=u(8460),m=u(844),v=u(9092);class S extends m.Disposable{constructor(T,C){super(),this._optionsService=T,this._bufferService=C,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new v.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new v.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(T){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(T),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(T,C){this._normal.resize(T,C),this._alt.resize(T,C),this.setupTabStops(T)}setupTabStops(T){this._normal.setupTabStops(T),this._alt.setupTabStops(T)}}l.BufferSet=S},511:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const h=u(482),m=u(643),v=u(3734);class S extends v.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new v.ExtendedAttrs,this.combinedData=""}static fromCharData(T){const C=new S;return C.setFromCharData(T),C}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(T){this.fg=T[m.CHAR_DATA_ATTR_INDEX],this.bg=0;let C=!1;if(T[m.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(T[m.CHAR_DATA_CHAR_INDEX].length===2){const a=T[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=a&&a<=56319){const o=T[m.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=o&&o<=57343?this.content=1024*(a-55296)+o-56320+65536|T[m.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=T[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|T[m.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=T[m.CHAR_DATA_CHAR_INDEX],this.content=2097152|T[m.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=S},643:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const h=u(8460),m=u(844);class v{get id(){return this._id}constructor(x){this.line=x,this.isDisposed=!1,this._disposables=[],this._id=v._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,m.disposeArray)(this._disposables),this._disposables.length=0)}register(x){return this._disposables.push(x),x}}l.Marker=v,v._nextId=1},7116:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},l.CHARSETS.A={"#":""},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},l.CHARSETS.C=l.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.E=l.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},l.CHARSETS.H=l.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(L,l)=>{var u,h,m;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,function(v){v.NUL="\0",v.SOH="",v.STX="",v.ETX="",v.EOT="",v.ENQ="",v.ACK="",v.BEL="\x07",v.BS="\b",v.HT="	",v.LF=`
`,v.VT="\v",v.FF="\f",v.CR="\r",v.SO="",v.SI="",v.DLE="",v.DC1="",v.DC2="",v.DC3="",v.DC4="",v.NAK="",v.SYN="",v.ETB="",v.CAN="",v.EM="",v.SUB="",v.ESC="\x1B",v.FS="",v.GS="",v.RS="",v.US="",v.SP=" ",v.DEL=""}(u||(l.C0=u={})),function(v){v.PAD="",v.HOP="",v.BPH="",v.NBH="",v.IND="",v.NEL="",v.SSA="",v.ESA="",v.HTS="",v.HTJ="",v.VTS="",v.PLD="",v.PLU="",v.RI="",v.SS2="",v.SS3="",v.DCS="",v.PU1="",v.PU2="",v.STS="",v.CCH="",v.MW="",v.SPA="",v.EPA="",v.SOS="",v.SGCI="",v.SCI="",v.CSI="",v.ST="",v.OSC="",v.PM="",v.APC=""}(h||(l.C1=h={})),function(v){v.ST=`${u.ESC}\\`}(m||(l.C1_ESCAPED=m={}))},7399:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const h=u(2584),m={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(v,S,x,T){const C={type:0,cancel:!1,key:void 0},a=(v.shiftKey?1:0)|(v.altKey?2:0)|(v.ctrlKey?4:0)|(v.metaKey?8:0);switch(v.keyCode){case 0:v.key==="UIKeyInputUpArrow"?C.key=S?h.C0.ESC+"OA":h.C0.ESC+"[A":v.key==="UIKeyInputLeftArrow"?C.key=S?h.C0.ESC+"OD":h.C0.ESC+"[D":v.key==="UIKeyInputRightArrow"?C.key=S?h.C0.ESC+"OC":h.C0.ESC+"[C":v.key==="UIKeyInputDownArrow"&&(C.key=S?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:if(v.altKey){C.key=h.C0.ESC+h.C0.DEL;break}C.key=h.C0.DEL;break;case 9:if(v.shiftKey){C.key=h.C0.ESC+"[Z";break}C.key=h.C0.HT,C.cancel=!0;break;case 13:C.key=v.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,C.cancel=!0;break;case 27:C.key=h.C0.ESC,v.altKey&&(C.key=h.C0.ESC+h.C0.ESC),C.cancel=!0;break;case 37:if(v.metaKey)break;a?(C.key=h.C0.ESC+"[1;"+(a+1)+"D",C.key===h.C0.ESC+"[1;3D"&&(C.key=h.C0.ESC+(x?"b":"[1;5D"))):C.key=S?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(v.metaKey)break;a?(C.key=h.C0.ESC+"[1;"+(a+1)+"C",C.key===h.C0.ESC+"[1;3C"&&(C.key=h.C0.ESC+(x?"f":"[1;5C"))):C.key=S?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(v.metaKey)break;a?(C.key=h.C0.ESC+"[1;"+(a+1)+"A",x||C.key!==h.C0.ESC+"[1;3A"||(C.key=h.C0.ESC+"[1;5A")):C.key=S?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(v.metaKey)break;a?(C.key=h.C0.ESC+"[1;"+(a+1)+"B",x||C.key!==h.C0.ESC+"[1;3B"||(C.key=h.C0.ESC+"[1;5B")):C.key=S?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:v.shiftKey||v.ctrlKey||(C.key=h.C0.ESC+"[2~");break;case 46:C.key=a?h.C0.ESC+"[3;"+(a+1)+"~":h.C0.ESC+"[3~";break;case 36:C.key=a?h.C0.ESC+"[1;"+(a+1)+"H":S?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:C.key=a?h.C0.ESC+"[1;"+(a+1)+"F":S?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:v.shiftKey?C.type=2:v.ctrlKey?C.key=h.C0.ESC+"[5;"+(a+1)+"~":C.key=h.C0.ESC+"[5~";break;case 34:v.shiftKey?C.type=3:v.ctrlKey?C.key=h.C0.ESC+"[6;"+(a+1)+"~":C.key=h.C0.ESC+"[6~";break;case 112:C.key=a?h.C0.ESC+"[1;"+(a+1)+"P":h.C0.ESC+"OP";break;case 113:C.key=a?h.C0.ESC+"[1;"+(a+1)+"Q":h.C0.ESC+"OQ";break;case 114:C.key=a?h.C0.ESC+"[1;"+(a+1)+"R":h.C0.ESC+"OR";break;case 115:C.key=a?h.C0.ESC+"[1;"+(a+1)+"S":h.C0.ESC+"OS";break;case 116:C.key=a?h.C0.ESC+"[15;"+(a+1)+"~":h.C0.ESC+"[15~";break;case 117:C.key=a?h.C0.ESC+"[17;"+(a+1)+"~":h.C0.ESC+"[17~";break;case 118:C.key=a?h.C0.ESC+"[18;"+(a+1)+"~":h.C0.ESC+"[18~";break;case 119:C.key=a?h.C0.ESC+"[19;"+(a+1)+"~":h.C0.ESC+"[19~";break;case 120:C.key=a?h.C0.ESC+"[20;"+(a+1)+"~":h.C0.ESC+"[20~";break;case 121:C.key=a?h.C0.ESC+"[21;"+(a+1)+"~":h.C0.ESC+"[21~";break;case 122:C.key=a?h.C0.ESC+"[23;"+(a+1)+"~":h.C0.ESC+"[23~";break;case 123:C.key=a?h.C0.ESC+"[24;"+(a+1)+"~":h.C0.ESC+"[24~";break;default:if(!v.ctrlKey||v.shiftKey||v.altKey||v.metaKey)if(x&&!T||!v.altKey||v.metaKey)!x||v.altKey||v.ctrlKey||v.shiftKey||!v.metaKey?v.key&&!v.ctrlKey&&!v.altKey&&!v.metaKey&&v.keyCode>=48&&v.key.length===1?C.key=v.key:v.key&&v.ctrlKey&&(v.key==="_"&&(C.key=h.C0.US),v.key==="@"&&(C.key=h.C0.NUL)):v.keyCode===65&&(C.type=1);else{const o=m[v.keyCode],f=o==null?void 0:o[v.shiftKey?1:0];if(f)C.key=h.C0.ESC+f;else if(v.keyCode>=65&&v.keyCode<=90){const d=v.ctrlKey?v.keyCode-64:v.keyCode+32;let g=String.fromCharCode(d);v.shiftKey&&(g=g.toUpperCase()),C.key=h.C0.ESC+g}else if(v.keyCode===32)C.key=h.C0.ESC+(v.ctrlKey?h.C0.NUL:" ");else if(v.key==="Dead"&&v.code.startsWith("Key")){let d=v.code.slice(3,4);v.shiftKey||(d=d.toLowerCase()),C.key=h.C0.ESC+d,C.cancel=!0}}else v.keyCode>=65&&v.keyCode<=90?C.key=String.fromCharCode(v.keyCode-64):v.keyCode===32?C.key=h.C0.NUL:v.keyCode>=51&&v.keyCode<=55?C.key=String.fromCharCode(v.keyCode-51+27):v.keyCode===56?C.key=h.C0.DEL:v.keyCode===219?C.key=h.C0.ESC:v.keyCode===220?C.key=h.C0.FS:v.keyCode===221&&(C.key=h.C0.GS)}return C}},482:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},l.utf32ToString=function(u,h=0,m=u.length){let v="";for(let S=h;S<m;++S){let x=u[S];x>65535?(x-=65536,v+=String.fromCharCode(55296+(x>>10))+String.fromCharCode(x%1024+56320)):v+=String.fromCharCode(x)}return v},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,h){const m=u.length;if(!m)return 0;let v=0,S=0;if(this._interim){const x=u.charCodeAt(S++);56320<=x&&x<=57343?h[v++]=1024*(this._interim-55296)+x-56320+65536:(h[v++]=this._interim,h[v++]=x),this._interim=0}for(let x=S;x<m;++x){const T=u.charCodeAt(x);if(55296<=T&&T<=56319){if(++x>=m)return this._interim=T,v;const C=u.charCodeAt(x);56320<=C&&C<=57343?h[v++]=1024*(T-55296)+C-56320+65536:(h[v++]=T,h[v++]=C)}else T!==65279&&(h[v++]=T)}return v}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,h){const m=u.length;if(!m)return 0;let v,S,x,T,C=0,a=0,o=0;if(this.interim[0]){let g=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let B,H=0;for(;(B=63&this.interim[++H])&&H<4;)w<<=6,w|=B;const b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,M=b-H;for(;o<M;){if(o>=m)return 0;if(B=u[o++],(192&B)!=128){o--,g=!0;break}this.interim[H++]=B,w<<=6,w|=63&B}g||(b===2?w<128?o--:h[C++]=w:b===3?w<2048||w>=55296&&w<=57343||w===65279||(h[C++]=w):w<65536||w>1114111||(h[C++]=w)),this.interim.fill(0)}const f=m-4;let d=o;for(;d<m;){for(;!(!(d<f)||128&(v=u[d])||128&(S=u[d+1])||128&(x=u[d+2])||128&(T=u[d+3]));)h[C++]=v,h[C++]=S,h[C++]=x,h[C++]=T,d+=4;if(v=u[d++],v<128)h[C++]=v;else if((224&v)==192){if(d>=m)return this.interim[0]=v,C;if(S=u[d++],(192&S)!=128){d--;continue}if(a=(31&v)<<6|63&S,a<128){d--;continue}h[C++]=a}else if((240&v)==224){if(d>=m)return this.interim[0]=v,C;if(S=u[d++],(192&S)!=128){d--;continue}if(d>=m)return this.interim[0]=v,this.interim[1]=S,C;if(x=u[d++],(192&x)!=128){d--;continue}if(a=(15&v)<<12|(63&S)<<6|63&x,a<2048||a>=55296&&a<=57343||a===65279)continue;h[C++]=a}else if((248&v)==240){if(d>=m)return this.interim[0]=v,C;if(S=u[d++],(192&S)!=128){d--;continue}if(d>=m)return this.interim[0]=v,this.interim[1]=S,C;if(x=u[d++],(192&x)!=128){d--;continue}if(d>=m)return this.interim[0]=v,this.interim[1]=S,this.interim[2]=x,C;if(T=u[d++],(192&T)!=128){d--;continue}if(a=(7&v)<<18|(63&S)<<12|(63&x)<<6|63&T,a<65536||a>1114111)continue;h[C++]=a}}return C}}},225:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let m;l.UnicodeV6=class{constructor(){if(this.version="6",!m){m=new Uint8Array(65536),m.fill(1),m[0]=0,m.fill(0,1,32),m.fill(0,127,160),m.fill(2,4352,4448),m[9001]=2,m[9002]=2,m.fill(2,11904,42192),m[12351]=1,m.fill(2,44032,55204),m.fill(2,63744,64256),m.fill(2,65040,65050),m.fill(2,65072,65136),m.fill(2,65280,65377),m.fill(2,65504,65511);for(let v=0;v<u.length;++v)m.fill(0,u[v][0],u[v][1]+1)}}wcwidth(v){return v<32?0:v<127?1:v<65536?m[v]:function(S,x){let T,C=0,a=x.length-1;if(S<x[0][0]||S>x[a][1])return!1;for(;a>=C;)if(T=C+a>>1,S>x[T][1])C=T+1;else{if(!(S<x[T][0]))return!0;a=T-1}return!1}(v,h)?0:v>=131072&&v<=196605||v>=196608&&v<=262141?2:1}}},5981:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const h=u(8460),m=u(844);class v extends m.Disposable{constructor(x){super(),this._action=x,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(x,T){if(T!==void 0&&this._syncCalls>T)return void(this._syncCalls=0);if(this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let C;for(this._isSyncWriting=!0;C=this._writeBuffer.shift();){this._action(C);const a=this._callbacks.shift();a&&a()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(x,T){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(T),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(T)}_innerWrite(x=0,T=!0){const C=x||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const a=this._writeBuffer[this._bufferOffset],o=this._action(a,T);if(o){const d=g=>Date.now()-C>=12?setTimeout(()=>this._innerWrite(0,g)):this._innerWrite(C,g);return void o.catch(g=>(queueMicrotask(()=>{throw g}),Promise.resolve(!1))).then(d)}const f=this._callbacks[this._bufferOffset];if(f&&f(),this._bufferOffset++,this._pendingData-=a.length,Date.now()-C>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}l.WriteBuffer=v},5941:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function m(v,S){const x=v.toString(16),T=x.length<2?"0"+x:x;switch(S){case 4:return x[0];case 8:return T;case 12:return(T+T).slice(0,3);default:return T+T}}l.parseColor=function(v){if(!v)return;let S=v.toLowerCase();if(S.indexOf("rgb:")===0){S=S.slice(4);const x=u.exec(S);if(x){const T=x[1]?15:x[4]?255:x[7]?4095:65535;return[Math.round(parseInt(x[1]||x[4]||x[7]||x[10],16)/T*255),Math.round(parseInt(x[2]||x[5]||x[8]||x[11],16)/T*255),Math.round(parseInt(x[3]||x[6]||x[9]||x[12],16)/T*255)]}}else if(S.indexOf("#")===0&&(S=S.slice(1),h.exec(S)&&[3,6,9,12].includes(S.length))){const x=S.length/3,T=[0,0,0];for(let C=0;C<3;++C){const a=parseInt(S.slice(x*C,x*C+x),16);T[C]=x===1?a<<4:x===2?a:x===3?a>>4:a>>8}return T}},l.toRgbString=function(v,S=16){const[x,T,C]=v;return`rgb:${m(x,S)}/${m(T,S)}/${m(C,S)}`}},5770:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const h=u(482),m=u(8742),v=u(5770),S=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=S,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=S}registerHandler(T,C){this._handlers[T]===void 0&&(this._handlers[T]=[]);const a=this._handlers[T];return a.push(C),{dispose:()=>{const o=a.indexOf(C);o!==-1&&a.splice(o,1)}}}clearHandler(T){this._handlers[T]&&delete this._handlers[T]}setHandlerFallback(T){this._handlerFb=T}reset(){if(this._active.length)for(let T=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;T>=0;--T)this._active[T].unhook(!1);this._stack.paused=!1,this._active=S,this._ident=0}hook(T,C){if(this.reset(),this._ident=T,this._active=this._handlers[T]||S,this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].hook(C);else this._handlerFb(this._ident,"HOOK",C)}put(T,C,a){if(this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].put(T,C,a);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(T,C,a))}unhook(T,C=!0){if(this._active.length){let a=!1,o=this._active.length-1,f=!1;if(this._stack.paused&&(o=this._stack.loopPosition-1,a=C,f=this._stack.fallThrough,this._stack.paused=!1),!f&&a===!1){for(;o>=0&&(a=this._active[o].unhook(T),a!==!0);o--)if(a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!1,a;o--}for(;o>=0;o--)if(a=this._active[o].unhook(!1),a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!0,a}else this._handlerFb(this._ident,"UNHOOK",T);this._active=S,this._ident=0}};const x=new m.Params;x.addParam(0),l.DcsHandler=class{constructor(T){this._handler=T,this._data="",this._params=x,this._hitLimit=!1}hook(T){this._params=T.length>1||T.params[0]?T.clone():x,this._data="",this._hitLimit=!1}put(T,C,a){this._hitLimit||(this._data+=(0,h.utf32ToString)(T,C,a),this._data.length>v.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(T){let C=!1;if(this._hitLimit)C=!1;else if(T&&(C=this._handler(this._data,this._params),C instanceof Promise))return C.then(a=>(this._params=x,this._data="",this._hitLimit=!1,a));return this._params=x,this._data="",this._hitLimit=!1,C}}},2015:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const h=u(844),m=u(8742),v=u(6242),S=u(6351);class x{constructor(o){this.table=new Uint8Array(o)}setDefault(o,f){this.table.fill(o<<4|f)}add(o,f,d,g){this.table[f<<8|o]=d<<4|g}addMany(o,f,d,g){for(let w=0;w<o.length;w++)this.table[f<<8|o[w]]=d<<4|g}}l.TransitionTable=x;const T=160;l.VT500_TRANSITION_TABLE=function(){const a=new x(4095),o=Array.apply(null,Array(256)).map((H,b)=>b),f=(H,b)=>o.slice(H,b),d=f(32,127),g=f(0,24);g.push(25),g.push.apply(g,f(28,32));const w=f(0,14);let B;for(B in a.setDefault(1,0),a.addMany(d,0,2,0),w)a.addMany([24,26,153,154],B,3,0),a.addMany(f(128,144),B,3,0),a.addMany(f(144,152),B,3,0),a.add(156,B,0,0),a.add(27,B,11,1),a.add(157,B,4,8),a.addMany([152,158,159],B,0,7),a.add(155,B,11,3),a.add(144,B,11,9);return a.addMany(g,0,3,0),a.addMany(g,1,3,1),a.add(127,1,0,1),a.addMany(g,8,0,8),a.addMany(g,3,3,3),a.add(127,3,0,3),a.addMany(g,4,3,4),a.add(127,4,0,4),a.addMany(g,6,3,6),a.addMany(g,5,3,5),a.add(127,5,0,5),a.addMany(g,2,3,2),a.add(127,2,0,2),a.add(93,1,4,8),a.addMany(d,8,5,8),a.add(127,8,5,8),a.addMany([156,27,24,26,7],8,6,0),a.addMany(f(28,32),8,0,8),a.addMany([88,94,95],1,0,7),a.addMany(d,7,0,7),a.addMany(g,7,0,7),a.add(156,7,0,0),a.add(127,7,0,7),a.add(91,1,11,3),a.addMany(f(64,127),3,7,0),a.addMany(f(48,60),3,8,4),a.addMany([60,61,62,63],3,9,4),a.addMany(f(48,60),4,8,4),a.addMany(f(64,127),4,7,0),a.addMany([60,61,62,63],4,0,6),a.addMany(f(32,64),6,0,6),a.add(127,6,0,6),a.addMany(f(64,127),6,0,0),a.addMany(f(32,48),3,9,5),a.addMany(f(32,48),5,9,5),a.addMany(f(48,64),5,0,6),a.addMany(f(64,127),5,7,0),a.addMany(f(32,48),4,9,5),a.addMany(f(32,48),1,9,2),a.addMany(f(32,48),2,9,2),a.addMany(f(48,127),2,10,0),a.addMany(f(48,80),1,10,0),a.addMany(f(81,88),1,10,0),a.addMany([89,90,92],1,10,0),a.addMany(f(96,127),1,10,0),a.add(80,1,11,9),a.addMany(g,9,0,9),a.add(127,9,0,9),a.addMany(f(28,32),9,0,9),a.addMany(f(32,48),9,9,12),a.addMany(f(48,60),9,8,10),a.addMany([60,61,62,63],9,9,10),a.addMany(g,11,0,11),a.addMany(f(32,128),11,0,11),a.addMany(f(28,32),11,0,11),a.addMany(g,10,0,10),a.add(127,10,0,10),a.addMany(f(28,32),10,0,10),a.addMany(f(48,60),10,8,10),a.addMany([60,61,62,63],10,0,11),a.addMany(f(32,48),10,9,12),a.addMany(g,12,0,12),a.add(127,12,0,12),a.addMany(f(28,32),12,0,12),a.addMany(f(32,48),12,9,12),a.addMany(f(48,64),12,0,11),a.addMany(f(64,127),12,12,13),a.addMany(f(64,127),10,12,13),a.addMany(f(64,127),9,12,13),a.addMany(g,13,13,13),a.addMany(d,13,13,13),a.add(127,13,0,13),a.addMany([27,156,24,26],13,14,0),a.add(T,0,2,0),a.add(T,8,5,8),a.add(T,6,0,6),a.add(T,11,0,11),a.add(T,13,13,13),a}();class C extends h.Disposable{constructor(o=l.VT500_TRANSITION_TABLE){super(),this._transitions=o,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new m.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(f,d,g)=>{},this._executeHandlerFb=f=>{},this._csiHandlerFb=(f,d)=>{},this._escHandlerFb=f=>{},this._errorHandlerFb=f=>f,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new v.OscParser),this._dcsParser=this.register(new S.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(o,f=[64,126]){let d=0;if(o.prefix){if(o.prefix.length>1)throw new Error("only one byte as prefix supported");if(d=o.prefix.charCodeAt(0),d&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(o.intermediates){if(o.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<o.intermediates.length;++w){const B=o.intermediates.charCodeAt(w);if(32>B||B>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=B}}if(o.final.length!==1)throw new Error("final must be a single byte");const g=o.final.charCodeAt(0);if(f[0]>g||g>f[1])throw new Error(`final must be in range ${f[0]} .. ${f[1]}`);return d<<=8,d|=g,d}identToString(o){const f=[];for(;o;)f.push(String.fromCharCode(255&o)),o>>=8;return f.reverse().join("")}setPrintHandler(o){this._printHandler=o}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(o,f){const d=this._identifier(o,[48,126]);this._escHandlers[d]===void 0&&(this._escHandlers[d]=[]);const g=this._escHandlers[d];return g.push(f),{dispose:()=>{const w=g.indexOf(f);w!==-1&&g.splice(w,1)}}}clearEscHandler(o){this._escHandlers[this._identifier(o,[48,126])]&&delete this._escHandlers[this._identifier(o,[48,126])]}setEscHandlerFallback(o){this._escHandlerFb=o}setExecuteHandler(o,f){this._executeHandlers[o.charCodeAt(0)]=f}clearExecuteHandler(o){this._executeHandlers[o.charCodeAt(0)]&&delete this._executeHandlers[o.charCodeAt(0)]}setExecuteHandlerFallback(o){this._executeHandlerFb=o}registerCsiHandler(o,f){const d=this._identifier(o);this._csiHandlers[d]===void 0&&(this._csiHandlers[d]=[]);const g=this._csiHandlers[d];return g.push(f),{dispose:()=>{const w=g.indexOf(f);w!==-1&&g.splice(w,1)}}}clearCsiHandler(o){this._csiHandlers[this._identifier(o)]&&delete this._csiHandlers[this._identifier(o)]}setCsiHandlerFallback(o){this._csiHandlerFb=o}registerDcsHandler(o,f){return this._dcsParser.registerHandler(this._identifier(o),f)}clearDcsHandler(o){this._dcsParser.clearHandler(this._identifier(o))}setDcsHandlerFallback(o){this._dcsParser.setHandlerFallback(o)}registerOscHandler(o,f){return this._oscParser.registerHandler(o,f)}clearOscHandler(o){this._oscParser.clearHandler(o)}setOscHandlerFallback(o){this._oscParser.setHandlerFallback(o)}setErrorHandler(o){this._errorHandler=o}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(o,f,d,g,w){this._parseStack.state=o,this._parseStack.handlers=f,this._parseStack.handlerPos=d,this._parseStack.transition=g,this._parseStack.chunkPos=w}parse(o,f,d){let g,w=0,B=0,H=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,H=this._parseStack.chunkPos+1;else{if(d===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const b=this._parseStack.handlers;let M=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(d===!1&&M>-1){for(;M>=0&&(g=b[M](this._params),g!==!0);M--)if(g instanceof Promise)return this._parseStack.handlerPos=M,g}this._parseStack.handlers=[];break;case 4:if(d===!1&&M>-1){for(;M>=0&&(g=b[M](),g!==!0);M--)if(g instanceof Promise)return this._parseStack.handlerPos=M,g}this._parseStack.handlers=[];break;case 6:if(w=o[this._parseStack.chunkPos],g=this._dcsParser.unhook(w!==24&&w!==26,d),g)return g;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=o[this._parseStack.chunkPos],g=this._oscParser.end(w!==24&&w!==26,d),g)return g;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,H=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let b=H;b<f;++b){switch(w=o[b],B=this._transitions.table[this.currentState<<8|(w<160?w:T)],B>>4){case 2:for(let X=b+1;;++X){if(X>=f||(w=o[X])<32||w>126&&w<T){this._printHandler(o,b,X),b=X-1;break}if(++X>=f||(w=o[X])<32||w>126&&w<T){this._printHandler(o,b,X),b=X-1;break}if(++X>=f||(w=o[X])<32||w>126&&w<T){this._printHandler(o,b,X),b=X-1;break}if(++X>=f||(w=o[X])<32||w>126&&w<T){this._printHandler(o,b,X),b=X-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:b,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const M=this._csiHandlers[this._collect<<8|w];let $=M?M.length-1:-1;for(;$>=0&&(g=M[$](this._params),g!==!0);$--)if(g instanceof Promise)return this._preserveStack(3,M,$,B,b),g;$<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++b<f&&(w=o[b])>47&&w<60);b--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const Y=this._escHandlers[this._collect<<8|w];let P=Y?Y.length-1:-1;for(;P>=0&&(g=Y[P](),g!==!0);P--)if(g instanceof Promise)return this._preserveStack(4,Y,P,B,b),g;P<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let X=b+1;;++X)if(X>=f||(w=o[X])===24||w===26||w===27||w>127&&w<T){this._dcsParser.put(o,b,X),b=X-1;break}break;case 14:if(g=this._dcsParser.unhook(w!==24&&w!==26),g)return this._preserveStack(6,[],0,B,b),g;w===27&&(B|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let X=b+1;;X++)if(X>=f||(w=o[X])<32||w>127&&w<T){this._oscParser.put(o,b,X),b=X-1;break}break;case 6:if(g=this._oscParser.end(w!==24&&w!==26),g)return this._preserveStack(5,[],0,B,b),g;w===27&&(B|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&B}}}l.EscapeSequenceParser=C},6242:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const h=u(5770),m=u(482),v=[];l.OscParser=class{constructor(){this._state=0,this._active=v,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(S,x){this._handlers[S]===void 0&&(this._handlers[S]=[]);const T=this._handlers[S];return T.push(x),{dispose:()=>{const C=T.indexOf(x);C!==-1&&T.splice(C,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}reset(){if(this._state===2)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].end(!1);this._stack.paused=!1,this._active=v,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||v,this._active.length)for(let S=this._active.length-1;S>=0;S--)this._active[S].start();else this._handlerFb(this._id,"START")}_put(S,x,T){if(this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].put(S,x,T);else this._handlerFb(this._id,"PUT",(0,m.utf32ToString)(S,x,T))}start(){this.reset(),this._state=1}put(S,x,T){if(this._state!==3){if(this._state===1)for(;x<T;){const C=S[x++];if(C===59){this._state=2,this._start();break}if(C<48||57<C)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+C-48}this._state===2&&T-x>0&&this._put(S,x,T)}}end(S,x=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let T=!1,C=this._active.length-1,a=!1;if(this._stack.paused&&(C=this._stack.loopPosition-1,T=x,a=this._stack.fallThrough,this._stack.paused=!1),!a&&T===!1){for(;C>=0&&(T=this._active[C].end(S),T!==!0);C--)if(T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!1,T;C--}for(;C>=0;C--)if(T=this._active[C].end(!1),T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!0,T}else this._handlerFb(this._id,"END",S);this._active=v,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(S){this._handler=S,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(S,x,T){this._hitLimit||(this._data+=(0,m.utf32ToString)(S,x,T),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(S){let x=!1;if(this._hitLimit)x=!1;else if(S&&(x=this._handler(this._data),x instanceof Promise))return x.then(T=>(this._data="",this._hitLimit=!1,T));return this._data="",this._hitLimit=!1,x}}},8742:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const u=2147483647;class h{static fromArray(v){const S=new h;if(!v.length)return S;for(let x=Array.isArray(v[0])?1:0;x<v.length;++x){const T=v[x];if(Array.isArray(T))for(let C=0;C<T.length;++C)S.addSubParam(T[C]);else S.addParam(T)}return S}constructor(v=32,S=32){if(this.maxLength=v,this.maxSubParamsLength=S,S>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(v),this.length=0,this._subParams=new Int32Array(S),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(v),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const v=new h(this.maxLength,this.maxSubParamsLength);return v.params.set(this.params),v.length=this.length,v._subParams.set(this._subParams),v._subParamsLength=this._subParamsLength,v._subParamsIdx.set(this._subParamsIdx),v._rejectDigits=this._rejectDigits,v._rejectSubDigits=this._rejectSubDigits,v._digitIsSub=this._digitIsSub,v}toArray(){const v=[];for(let S=0;S<this.length;++S){v.push(this.params[S]);const x=this._subParamsIdx[S]>>8,T=255&this._subParamsIdx[S];T-x>0&&v.push(Array.prototype.slice.call(this._subParams,x,T))}return v}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(v){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(v<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=v>u?u:v}}addSubParam(v){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(v<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=v>u?u:v,this._subParamsIdx[this.length-1]++}}hasSubParams(v){return(255&this._subParamsIdx[v])-(this._subParamsIdx[v]>>8)>0}getSubParams(v){const S=this._subParamsIdx[v]>>8,x=255&this._subParamsIdx[v];return x-S>0?this._subParams.subarray(S,x):null}getSubParamsAll(){const v={};for(let S=0;S<this.length;++S){const x=this._subParamsIdx[S]>>8,T=255&this._subParamsIdx[S];T-x>0&&(v[S]=this._subParams.slice(x,T))}return v}addDigit(v){let S;if(this._rejectDigits||!(S=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const x=this._digitIsSub?this._subParams:this.params,T=x[S-1];x[S-1]=~T?Math.min(10*T+v,u):v}}l.Params=h},5741:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,h){const m={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(m),h.dispose=()=>this._wrappedAddonDispose(m),h.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let h=-1;for(let m=0;m<this._addons.length;m++)if(this._addons[m]===u){h=m;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(h,1)}}},8771:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const h=u(3785),m=u(511);l.BufferApiView=class{constructor(v,S){this._buffer=v,this.type=S}init(v){return this._buffer=v,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(v){const S=this._buffer.lines.get(v);if(S)return new h.BufferLineApiView(S)}getNullCell(){return new m.CellData}}},3785:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const h=u(511);l.BufferLineApiView=class{constructor(m){this._line=m}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(m,v){if(!(m<0||m>=this._line.length))return v?(this._line.loadCell(m,v),v):this._line.loadCell(m,new h.CellData)}translateToString(m,v,S){return this._line.translateToString(m,v,S)}}},8285:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const h=u(8771),m=u(8460),v=u(844);class S extends v.Disposable{constructor(T){super(),this._core=T,this._onBufferChange=this.register(new m.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}l.BufferNamespaceApi=S},7975:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,h){return this._core.registerCsiHandler(u,m=>h(m.toArray()))}addCsiHandler(u,h){return this.registerCsiHandler(u,h)}registerDcsHandler(u,h){return this._core.registerDcsHandler(u,(m,v)=>h(m,v.toArray()))}addDcsHandler(u,h){return this.registerDcsHandler(u,h)}registerEscHandler(u,h){return this._core.registerEscHandler(u,h)}addEscHandler(u,h){return this.registerEscHandler(u,h)}registerOscHandler(u,h){return this._core.registerOscHandler(u,h)}addOscHandler(u,h){return this.registerOscHandler(u,h)}}},7090:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,B=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(B=(w<3?g(B):w>3?g(o,f,B):g(o,f))||B);return w>3&&B&&Object.defineProperty(o,f,B),B},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const v=u(8460),S=u(844),x=u(5295),T=u(2585);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let C=l.BufferService=class extends S.Disposable{get buffer(){return this.buffers.active}constructor(a){super(),this.isUserScrolling=!1,this._onResize=this.register(new v.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new v.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(a.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(a.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new x.BufferSet(a,this))}resize(a,o){this.cols=a,this.rows=o,this.buffers.resize(a,o),this._onResize.fire({cols:a,rows:o})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(a,o=!1){const f=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===a.fg&&d.getBg(0)===a.bg||(d=f.getBlankLine(a,o),this._cachedBlankLine=d),d.isWrapped=o;const g=f.ybase+f.scrollTop,w=f.ybase+f.scrollBottom;if(f.scrollTop===0){const B=f.lines.isFull;w===f.lines.length-1?B?f.lines.recycle().copyFrom(d):f.lines.push(d.clone()):f.lines.splice(w+1,0,d.clone()),B?this.isUserScrolling&&(f.ydisp=Math.max(f.ydisp-1,0)):(f.ybase++,this.isUserScrolling||f.ydisp++)}else{const B=w-g+1;f.lines.shiftElements(g+1,B-1,-1),f.lines.set(w,d.clone())}this.isUserScrolling||(f.ydisp=f.ybase),this._onScroll.fire(f.ydisp)}scrollLines(a,o,f){const d=this.buffer;if(a<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else a+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const g=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+a,d.ybase),0),g!==d.ydisp&&(o||this._onScroll.fire(d.ydisp))}};l.BufferService=C=h([m(0,T.IOptionsService)],C)},7994:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,h){this._charsets[u]=h,this.glevel===u&&(this.charset=h)}}},1753:function(L,l,u){var h=this&&this.__decorate||function(d,g,w,B){var H,b=arguments.length,M=b<3?g:B===null?B=Object.getOwnPropertyDescriptor(g,w):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(d,g,w,B);else for(var $=d.length-1;$>=0;$--)(H=d[$])&&(M=(b<3?H(M):b>3?H(g,w,M):H(g,w))||M);return b>3&&M&&Object.defineProperty(g,w,M),M},m=this&&this.__param||function(d,g){return function(w,B){g(w,B,d)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const v=u(2585),S=u(8460),x=u(844),T={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:d=>d.button!==4&&d.action===1&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)},VT200:{events:19,restrict:d=>d.action!==32},DRAG:{events:23,restrict:d=>d.action!==32||d.button!==3},ANY:{events:31,restrict:d=>!0}};function C(d,g){let w=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return d.button===4?(w|=64,w|=d.action):(w|=3&d.button,4&d.button&&(w|=64),8&d.button&&(w|=128),d.action===32?w|=32:d.action!==0||g||(w|=3)),w}const a=String.fromCharCode,o={DEFAULT:d=>{const g=[C(d,!1)+32,d.col+32,d.row+32];return g[0]>255||g[1]>255||g[2]>255?"":`\x1B[M${a(g[0])}${a(g[1])}${a(g[2])}`},SGR:d=>{const g=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${C(d,!0)};${d.col};${d.row}${g}`},SGR_PIXELS:d=>{const g=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${C(d,!0)};${d.x};${d.y}${g}`}};let f=l.CoreMouseService=class extends x.Disposable{constructor(d,g){super(),this._bufferService=d,this._coreService=g,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new S.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(T))this.addProtocol(w,T[w]);for(const w of Object.keys(o))this.addEncoding(w,o[w]);this.reset()}addProtocol(d,g){this._protocols[d]=g}addEncoding(d,g){this._encodings[d]=g}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(d){if(!this._protocols[d])throw new Error(`unknown protocol "${d}"`);this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(d){if(!this._encodings[d])throw new Error(`unknown encoding "${d}"`);this._activeEncoding=d}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||d.button===4&&d.action===32||d.button===3&&d.action!==32||d.button!==4&&(d.action===2||d.action===3)||(d.col++,d.row++,d.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,d,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(d))return!1;const g=this._encodings[this._activeEncoding](d);return g&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(g):this._coreService.triggerDataEvent(g,!0)),this._lastEvent=d,!0}explainEvents(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}}_equalEvents(d,g,w){if(w){if(d.x!==g.x||d.y!==g.y)return!1}else if(d.col!==g.col||d.row!==g.row)return!1;return d.button===g.button&&d.action===g.action&&d.ctrl===g.ctrl&&d.alt===g.alt&&d.shift===g.shift}};l.CoreMouseService=f=h([m(0,v.IBufferService),m(1,v.ICoreService)],f)},6975:function(L,l,u){var h=this&&this.__decorate||function(f,d,g,w){var B,H=arguments.length,b=H<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,g):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,d,g,w);else for(var M=f.length-1;M>=0;M--)(B=f[M])&&(b=(H<3?B(b):H>3?B(d,g,b):B(d,g))||b);return H>3&&b&&Object.defineProperty(d,g,b),b},m=this&&this.__param||function(f,d){return function(g,w){d(g,w,f)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const v=u(1439),S=u(8460),x=u(844),T=u(2585),C=Object.freeze({insertMode:!1}),a=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let o=l.CoreService=class extends x.Disposable{constructor(f,d,g){super(),this._bufferService=f,this._logService=d,this._optionsService=g,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new S.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new S.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new S.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new S.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,v.clone)(C),this.decPrivateModes=(0,v.clone)(a)}reset(){this.modes=(0,v.clone)(C),this.decPrivateModes=(0,v.clone)(a)}triggerDataEvent(f,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const g=this._bufferService.buffer;d&&this._optionsService.rawOptions.scrollOnUserInput&&g.ybase!==g.ydisp&&this._onRequestScrollToBottom.fire(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${f}"`,()=>f.split("").map(w=>w.charCodeAt(0))),this._onData.fire(f)}triggerBinaryEvent(f){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${f}"`,()=>f.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(f))}};l.CoreService=o=h([m(0,T.IBufferService),m(1,T.ILogService),m(2,T.IOptionsService)],o)},9074:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const h=u(8055),m=u(8460),v=u(844),S=u(6106);let x=0,T=0;class C extends v.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new S.SortedList(f=>f==null?void 0:f.marker.line),this._onDecorationRegistered=this.register(new m.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new m.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,v.toDisposable)(()=>this.reset()))}registerDecoration(f){if(f.marker.isDisposed)return;const d=new a(f);if(d){const g=d.marker.onDispose(()=>d.dispose());d.onDispose(()=>{d&&(this._decorations.delete(d)&&this._onDecorationRemoved.fire(d),g.dispose())}),this._decorations.insert(d),this._onDecorationRegistered.fire(d)}return d}reset(){for(const f of this._decorations.values())f.dispose();this._decorations.clear()}*getDecorationsAtCell(f,d,g){var w,B,H;let b=0,M=0;for(const $ of this._decorations.getKeyIterator(d))b=(w=$.options.x)!==null&&w!==void 0?w:0,M=b+((B=$.options.width)!==null&&B!==void 0?B:1),f>=b&&f<M&&(!g||((H=$.options.layer)!==null&&H!==void 0?H:"bottom")===g)&&(yield $)}forEachDecorationAtCell(f,d,g,w){this._decorations.forEachByKey(d,B=>{var H,b,M;x=(H=B.options.x)!==null&&H!==void 0?H:0,T=x+((b=B.options.width)!==null&&b!==void 0?b:1),f>=x&&f<T&&(!g||((M=B.options.layer)!==null&&M!==void 0?M:"bottom")===g)&&w(B)})}}l.DecorationService=C;class a extends v.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(f){super(),this.options=f,this.onRenderEmitter=this.register(new m.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new m.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=f.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const h=u(2585),m=u(8343);class v{constructor(...x){this._entries=new Map;for(const[T,C]of x)this.set(T,C)}set(x,T){const C=this._entries.get(x);return this._entries.set(x,T),C}forEach(x){for(const[T,C]of this._entries.entries())x(T,C)}has(x){return this._entries.has(x)}get(x){return this._entries.get(x)}}l.ServiceCollection=v,l.InstantiationService=class{constructor(){this._services=new v,this._services.set(h.IInstantiationService,this)}setService(S,x){this._services.set(S,x)}getService(S){return this._services.get(S)}createInstance(S,...x){const T=(0,m.getServiceDependencies)(S).sort((o,f)=>o.index-f.index),C=[];for(const o of T){const f=this._services.get(o.id);if(!f)throw new Error(`[createInstance] ${S.name} depends on UNKNOWN service ${o.id}.`);C.push(f)}const a=T.length>0?T[0].index:x.length;if(x.length!==a)throw new Error(`[createInstance] First service dependency of ${S.name} at position ${a+1} conflicts with ${x.length} static arguments`);return new S(...x,...C)}}},7866:function(L,l,u){var h=this&&this.__decorate||function(a,o,f,d){var g,w=arguments.length,B=w<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(a,o,f,d);else for(var H=a.length-1;H>=0;H--)(g=a[H])&&(B=(w<3?g(B):w>3?g(o,f,B):g(o,f))||B);return w>3&&B&&Object.defineProperty(o,f,B),B},m=this&&this.__param||function(a,o){return function(f,d){o(f,d,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.traceCall=l.setTraceLogger=l.LogService=void 0;const v=u(844),S=u(2585),x={trace:S.LogLevelEnum.TRACE,debug:S.LogLevelEnum.DEBUG,info:S.LogLevelEnum.INFO,warn:S.LogLevelEnum.WARN,error:S.LogLevelEnum.ERROR,off:S.LogLevelEnum.OFF};let T,C=l.LogService=class extends v.Disposable{get logLevel(){return this._logLevel}constructor(a){super(),this._optionsService=a,this._logLevel=S.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),T=this}_updateLogLevel(){this._logLevel=x[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(a){for(let o=0;o<a.length;o++)typeof a[o]=="function"&&(a[o]=a[o]())}_log(a,o,f){this._evalLazyOptionalParams(f),a.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+o,...f)}trace(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.TRACE&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.trace.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,a,o)}debug(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.DEBUG&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.debug.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,a,o)}info(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.INFO&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.info.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.info,a,o)}warn(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.WARN&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.warn.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.warn,a,o)}error(a,...o){var f,d;this._logLevel<=S.LogLevelEnum.ERROR&&this._log((d=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.error.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.error,a,o)}};l.LogService=C=h([m(0,S.IOptionsService)],C),l.setTraceLogger=function(a){T=a},l.traceCall=function(a,o,f){if(typeof f.value!="function")throw new Error("not supported");const d=f.value;f.value=function(...g){if(T.logLevel!==S.LogLevelEnum.TRACE)return d.apply(this,g);T.trace(`GlyphRenderer#${d.name}(${g.map(B=>JSON.stringify(B)).join(", ")})`);const w=d.apply(this,g);return T.trace(`GlyphRenderer#${d.name} return`,w),w}}},7302:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const h=u(8460),m=u(844),v=u(6114);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:v.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const S=["normal","bold","100","200","300","400","500","600","700","800","900"];class x extends m.Disposable{constructor(C){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const a=Object.assign({},l.DEFAULT_OPTIONS);for(const o in C)if(o in a)try{const f=C[o];a[o]=this._sanitizeAndValidateOption(o,f)}catch(f){console.error(f)}this.rawOptions=a,this.options=Object.assign({},a),this._setupOptions()}onSpecificOptionChange(C,a){return this.onOptionChange(o=>{o===C&&a(this.rawOptions[C])})}onMultipleOptionChange(C,a){return this.onOptionChange(o=>{C.indexOf(o)!==-1&&a()})}_setupOptions(){const C=o=>{if(!(o in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);return this.rawOptions[o]},a=(o,f)=>{if(!(o in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);f=this._sanitizeAndValidateOption(o,f),this.rawOptions[o]!==f&&(this.rawOptions[o]=f,this._onOptionChange.fire(o))};for(const o in this.rawOptions){const f={get:C.bind(this,o),set:a.bind(this,o)};Object.defineProperty(this.options,o,f)}}_sanitizeAndValidateOption(C,a){switch(C){case"cursorStyle":if(a||(a=l.DEFAULT_OPTIONS[C]),!function(o){return o==="block"||o==="underline"||o==="bar"}(a))throw new Error(`"${a}" is not a valid value for ${C}`);break;case"wordSeparator":a||(a=l.DEFAULT_OPTIONS[C]);break;case"fontWeight":case"fontWeightBold":if(typeof a=="number"&&1<=a&&a<=1e3)break;a=S.includes(a)?a:l.DEFAULT_OPTIONS[C];break;case"cursorWidth":a=Math.floor(a);case"lineHeight":case"tabStopWidth":if(a<1)throw new Error(`${C} cannot be less than 1, value: ${a}`);break;case"minimumContrastRatio":a=Math.max(1,Math.min(21,Math.round(10*a)/10));break;case"scrollback":if((a=Math.min(a,4294967295))<0)throw new Error(`${C} cannot be less than 0, value: ${a}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(a<=0)throw new Error(`${C} cannot be less than or equal to 0, value: ${a}`);break;case"rows":case"cols":if(!a&&a!==0)throw new Error(`${C} must be numeric, value: ${a}`);break;case"windowsPty":a=a??{}}return a}}l.OptionsService=x},2660:function(L,l,u){var h=this&&this.__decorate||function(x,T,C,a){var o,f=arguments.length,d=f<3?T:a===null?a=Object.getOwnPropertyDescriptor(T,C):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(x,T,C,a);else for(var g=x.length-1;g>=0;g--)(o=x[g])&&(d=(f<3?o(d):f>3?o(T,C,d):o(T,C))||d);return f>3&&d&&Object.defineProperty(T,C,d),d},m=this&&this.__param||function(x,T){return function(C,a){T(C,a,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const v=u(2585);let S=l.OscLinkService=class{constructor(x){this._bufferService=x,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(x){const T=this._bufferService.buffer;if(x.id===void 0){const g=T.addMarker(T.ybase+T.y),w={data:x,id:this._nextId++,lines:[g]};return g.onDispose(()=>this._removeMarkerFromLink(w,g)),this._dataByLinkId.set(w.id,w),w.id}const C=x,a=this._getEntryIdKey(C),o=this._entriesWithId.get(a);if(o)return this.addLineToLink(o.id,T.ybase+T.y),o.id;const f=T.addMarker(T.ybase+T.y),d={id:this._nextId++,key:this._getEntryIdKey(C),data:C,lines:[f]};return f.onDispose(()=>this._removeMarkerFromLink(d,f)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(x,T){const C=this._dataByLinkId.get(x);if(C&&C.lines.every(a=>a.line!==T)){const a=this._bufferService.buffer.addMarker(T);C.lines.push(a),a.onDispose(()=>this._removeMarkerFromLink(C,a))}}getLinkData(x){var T;return(T=this._dataByLinkId.get(x))===null||T===void 0?void 0:T.data}_getEntryIdKey(x){return`${x.id};;${x.uri}`}_removeMarkerFromLink(x,T){const C=x.lines.indexOf(T);C!==-1&&(x.lines.splice(C,1),x.lines.length===0&&(x.data.id!==void 0&&this._entriesWithId.delete(x.key),this._dataByLinkId.delete(x.id)))}};l.OscLinkService=S=h([m(0,v.IBufferService)],S)},8343:(L,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0;const u="di$target",h="di$dependencies";l.serviceRegistry=new Map,l.getServiceDependencies=function(m){return m[h]||[]},l.createDecorator=function(m){if(l.serviceRegistry.has(m))return l.serviceRegistry.get(m);const v=function(S,x,T){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(C,a,o){a[u]===a?a[h].push({id:C,index:o}):(a[h]=[{id:C,index:o}],a[u]=a)})(v,S,T)};return v.toString=()=>m,l.serviceRegistry.set(m,v),v}},2585:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const h=u(8343);var m;l.IBufferService=(0,h.createDecorator)("BufferService"),l.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),l.ICoreService=(0,h.createDecorator)("CoreService"),l.ICharsetService=(0,h.createDecorator)("CharsetService"),l.IInstantiationService=(0,h.createDecorator)("InstantiationService"),function(v){v[v.TRACE=0]="TRACE",v[v.DEBUG=1]="DEBUG",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.OFF=5]="OFF"}(m||(l.LogLevelEnum=m={})),l.ILogService=(0,h.createDecorator)("LogService"),l.IOptionsService=(0,h.createDecorator)("OptionsService"),l.IOscLinkService=(0,h.createDecorator)("OscLinkService"),l.IUnicodeService=(0,h.createDecorator)("UnicodeService"),l.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(L,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const h=u(8460),m=u(225);l.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const v=new m.UnicodeV6;this.register(v),this._active=v.version,this._activeProvider=v}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(v){if(!this._providers[v])throw new Error(`unknown Unicode version "${v}"`);this._active=v,this._activeProvider=this._providers[v],this._onChange.fire(v)}register(v){this._providers[v.version]=v}wcwidth(v){return this._activeProvider.wcwidth(v)}getStringCellWidth(v){let S=0;const x=v.length;for(let T=0;T<x;++T){let C=v.charCodeAt(T);if(55296<=C&&C<=56319){if(++T>=x)return S+this.wcwidth(C);const a=v.charCodeAt(T);56320<=a&&a<=57343?C=1024*(C-55296)+a-56320+65536:S+=this.wcwidth(a)}S+=this.wcwidth(C)}return S}}}},y={};function D(L){var l=y[L];if(l!==void 0)return l.exports;var u=y[L]={exports:{}};return p[L].call(u.exports,u,u.exports,D),u.exports}var k={};return(()=>{var L=k;Object.defineProperty(L,"__esModule",{value:!0}),L.Terminal=void 0;const l=D(9042),u=D(3236),h=D(844),m=D(5741),v=D(8285),S=D(7975),x=D(7090),T=["cols","rows"];class C extends h.Disposable{constructor(o){super(),this._core=this.register(new u.Terminal(o)),this._addonManager=this.register(new m.AddonManager),this._publicOptions=Object.assign({},this._core.options);const f=g=>this._core.options[g],d=(g,w)=>{this._checkReadonlyOptions(g),this._core.options[g]=w};for(const g in this._core.options){const w={get:f.bind(this,g),set:d.bind(this,g)};Object.defineProperty(this._publicOptions,g,w)}}_checkReadonlyOptions(o){if(T.includes(o))throw new Error(`Option "${o}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new S.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new x.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new v.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const o=this._core.coreService.decPrivateModes;let f="none";switch(this._core.coreMouseService.activeProtocol){case"X10":f="x10";break;case"VT200":f="vt200";break;case"DRAG":f="drag";break;case"ANY":f="any"}return{applicationCursorKeysMode:o.applicationCursorKeys,applicationKeypadMode:o.applicationKeypad,bracketedPasteMode:o.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:f,originMode:o.origin,reverseWraparoundMode:o.reverseWraparound,sendFocusMode:o.sendFocus,wraparoundMode:o.wraparound}}get options(){return this._publicOptions}set options(o){for(const f in o)this._publicOptions[f]=o[f]}blur(){this._core.blur()}focus(){this._core.focus()}resize(o,f){this._verifyIntegers(o,f),this._core.resize(o,f)}open(o){this._core.open(o)}attachCustomKeyEventHandler(o){this._core.attachCustomKeyEventHandler(o)}registerLinkProvider(o){return this._core.registerLinkProvider(o)}registerCharacterJoiner(o){return this._checkProposedApi(),this._core.registerCharacterJoiner(o)}deregisterCharacterJoiner(o){this._checkProposedApi(),this._core.deregisterCharacterJoiner(o)}registerMarker(o=0){return this._verifyIntegers(o),this._core.registerMarker(o)}registerDecoration(o){var f,d,g;return this._checkProposedApi(),this._verifyPositiveIntegers((f=o.x)!==null&&f!==void 0?f:0,(d=o.width)!==null&&d!==void 0?d:0,(g=o.height)!==null&&g!==void 0?g:0),this._core.registerDecoration(o)}hasSelection(){return this._core.hasSelection()}select(o,f,d){this._verifyIntegers(o,f,d),this._core.select(o,f,d)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(o,f){this._verifyIntegers(o,f),this._core.selectLines(o,f)}dispose(){super.dispose()}scrollLines(o){this._verifyIntegers(o),this._core.scrollLines(o)}scrollPages(o){this._verifyIntegers(o),this._core.scrollPages(o)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(o){this._verifyIntegers(o),this._core.scrollToLine(o)}clear(){this._core.clear()}write(o,f){this._core.write(o,f)}writeln(o,f){this._core.write(o),this._core.write(`\r
`,f)}paste(o){this._core.paste(o)}refresh(o,f){this._verifyIntegers(o,f),this._core.refresh(o,f)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(o){this._addonManager.loadAddon(this,o)}static get strings(){return l}_verifyIntegers(...o){for(const f of o)if(f===1/0||isNaN(f)||f%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...o){for(const f of o)if(f&&(f===1/0||isNaN(f)||f%1!=0||f<0))throw new Error("This API only accepts positive integers")}}L.Terminal=C})(),k})())}(Cc)),Cc.exports}var My=Ry(),wc={exports:{}},f_;function By(){return f_||(f_=1,function(r,c){(function(p,y){r.exports=y()})(self,()=>(()=>{var p={};return(()=>{var y=p;Object.defineProperty(y,"__esModule",{value:!0}),y.FitAddon=void 0,y.FitAddon=class{activate(D){this._terminal=D}dispose(){}fit(){const D=this.proposeDimensions();if(!D||!this._terminal||isNaN(D.cols)||isNaN(D.rows))return;const k=this._terminal._core;this._terminal.rows===D.rows&&this._terminal.cols===D.cols||(k._renderService.clear(),this._terminal.resize(D.cols,D.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const D=this._terminal._core,k=D._renderService.dimensions;if(k.css.cell.width===0||k.css.cell.height===0)return;const L=this._terminal.options.scrollback===0?0:D.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(l.getPropertyValue("height")),h=Math.max(0,parseInt(l.getPropertyValue("width"))),m=window.getComputedStyle(this._terminal.element),v=u-(parseInt(m.getPropertyValue("padding-top"))+parseInt(m.getPropertyValue("padding-bottom"))),S=h-(parseInt(m.getPropertyValue("padding-right"))+parseInt(m.getPropertyValue("padding-left")))-L;return{cols:Math.max(2,Math.floor(S/k.css.cell.width)),rows:Math.max(1,Math.floor(v/k.css.cell.height))}}}})(),p})())}(wc)),wc.exports}var Ly=By();const Wa="/DFA_editor/assets/download-CBidcN7E.png";function cn(r,c={nodes:[],links:[]}){const p=r.trim().split(`
`).map(C=>C.trim()).filter(Boolean),y=new Map,D=new Map,k=new Map,L=new Map,l=new Set;let u=null;const h=[];p.forEach((C,a)=>{var X,I,G;const o=C.trim().split(/\s+/),f=o[0].toLowerCase(),d=(X=o[1])==null?void 0:X.toLowerCase().trim();switch(f){case"cnode":{if(!d)return{...c,errors:["Usage: cnode [>]?<id>[, [>]?<id>]"]};const z=d.split(",").map(A=>A.trim()).filter(Boolean);z.filter(A=>A.startsWith(">")).length>1?h.push("Only one initial node may be marked with >."):z.forEach(A=>{const N=A.startsWith(">"),E=N?A.slice(1):A,R=L.has(E);if(!R&&(c.nodes.some(W=>W.id===E)||k.has(E))){if(N){const W=k.get(E)||c.nodes.find(se=>se.id===E);W&&(W.isInitial=!0),u=E}return}else R&&L.delete(E),k.set(E,{id:E,shape:N?"image":"circle",imageUrl:N?Wa:null,isInitial:N,isFinal:!1}),N&&(u=E)});return}case"dnode":{d?d.split(",").map(j=>j.trim()).filter(Boolean).forEach(j=>{if(c.nodes.some(N=>N.id===j)||k.has(j)||Array.from(D.keys()).some(N=>{const[E,R]=N.split("|");return E===j||R===j})){L.set(j,a),y.has(j)&&y.delete(j);const N=[];for(let[E,R]of D.entries()){const[F,W]=E.split("|");if(F===j||W===j){if(y.has(F)){const se=y.get(F);for(let ae of R)se.delete(ae)}N.push(E)}}N.forEach(E=>D.delete(E)),u===j&&(u=null)}else h.push(`Cannot delete "${j}"  node does not exist`)}):h.push("Usage: dnode <id>[,<id>]");return}case"initial":{const z=(I=o[1])==null?void 0:I.trim();if(!z){h.push('Invalid syntax; expected "initial S"');return}if(L.has(z)){h.push(`Cannot set "${z}" as initial  node was deleted`);return}let j=k.get(z)||c.nodes.find(A=>A.id===z);if(j||(j={id:z,isInitial:!1,isFinal:!1,shape:"circle",imageUrl:null},k.set(z,j)),j.isFinal){h.push(`Cannot set final "${z}" as initial`);return}c.nodes.forEach(A=>{A.isInitial&&A.id!==z&&k.set(A.id,{...A,isInitial:!1})}),k.forEach((A,N)=>{A.isInitial&&N!==z&&k.set(N,{...A,isInitial:!1})}),u=z;return}case"final":{d?d.split(",").map(j=>j.trim()).filter(Boolean).forEach(j=>{if(L.has(j))h.push(`Cannot mark "${j}" as final  node was deleted`);else{const A=k.get(j)||c.nodes.find(W=>W.id===j),N=l.has(j),E=u===j;if(!A&&!N){h.push(`Cannot mark "${j}" as final  node does not exist`);return}const R=A??{id:j,shape:"circle",imageUrl:null,isInitial:E,isFinal:!1};if(E){h.push(`Cannot mark initial node "${j}" as final`);return}if(R!=null&&R.isFinal)return;const F={...R,isFinal:!0};k.set(j,F)}}):h.push("Usage: final <id>[,<id>]");return}case"unfinal":{d?d.split(",").map(j=>j.trim()).filter(Boolean).forEach(j=>{if(L.has(j))h.push(`Cannot mark "${j}" as non-final  node was deleted`);else{const A=k.get(j)||c.nodes.find(W=>W.id===j),N=l.has(j),E=u===j;if(!A&&!N){h.push(`Cannot mark "${j}" as non-final  node does not exist`);return}const R=A??{id:j,shape:"circle",imageUrl:null,isInitial:E,isFinal:!1};if(E){h.push(`Cannot mark initial node "${j}" as non-final`);return}if(!(R!=null&&R.isFinal))return;const F={...R,isFinal:!1};k.set(j,F)}}):h.push("Usage: unfinal <id>[,<id>]");return}case"dtrans":{const z=C.trim().split(/\s+/),[j,A,N,E]=z;if(!A||!N){h.push("Usage: dtrans <from> <to> [label]");return}const R=`${A}|${N}`;if(!D.has(R)){h.push(`No edge from "${A}" to "${N}" exists.`);return}if(E){const F=D.get(R);F.has(E)?(F.delete(E),(G=y.get(A))==null||G.delete(E),F.size===0&&D.delete(R)):h.push(`Label "${E}" does not exist on edge from "${A}" to "${N}".`)}else{const F=D.get(R);D.delete(R),F.forEach(W=>{var se;(se=y.get(A))==null||se.delete(W)})}return}case"chtrans":{const z=C.trim().split(/\s+/),[j,A,N,E]=z;if(!A||!N||!E){h.push("Usage: chtrans <from> <to> <label1,label2,...>");return}const R=`${A}|${N}`;if(!D.has(R)){h.push(`No edge from "${A}" to "${N}" exists.`);return}const F=E.split(",").map(ae=>ae.trim()).filter(Boolean),W=y.get(A)||new Set;for(const ae of F)for(const he of D.keys())he.startsWith(A+"|")&&he!==R&&D.get(he).has(ae)&&h.push(`Changing transition would violate determinism: "${A}" already has "${ae}" transition`);const se=D.get(R);se.forEach(ae=>W.delete(ae)),se.clear();for(const ae of F)se.add(ae),W.add(ae);return}}const[g,w,B]=C.split(/\s+/)||[];if(!g||!w||!B){h.push("Command not found: Use '$manual' or '$help' or '$?' to see the list of commands");return}const H=g.replace(/^>/,"");l.add(H),l.add(w),L.get(H)!==void 0&&L.get(H)<a&&L.delete(H),L.get(w)!==void 0&&L.get(w)<a&&L.delete(w),g.startsWith(">")&&(L.has(H)?h.push(`Cannot assign "${H}" as initial  node was previously deleted`):u===null||u===H?u=H:h.push(`Multiple Initial states detected: "${u}" already set as initial state`)),y.has(H)||y.set(H,new Set);const b=y.get(H),M=`${H}|${w}`;D.has(M)||D.set(M,new Set);const $=D.get(M),Y=B.split(",").map(z=>z.trim()).filter(Boolean),P=new Set;Y.forEach(z=>{if(P.has(z)){h.push(`Duplicate label "${z}" in transition from "${H}" to "${w}"`);return}if(P.add(z),$.has(z)){h.push(`Duplicate label "${z}" already exists on transition from "${H}" to "${w}"`);return}if(b.has(z)){h.push(`Duplicate input "${z}" from state "${H}" (DFA requires determinism)`);return}$.add(z),b.add(z)})});const m=[];for(let[C,a]of D){const[o,f]=C.split("|");L.has(o)||L.has(f)||m.push({source:o,target:f,label:[...a].join(",")})}const v=new Map;c.nodes.filter(C=>!L.has(C.id)).forEach(C=>v.set(C.id,{...C})),k.forEach(C=>{L.has(C.id)||v.set(C.id,C)}),l.forEach(C=>{!L.has(C)&&!v.has(C)&&v.set(C,{id:C,shape:"circle",imageUrl:null,isInitial:!1,isFinal:!1})});for(const C of v.values())C.isInitial&&(C.isInitial=!1,C.shape="circle",C.imageUrl=null,C.fx=null,C.fy=null);for(const C of v.values())C.id===u&&!L.has(C.id)?(C.isInitial=!0,C.shape="image",C.imageUrl=Wa):(C.isInitial=!1,C.shape="circle",C.imageUrl=null);const S=[];Array.from(v.values()).some(C=>C.isInitial)||S.push("DFA requires one initial state, but none is defined.");const x=[...new Set(m.flatMap(C=>(C.label||"").split(",").map(a=>a.trim()).filter(Boolean)))],T=new Map;m.forEach(C=>{(C.label||"").split(",").map(o=>o.trim()).filter(Boolean).forEach(o=>{T.has(C.source)||T.set(C.source,new Set),T.get(C.source).add(o)})});for(const C of v.values()){const a=T.get(C.id)||new Set;for(const o of x)a.has(o)||S.push(`Node "${C.id}" is missing transition for label "${o}" (DFA requires totality)`)}return k.clear(),{nodes:Array.from(v.values()),links:m,errors:h,reminders:S}}function Oy(r,c,p){var a,o,f,d;const y=new Set(r.links.flatMap(g=>(g.label||"").split(",").map(w=>w.trim()).filter(Boolean))),D=new Set(c.links.flatMap(g=>(g.label||"").split(",").map(w=>w.trim()).filter(Boolean)));if([...y].some(g=>!D.has(g))||[...D].some(g=>!y.has(g)))throw new Error("Alphabets differ  cannot build product");const k=[...y],L=d_(r.links),l=d_(c.links),u=(a=r.nodes.find(g=>g.isInitial))==null?void 0:a.id,h=(o=c.nodes.find(g=>g.isInitial))==null?void 0:o.id;if(!u||!h)throw new Error("Both DFAs need an initial state");const m=new Set(r.nodes.filter(g=>g.isFinal).map(g=>g.id)),v=new Set(c.nodes.filter(g=>g.isFinal).map(g=>g.id)),S=new Map,x=[],T=`${u}|${h}`;S.set(T,{id:T,isInitial:!0,isFinal:p===""?m.has(u)&&v.has(h):m.has(u)||v.has(h),shape:"image",imageUrl:Wa});const C=[T];for(;C.length;){const g=C.shift(),[w,B]=g.split("|");for(const H of k){const b=(f=L[w])==null?void 0:f[H],M=(d=l[B])==null?void 0:d[H];if(b==null||M==null)throw new Error(`Non-total input DFA: missing transition on "${H}" from ${b==null?w:B}`);const $=`${b}|${M}`;S.has($)||(S.set($,{id:$,isInitial:!1,isFinal:p===""?m.has(b)&&v.has(M):m.has(b)||v.has(M)}),C.push($)),x.push({source:g,target:$,label:H})}}return{nodes:[...S.values()],links:x}}function d_(r){const c={};return r.forEach(p=>{var k,L;const y=typeof p.source=="string"?p.source:(k=p.source)==null?void 0:k.id,D=typeof p.target=="string"?p.target:(L=p.target)==null?void 0:L.id;(p.label||"").split(",").map(l=>l.trim()).filter(Boolean).forEach(l=>{c[y]??(c[y]={}),c[y][l]=D})}),c}class ky{constructor(){this.nodes=[],this.unique=new Map,this.cache=new Map,this.FALSE=this.mkConst(!1),this.TRUE=this.mkConst(!0)}mkConst(c){const p=this.nodes.length;return this.nodes.push({var:Number.POSITIVE_INFINITY,lo:p,hi:p,bit:c}),p}mk(c,p,y){if(p===y)return p;const D=`${c},${p},${y}`;if(this.unique.has(D))return this.unique.get(D);const k=this.nodes.length;return this.unique.set(D,k),this.nodes.push({var:c,lo:p,hi:y}),k}ite(c,p,y){if(p===y||c===this.TRUE)return p;if(c===this.FALSE)return y;const D=`I,${c},${p},${y}`;if(this.cache.has(D))return this.cache.get(D);const k=Math.min(this.nodes[c].var,this.nodes[p].var,this.nodes[y].var),L=this.low(c,k),l=this.high(c,k),u=this.low(p,k),h=this.high(p,k),m=this.low(y,k),v=this.high(y,k),S=this.ite(l,h,v),x=this.ite(L,u,m),T=this.mk(k,x,S);return this.cache.set(D,T),T}low(c,p){return this.nodes[c].var===p?this.nodes[c].lo:c}high(c,p){return this.nodes[c].var===p?this.nodes[c].hi:c}and(c,p){return this.ite(c,p,this.FALSE)}or(c,p){return this.ite(c,this.TRUE,p)}not(c){return this.ite(c,this.FALSE,this.TRUE)}exists(c,p){const y=`E,${c},${[...p].sort().join(",")}`;if(this.cache.has(y))return this.cache.get(y);let D;if(c<=1)D=c;else{const{var:k,lo:L,hi:l}=this.nodes[c],u=this.exists(L,p),h=this.exists(l,p);p.has(k)?D=this.or(u,h):D=this.mk(k,u,h)}return this.cache.set(y,D),D}rename(c,p){if(c<=1)return c;const y=[...p.entries()].map(([S,x])=>`${S}:${x}`).join("|"),D=`R,${c},${y}`;if(this.cache.has(D))return this.cache.get(D);const{var:k,lo:L,hi:l}=this.nodes[c],u=this.rename(L,p),h=this.rename(l,p),m=p.has(k)?p.get(k):k,v=this.mk(m,u,h);return this.cache.set(D,v),v}lit(c,p){return p?this.mk(c,this.FALSE,this.TRUE):this.mk(c,this.TRUE,this.FALSE)}toDot(c){let p=`digraph BDD{
  rankdir=TB;
`;const y=new Set,D=k=>{if(y.has(k)||k==null||this.nodes[k]==null)return;y.add(k);const{var:L,lo:l,hi:u}=this.nodes[k];p+=`  ${k} [label="x${L}"];
`,p+=`  ${k} -> ${l} [style=dashed];
`,p+=`  ${k} -> ${u} [style=solid];
`,D(l),D(u)};return p+=`  0 [shape=box,label="0"];  1 [shape=box,label="1"];
`,D(c),p+`}
`}}function Hy(r,c){const D=new Map,k=new Set,L=h=>{if(h<=1||k.has(h))return;k.add(h);const{var:m,lo:v,hi:S}=c.nodes[h];D.has(m)||D.set(m,[]),D.get(m).push(h),L(v),L(S)};L(r);const l=[];for(const[h,m]of[...D.entries()].sort((v,S)=>v[0]-S[0]))m.forEach((v,S)=>l.push({id:`n${v}`,label:`x${h}`,x:90*S,y:120*h}));l.push({id:"0",label:"0",x:-90*2,y:120*(D.size+1),shape:"box"}),l.push({id:"1",label:"1",x:0,y:120*(D.size+1),shape:"box"});const u=[];return l.forEach(h=>{const m=parseInt(h.id.slice(1));if(isNaN(m))return;const{lo:v,hi:S}=c.nodes[m];u.push({source:`n${m}`,target:v<=1?`${v}`:`n${v}`,style:"dashed"}),u.push({source:`n${m}`,target:S<=1?`${S}`:`n${S}`,style:"solid"})}),{nodes:l,links:u}}function __(r){var X;const c=new ky,p=r.nodes.map(I=>I.id),y=new Map(p.map((I,G)=>[I,G])),D=p.length,k=Math.max(1,Math.ceil(Math.log2(D))),L=[...new Set(r.links.flatMap(I=>(I.label||"").split(",").map(G=>G.trim()).filter(Boolean)))],l=new Map(L.map((I,G)=>[I,G])),u=Math.max(1,L.length),h=Math.max(0,Math.ceil(Math.log2(u))),m=Array.from({length:k},(I,G)=>G),v=m.length,S=Array.from({length:h},(I,G)=>v+G),x=v+S.length,T=Array.from({length:k},(I,G)=>x+G),C=(I,G)=>c.lit?c.lit(I,G):G?c.mk(I,c.FALSE,c.TRUE):c.mk(I,c.TRUE,c.FALSE),a=(I,G)=>{let z=c.TRUE;for(let j=0;j<I.length;j++){const A=G>>j&1;z=c.and(z,C(I[j],A))}return z},o=I=>a(m,y.get(I)),f=I=>h===0?c.TRUE:a(S,l.get(I)),d=I=>a(T,y.get(I));let g=c.FALSE;for(const I of r.links){const G=typeof I.source=="string"?I.source:I.source.id,z=typeof I.target=="string"?I.target:I.target.id,j=(I.label||"").split(",").map(A=>A.trim()).filter(Boolean);for(const A of j){const N=c.and(c.and(o(G),f(A)),d(z));g=c.or(g,N)}}const w=(X=r.nodes.find(I=>I.isInitial))==null?void 0:X.id,B=w?o(w):c.FALSE;let H=c.FALSE;for(const I of r.nodes.filter(G=>G.isFinal))H=c.or(H,o(I.id));const b=new Set([...m,...S]),M=new Map(T.map((I,G)=>[I,m[G]])),$=I=>{const G=c.and(I,g),z=c.exists(G,b);return c.rename(z,M)},Y=I=>{let G=B;for(const z of I){const j=f(z),A=c.and(G,c.and(g,j)),N=c.exists(A,b);G=c.rename(N,M)}return G};return{mgr:c,I:B,F:H,T:g,xBits:m,aBits:S,xpBits:T,encState:o,encSym:f,post:$,acceptsWord:I=>{const G=Y(I);return c.and(G,H)!==c.FALSE}}}function Ny({graphData:r,setGraphData:c,onReset:p,setViewMode:y}){const D=De.useRef(null),k=De.useRef(null),L=De.useRef(null),l=De.useRef(null),u=De.useRef(null),h=De.useRef(""),m=De.useRef([]),v=De.useRef([]),S=De.useRef(!1),x=De.useRef(r),T=De.useRef(null),C=De.useRef([]),a=De.useRef("dfa");return De.useEffect(()=>{x.current=r},[r]),De.useEffect(()=>(k.current=new My.Terminal({cursorBlink:!0,rows:10,scrollback:2e3,theme:{background:"#1e1e1e",foreground:"#ffffff"}}),L.current=new Ly.FitAddon,k.current.loadAddon(L.current),k.current.open(D.current),L.current.fit(),k.current.focus(),o(),k.current.onKey(({key:f,domEvent:d})=>{var B,H;if(S.current)return;const g=k.current,w=!d.altKey&&!d.ctrlKey&&!d.metaKey;if(d.key==="Enter"){g.write(`\r
`);const b=h.current.trim(),M=b.trim().split(/\s+/),$=(M[0]||"").toLowerCase(),Y=M[1]||"";h.current="";const{nodes:P,links:X}=x.current,I=(j,A)=>{const N=new Set(["cnode","dnode","initial","final","unfinal","dtrans","chtrans","complement","union","intersect"]);if(N.has(j))return!0;if(!j||!j.startsWith("$")){const E=(A||"").split(/\s+/);return E.length>=3&&!N.has(E[0])}return!1},G=()=>{g.writeln("\x1B[31mCannot edit BDDs (read-only). Type 'back' to return to DFA view.\x1B[0m"),o()},z=()=>{const{nodes:j,links:A,errors:N}=cn(m.current.join(`
`));N!=null&&N.length?N.forEach(E=>g.writeln(`\x1B[31m${E}\x1B[0m`)):(c({nodes:j,links:A}),a.current="dfa",g.writeln("\x1B[35mReturned to DFA view.\x1B[0m")),o()};switch($){case"reset":{if(S.current)return;S.current=!0,g.writeln("\x1B[33mAre you sure? This will clear all progress. Press Y to confirm, any other key to cancel.\x1B[0m");const j=k.current.onKey(({key:A})=>{j.dispose(),S.current=!1,A.toLowerCase()==="y"?(p(),m.current=[],h.current="",v.current=[],a.current="dfa",T.current=null,y==null||y("dfa"),k.current.clear()):g.writeln("\x1B[33mReset cancelled.\x1B[0m"),o()});return}case"manual":case"help":case"?":{zy(k.current),o();return}case"back":{if(T.current){c(T.current),T.current=null,a.current="dfa",y==null||y("dfa"),k.current.writeln("\x1B[35mReturned to DFA view.\x1B[0m"),o();return}z(),a.current="dfa",y==null||y("dfa");return}case"undo":{if(a.current==="bdd")return G();if(C.current.length===0)g.writeln("\x1B[33mNothing to undo\x1B[0m");else{const j=C.current.pop();c(j),m.current=Ua(j);try{const A=m.current.join(`
`),{reminders:N=[],errors:E=[]}=cn(A,j);E.forEach(R=>g.writeln(`\x1B[31m${R}\x1B[0m`)),N.forEach(R=>g.writeln(`\x1B[33m${R}\x1B[0m`))}catch(A){g.writeln(`\x1B[31mUndo check failed: ${A.message}\x1B[0m`)}v.current.push({type:"command",text:"$ undo"})}o();return}case"allstates":{if(a.current==="bdd")return G();P.length===0?g.writeln("\x1B[31mNo states defined.\x1B[0m"):g.writeln(`\x1B[33mQ = {${P.map(j=>j.id).join(", ")}}\x1B[0m`),o();return}case"allfinal":{if(a.current==="bdd")return G();const j=P.filter(A=>A.isFinal);j.length===0?g.writeln("\x1B[31mNo final states defined.\x1B[0m"):g.writeln(`\x1B[33mF = {${j.map(A=>A.id).join(", ")}}\x1B[0m`),o();return}case"allinitial":{if(a.current==="bdd")return G();const j=P.filter(A=>A.isInitial);j.length===0?g.writeln("\x1B[31mNo initial state defined.\x1B[0m"):g.writeln(`\x1B[33mq = ${j[0].id}\x1B[0m`),o();return}case"alphabet":{if(a.current==="bdd")return G();const j=new Set;X.forEach(A=>(A.label||"").split(",").map(N=>N.trim()).forEach(N=>N&&j.add(N))),j.size===0?g.writeln("\x1B[31mNo alphabet defined yet.\x1B[0m"):g.writeln(`\x1B[33m = {${[...j].join(", ")}}\x1B[0m`),o();return}case"alltransitions":{if(a.current==="bdd")return G();X.length===0?g.writeln("\x1B[31mNo transitions defined.\x1B[0m"):X.forEach(j=>{(j.label||"").split(",").map(N=>N.trim()).filter(Boolean).forEach(N=>{const E=typeof j.source=="string"?j.source:j.source.id,R=typeof j.target=="string"?j.target:j.target.id;g.writeln(`\x1B[33m(${E}, ${N})  ${R}\x1B[0m`)})}),o();return}case"save":{const j=Y||(a.current==="bdd"?"bdd":"dfa");if(a.current==="dfa"){const A=x.current,{reminders:N}=cn(m.current.join(`
`),A);if(N.length){N.forEach(R=>g.writeln(`\x1B[31m${R}\x1B[0m`)),g.writeln("\x1B[31mCannot save  DFA is incomplete.\x1B[0m"),o();return}const E=JSON.stringify({nodes:A.nodes,links:A.links},null,2);v_(E,`${j}.json`),g.writeln(`\x1B[33mDFA saved to "${j}.json"\x1B[0m`)}else{const A=JSON.stringify({nodes:P,links:X},null,2);v_(A,`${j}.json`),g.writeln(`\x1B[33mBDD graph saved to "${j}.json"\x1B[0m`)}o();return}case"load":{const j=((B=M[1])==null?void 0:B.toLowerCase())??"left",A=document.createElement("input");A.type="file",A.accept=".json",A.onchange=async N=>{const E=N.target.files[0];if(E){try{const R=await E.text(),F=JSON.parse(R),W=Array.isArray(F==null?void 0:F.nodes)&&F.nodes.some(he=>"isInitial"in he),se=F.nodes??[],ae=F.links??[];if(W){const he=se.map(U=>({...U,isPinned:U.isPinned||!1,fx:U.fx??null,fy:U.fy??null,shape:U.isInitial?"image":"circle",imageUrl:U.isInitial?Wa:null}));c({nodes:he,links:ae}),a.current="dfa",j==="left"&&(l.current={nodes:he,links:ae}),j==="right"&&(u.current={nodes:he,links:ae}),m.current=Ua({nodes:he,links:ae}),a.current="dfa",T.current=null,y==null||y("dfa"),g.writeln(`\x1B[33mDFA loaded from "${E.name}"\x1B[0m`)}else c({nodes:se,links:ae}),a.current="bdd",T.current=null,y==null||y("bdd"),g.writeln(`\x1B[33mGraph (BDD/Generic) loaded from "${E.name}"\x1B[0m`)}catch(R){g.writeln(`\x1B[31mFailed to load file: ${R.message}\x1B[0m`)}o()}},A.click();return}case"intersect":case"union":{if(a.current==="bdd")return G();if(!l.current||!u.current){k.current.writeln("\x1B[31mLoad two DFAs first (left & right)\x1B[0m");break}const j=$==="intersect"?"":"",A=Oy(l.current,u.current,j);c(A),a.current="dfa",v.current.push({type:"command",text:`$ ${$}`}),m.current=Ua(A),o();return}case"mydfa":{const j=P.map(F=>F.id),A=(H=P.find(F=>F.isInitial))==null?void 0:H.id,N=P.filter(F=>F.isFinal).map(F=>F.id),E=new Set,R=[];X.forEach(F=>{const W=typeof F.source=="string"?F.source:F.source.id,se=typeof F.target=="string"?F.target:F.target.id;(F.label||"").split(",").map(he=>he.trim()).filter(Boolean).forEach(he=>{E.add(he),R.push(`(${W}, ${he})  ${se}`)})}),k.current.writeln(`\x1B[33mQ   = {${j.join(", ")}}\x1B[0m`),k.current.writeln(`\x1B[33m   = {${[...E].join(", ")}}\x1B[0m`),k.current.writeln(`\x1B[33mq  = ${A||"undefined"}\x1B[0m`),k.current.writeln(`\x1B[33mF   = {${N.join(", ")}}\x1B[0m`),k.current.writeln("\x1B[33m   = {\x1B[0m"),R.forEach(F=>k.current.writeln(`\x1B[33m   ${F}\x1B[0m`)),k.current.writeln("\x1B[33m}\x1B[0m"),o();return}case"complement":{if(a.current==="bdd")return G();const j=P.map(A=>A.isInitial?A:{...A,isFinal:!A.isFinal});c({nodes:j,links:X}),a.current="dfa",v.current.push({type:"command",text:"$ complement"}),o();return}case"showbdd":{const j=x.current;T.current=JSON.parse(JSON.stringify(x.current));const{T:A,mgr:N}=__(j),{nodes:E,links:R}=Hy(A,N);c({nodes:E,links:R}),a.current="bdd",v.current.push({type:"command",text:"$ showbdd"}),k.current.writeln("\x1B[35mEntered BDD view (read-only). Type 'back' to return to DFA.\x1B[0m"),a.current="bdd",y==null||y("bdd"),o();return}case"showmono":{if(a.current==="dfa")return;const j=(M[1]||"all").toLowerCase(),A=m.current.join(`
`);let N;try{const{nodes:F,links:W}=cn(A);N=g_(F,W)}catch{const{nodes:F,links:W}=x.current;N=g_(F,W)}const E=Uy(N),R=jy(N,E);(j==="i"||j==="all")&&k.current.writeln(xc("I(x) = "+R.I)),(j==="t"||j==="all")&&k.current.writeln(xc("T(x,a,x) = "+R.T)),(j==="s"||j==="all")&&k.current.writeln(xc("S(x) = "+R.S)),a.current="bdd",y==null||y("bdd"),o();return}case"accept":{if(a.current==="bdd"){g.writeln("\x1B[31mCannot run accept in BDD view  type 'back' to return to DFA.\x1B[0m"),o();return}const j=(M[1]||"").trim();if(!j)g.writeln("\x1B[31mUsage: accept <word>\x1B[0m");else{const A=x.current,{acceptsWord:N}=__(A),E=N(j.split(""));g.writeln(E?"\x1B[32maccepted\x1B[0m":"\x1B[31mrejected\x1B[0m")}o();return}default:{if(!b){o();return}if(a.current==="bdd"&&I($,b))return G();const j=[...m.current,b],{nodes:A,links:N,errors:E,reminders:R}=cn(j.join(`
`),x.current);if(E.length)E.forEach(F=>g.write(`\x1B[31m${F}\x1B[0m\r
`)),v.current.push(...E.map(F=>({type:"error",text:F})));else{const F=JSON.parse(JSON.stringify(x.current));C.current.push(F),v.current.push({type:"command",text:`$ ${b}`}),c(W=>{const se=new Map(W.nodes.map(he=>[he.id,he]));return{nodes:A.map(he=>{const U=se.get(he.id);return U?{...he,isPinned:U.isPinned,fx:U.fx,fy:U.fy}:he}),links:N}}),m.current=Ua({nodes:A,links:N}),R.forEach(W=>g.write(`\x1B[33m${W}\x1B[0m\r
`)),a.current="dfa"}o()}}}else d.key==="Backspace"?h.current.length>0&&(h.current=h.current.slice(0,-1),k.current.write("\b \b")):w&&(h.current+=f,k.current.write(f))}),window.addEventListener("resize",()=>L.current.fit()),()=>k.current.dispose()),[c]),J.jsx("div",{ref:D,style:{width:"100%",height:"100%",background:"#1e1e1e",borderRadius:"4px",overflow:"hidden"}});function o(){const d=a.current==="bdd"?"\x1B[35mBD$\x1B[0m ":"\x1B[32m$ \x1B[0m";k.current.write(d)}}function zy(r){const c=y=>`\x1B[1m\x1B[36m${y}\x1B[0m`,p=y=>`\x1B[33m${y}\x1B[0m`;r.writeln(c("DFA CLI Manual")),r.writeln(c("Building & Editing")),r.writeln(p("$ s s' <labels>")+' : Add transition(s). <labels> can be comma-separated (e.g., "0,1").'),r.writeln(p("$ cnode s1,>s2,s3")+' : Create nodes s1, s2, s3; prefix ">" makes that node initial (e.g., >s2).'),r.writeln(p("$ dnode s1,s2,...")+" : Delete listed nodes and their incident edges."),r.writeln(p("$ initial s1")+" : Mark listed node as initial."),r.writeln(p("$ final s1,s2,...")+" : Mark listed nodes as final."),r.writeln(p("$ unfinal s1,s2,...")+" : Unmark listed nodes as final."),r.writeln(p("$ dtrans s1 s2")+" : Delete all transitions from s1 to s2."),r.writeln(p("$ dtrans s1 s2 i1,i2,...")+" : Delete only s1s2 transitions with these labels."),r.writeln(p("$ chtrans s1 s2 i1,i2,...")+" : Replace ALL labels on s1s2 with i1,i2,... (DFA totality validated)."),r.writeln(c("Introspection")),r.writeln(p("$ mydfa")+" : Print the 5-tuple (Q, , q, F, )."),r.writeln(p("$ allstates")+" : List all states."),r.writeln(p("$ allfinal")+" : List all final states."),r.writeln(p("$ allinitial")+" : Show the initial state (if any)."),r.writeln(p("$ alltransitions")+" : List all transitions."),r.writeln(p("$ alphabet")+" : List the alphabet (transition labels)."),r.writeln(p("$ accept <word>")+' : Check membership; prints "accepted" or "rejected".'),r.writeln(c("Files")),r.writeln(p("$ save <name>")+" : Save current view to <name>.json (DFA enforces completeness; BDD saves as-is)."),r.writeln(p("$ load [right]")+" : Load JSON; DFA goes to DFA view, generic/BDD goes to BDD view."),r.writeln(c("Set Operations")),r.writeln(p("$ union / intersect")+" : Product of left & right DFAs (DFA view only)."),r.writeln(c("BDD / Symbolic")),r.writeln(p("$ showbdd")+" : Show BDD equivalent of the current DFA (enters read-only BDD view)."),r.writeln(p("$ showmono [I|T|S|all]")+" : Print monolithic I, T, S formula part(s)."),r.writeln(p("$ back")+" : Return from BDD view to DFA view."),r.writeln(c("Session")),r.writeln(p("$ undo")+" : Undo the last successful command."),r.writeln(p("$ reset")+" : Clear terminal and canvas.")}function v_(r,c){const p=new Blob([r],{type:"application/json"}),y=URL.createObjectURL(p),D=document.createElement("a");D.href=y,D.download=c,D.click(),URL.revokeObjectURL(y)}function g_(r,c){var l;const p=r.map(u=>u.id),y=((l=r.find(u=>u.isInitial))==null?void 0:l.id)??null,D=r.filter(u=>u.isFinal).map(u=>u.id),k=[...new Set((c||[]).flatMap(u=>(u.label||"").split(",").map(h=>h.trim()).filter(Boolean)))],L=(c||[]).flatMap(u=>{var S,x;const h=typeof u.source=="string"?u.source:(S=u.source)==null?void 0:S.id,m=typeof u.target=="string"?u.target:(x=u.target)==null?void 0:x.id;return(u.label||"").split(",").map(T=>T.trim()).filter(Boolean).map(T=>[h,T,m])});return{Q:p,:k,q0:y,F:D,:L}}function Uy(r){const c=[...r.Q].sort(),p=[...r.].sort(),y=Math.max(1,Math.ceil(Math.log2(Math.max(1,c.length)))),D=Math.max(1,Math.ceil(Math.log2(Math.max(1,p.length)))),k=new Map(c.map((l,u)=>[l,Oc(u,y)])),L=new Map(p.map((l,u)=>[l,Oc(u,D)]));return{qBits:y,aBits:D,encQ:k,encA:L}}function Oc(r,c){const p=[];for(let y=0;y<c;y++)p.push(r>>y&1?1:0);return p}function un(r,c){return r.map((p,y)=>p?`${c}${y}`:`${c}${y}`).join("  ")}function jy(r,c){const p=c.encQ.get(r.q0??r.Q[0])||Oc(0,c.qBits),y=un(p,"x"),D=r.F||[],k=D.length?D.map(u=>`(${un(c.encQ.get(u),"x'")})`).join("  "):"false",L=r..map(([u,h,m])=>{const v=un(c.encQ.get(u),"x"),S=un(c.encA.get(h),"a"),x=un(c.encQ.get(m),"x'");return`(${v})  (${S})  (${x})`}),l=L.length?L.map(u=>`(${u})`).join("  "):"false";return{I:y,T:l,S:k}}function xc(r){return`\x1B[36m${r}\x1B[0m`}function Ua(r){var l;const c=r.nodes??[],p=r.links??[],y=((l=c.find(u=>u.isInitial))==null?void 0:l.id)||"",D=c.filter(u=>!u.isInitial).map(u=>u.id),k=[],L=[y?">"+y:null,...D].filter(Boolean).join(",");return L&&k.push(`cnode ${L}`),c.filter(u=>u.isFinal&&!u.isInitial).forEach(u=>k.push(`final ${u.id}`)),p.forEach(u=>{const h=typeof u.source=="string"?u.source:u.source.id,m=typeof u.target=="string"?u.target:u.target.id;(u.label||"").split(",").map(v=>v.trim()).filter(Boolean).forEach(v=>k.push(`${h} ${m} ${v}`))}),k}function qy(){const r=()=>{window.location.hash=""};return J.jsxs("div",{className:"manual-page",children:[J.jsxs("div",{className:"manual-header",children:[J.jsx("button",{className:"back-btn",onClick:r,children:" Back"}),J.jsx("h1",{children:"Manual"})]}),J.jsxs("div",{className:"manual-body",children:[J.jsxs("p",{children:["This DFA CLI visualiser lets you use commands in a terminal-like input box to create, edit and store DFAs. The terminal will generate friendly reminders to achieve totality, report any violations in syntax or determinism.",J.jsx("br",{})," ",J.jsx("h3",{children:"The exhaustive list of commands is given below:"})]}),J.jsx("h2",{children:"Building & Editing"}),J.jsxs("pre",{children:[J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"<from>"})," ",J.jsx("span",{className:"arg",children:"<to> <labels>"}),"    ",J.jsx("span",{className:"desc",children:"Add transition(s). Labels comma-separated (e.g., 0,1)."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"cnode"})," ",J.jsx("span",{className:"arg",children:"s1,>s2,s3"}),"         ",J.jsx("span",{className:"desc",children:"Create nodes; prefix > marks the initial."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"dnode"})," ",J.jsx("span",{className:"arg",children:"s1,s2,..."}),"         ",J.jsx("span",{className:"desc",children:"Delete nodes (and incident edges)."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"initial"})," ",J.jsx("span",{className:"arg",children:"s1"}),"              ",J.jsx("span",{className:"desc",children:"Marks node initial or changes a previuos initial node to current argument."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"final"})," ",J.jsx("span",{className:"arg",children:"s1,s2,..."}),"         ",J.jsx("span",{className:"desc",children:"Mark nodes final."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"unfinal"})," ",J.jsx("span",{className:"arg",children:"s1,s2,..."}),"       ",J.jsx("span",{className:"desc",children:"Unmark final."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"dtrans"})," ",J.jsx("span",{className:"arg",children:"s1 s2"}),"            ",J.jsx("span",{className:"desc",children:"Delete all s1s2 transitions."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"dtrans"})," ",J.jsx("span",{className:"arg",children:"s1 s2 i1,i2,..."}),"  ",J.jsx("span",{className:"desc",children:"Delete only those labels."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"chtrans"})," ",J.jsx("span",{className:"arg",children:"s1 s2 i1,i2,..."})," ",J.jsx("span",{className:"desc",children:"Replace labels on s1s2."})]})]}),J.jsx("h2",{children:"Introspection"}),J.jsxs("pre",{children:[J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"mydfa"}),"            ",J.jsx("span",{className:"desc",children:"Print 5-tuple (Q, , q, F, )."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"allstates"}),"        ",J.jsx("span",{className:"desc",children:"List states."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"allfinal"}),"         ",J.jsx("span",{className:"desc",children:"List final states."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"allinitial"}),"       ",J.jsx("span",{className:"desc",children:"Show the initial state."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"alltransitions"}),"   ",J.jsx("span",{className:"desc",children:"List transitions."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"alphabet"}),"         ",J.jsx("span",{className:"desc",children:"List  (labels)."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"accept"})," ",J.jsx("span",{className:"arg",children:"<word>"}),"    ",J.jsx("span",{className:"desc",children:"Check membership (accepted/rejected)."})]})]}),J.jsx("h2",{children:"Files"}),J.jsxs("pre",{children:[J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"save"})," ",J.jsx("span",{className:"arg",children:"<name>"}),"      ",J.jsx("span",{className:"desc",children:"Save DFA to <name>.json"})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"load"}),"             ",J.jsx("span",{className:"desc",children:"Load into left slot (default)."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"load"})," ",J.jsx("span",{className:"arg",children:"right"}),"       ",J.jsx("span",{className:"desc",children:"Load into right slot."})]})]}),J.jsx("h2",{children:"Set Operations"}),J.jsxs("pre",{children:[J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"union"}),"            ",J.jsx("span",{className:"desc",children:"left  right"})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"intersect"}),"        ",J.jsx("span",{className:"desc",children:"left  right"})]})]}),J.jsx("h2",{children:"BDD / Symbolic"}),J.jsx("span",{className:"note",children:"The BDD represents the monolithic partition of the DFA. Where T is the "}),J.jsxs("pre",{children:[J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"showbdd"}),"                  ",J.jsx("span",{className:"desc",children:"Relational BDD T(x, a, x), corresponding to the monolithic representation of the DFA."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"showmono"})," ",J.jsx("span",{className:"arg",children:"[I|T|S|all]"}),"     ",J.jsx("span",{className:"desc",children:"Print monolithic I, T, S formula part(s)."})]})]}),J.jsx("h2",{children:"Session"}),J.jsxs("pre",{children:[J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"undo"}),"             ",J.jsx("span",{className:"desc",children:"Undo last successful command."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"reset"}),"            ",J.jsx("span",{className:"desc",children:"Clear terminal and canvas."})]})]}),J.jsx("h2",{children:"Help"}),J.jsxs("pre",{children:[J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"?"}),"                 ",J.jsx("span",{className:"desc",children:"Print command manual in terinal."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"help"}),"              ",J.jsx("span",{className:"desc",children:"Print command manual in terinal."})]}),J.jsxs("span",{className:"ln",children:[J.jsx("span",{className:"prompt",children:"$"})," ",J.jsx("span",{className:"cmd",children:"manual"}),"            ",J.jsx("span",{className:"desc",children:"Print command manual in terinal."})]})]}),J.jsxs("p",{className:"note",children:["Tips:",J.jsxs("li",{children:["You can also mark initial inline in transitions:",J.jsx("code",{children:">a b 1 "}),"."]}),J.jsxs("li",{children:[J.jsx("code",{children:"$save"})," is only possible when the created transition system is a DFA."]})]})]})]})}function Iy(){document.title="DFA CLI visualizer";const[r,c]=De.useState({nodes:[],links:[]}),[p,y]=De.useState(!1),[D,k]=De.useState("dfa"),L=De.useRef(null),l=De.useRef(!1),u=De.useRef(0),h=De.useRef(0),[m,v]=De.useState(()=>window.location.hash.slice(1)||"/");De.useEffect(()=>{const f=()=>v(window.location.hash.slice(1)||"/");return window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]);const[S,x]=De.useState(()=>{const f=Number(localStorage.getItem("termHeight"));return Number.isFinite(f)&&f>0?f:240}),[T,C]=De.useState(!1);De.useEffect(()=>{localStorage.setItem("termHeight",String(S))},[S]);const a=()=>{c({nodes:[],links:[]}),y(!1)},o=f=>{T&&C(!1),l.current=!0,u.current=f.clientY,h.current=S,f.preventDefault()};return De.useEffect(()=>{const f=g=>{if(!l.current)return;const w=L.current;if(!w)return;const B=w.getBoundingClientRect(),H=120,b=Math.max(160,B.height-100),M=Math.max(H,Math.min(b,B.bottom-g.clientY));x(M),window.dispatchEvent(new Event("resize"))},d=()=>{l.current=!1};return window.addEventListener("mousemove",f),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)}},[]),J.jsx("div",{className:"app-container",ref:L,children:m==="/manual"?J.jsx(qy,{}):J.jsxs(J.Fragment,{children:[J.jsx("button",{className:"help-button",onClick:()=>{window.location.hash="/manual"},title:"Open Manual",children:"Help"}),J.jsx("div",{className:"main-content",style:{height:T?0:`calc(100% - ${S}px - 6px)`},children:J.jsx(Dy,{graphData:r,viewMode:D})}),J.jsx("div",{className:"splitter",onMouseDown:o}),J.jsxs("div",{className:`footer ${T?"max":""}`,style:{height:T?"calc(100% - 6px)":`${S}px`},children:[J.jsx("div",{className:"panel-header",onMouseDown:o,title:"Drag to resize",children:J.jsx("div",{className:"panel-title",children:"Input Terminal"})}),J.jsx("div",{className:"panel-body",children:J.jsx(Ny,{setGraphData:c,graphData:r,onReset:a,setViewMode:k})})]})]})})}gg.createRoot(document.getElementById("root")).render(J.jsx(og.StrictMode,{children:J.jsx(Iy,{})}));
